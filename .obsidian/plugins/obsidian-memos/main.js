"use strict";var k6=Object.defineProperty;var F6=(e,t,n)=>t in e?k6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>(F6(e,typeof t!="symbol"?t+"":t,n),n);const F=require("obsidian"),u0=require("@codemirror/language"),Wp=require("@codemirror/state"),bi=require("@codemirror/view");var Vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Y2={exports:{}},Ep={},H2={exports:{}},kt={},Tb;function N6(){if(Tb)return kt;Tb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function M(V,G,le){this.props=V,this.context=G,this.refs=E,this.updater=le||b}M.prototype.isReactComponent={},M.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function k(){}k.prototype=M.prototype;function I(V,G,le){this.props=V,this.context=G,this.refs=E,this.updater=le||b}var B=I.prototype=new k;B.constructor=I,T(B,M.prototype),B.isPureReactComponent=!0;var N=Array.isArray,j=Object.prototype.hasOwnProperty,R={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function $(V,G,le){var we,ue={},De=null,Re=null;if(G!=null)for(we in G.ref!==void 0&&(Re=G.ref),G.key!==void 0&&(De=""+G.key),G)j.call(G,we)&&!_.hasOwnProperty(we)&&(ue[we]=G[we]);var Ye=arguments.length-2;if(Ye===1)ue.children=le;else if(1<Ye){for(var Be=Array(Ye),yt=0;yt<Ye;yt++)Be[yt]=arguments[yt+2];ue.children=Be}if(V&&V.defaultProps)for(we in Ye=V.defaultProps,Ye)ue[we]===void 0&&(ue[we]=Ye[we]);return{$$typeof:e,type:V,key:De,ref:Re,props:ue,_owner:R.current}}function q(V,G){return{$$typeof:e,type:V.type,key:G,ref:V.ref,props:V.props,_owner:V._owner}}function z(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function ee(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return G[le]})}var ie=/\/+/g;function ae(V,G){return typeof V=="object"&&V!==null&&V.key!=null?ee(""+V.key):G.toString(36)}function me(V,G,le,we,ue){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Re=!1;if(V===null)Re=!0;else switch(De){case"string":case"number":Re=!0;break;case"object":switch(V.$$typeof){case e:case t:Re=!0}}if(Re)return Re=V,ue=ue(Re),V=we===""?"."+ae(Re,0):we,N(ue)?(le="",V!=null&&(le=V.replace(ie,"$&/")+"/"),me(ue,G,le,"",function(yt){return yt})):ue!=null&&(z(ue)&&(ue=q(ue,le+(!ue.key||Re&&Re.key===ue.key?"":(""+ue.key).replace(ie,"$&/")+"/")+V)),G.push(ue)),1;if(Re=0,we=we===""?".":we+":",N(V))for(var Ye=0;Ye<V.length;Ye++){De=V[Ye];var Be=we+ae(De,Ye);Re+=me(De,G,le,Be,ue)}else if(Be=w(V),typeof Be=="function")for(V=Be.call(V),Ye=0;!(De=V.next()).done;)De=De.value,Be=we+ae(De,Ye++),Re+=me(De,G,le,Be,ue);else if(De==="object")throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Re}function fe(V,G,le){if(V==null)return V;var we=[],ue=0;return me(V,we,"","",function(De){return G.call(le,De,ue++)}),we}function be(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var Te={current:null},J={transition:null},ve={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:J,ReactCurrentOwner:R};return kt.Children={map:fe,forEach:function(V,G,le){fe(V,function(){G.apply(this,arguments)},le)},count:function(V){var G=0;return fe(V,function(){G++}),G},toArray:function(V){return fe(V,function(G){return G})||[]},only:function(V){if(!z(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},kt.Component=M,kt.Fragment=n,kt.Profiler=a,kt.PureComponent=I,kt.StrictMode=r,kt.Suspense=d,kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,kt.cloneElement=function(V,G,le){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var we=T({},V.props),ue=V.key,De=V.ref,Re=V._owner;if(G!=null){if(G.ref!==void 0&&(De=G.ref,Re=R.current),G.key!==void 0&&(ue=""+G.key),V.type&&V.type.defaultProps)var Ye=V.type.defaultProps;for(Be in G)j.call(G,Be)&&!_.hasOwnProperty(Be)&&(we[Be]=G[Be]===void 0&&Ye!==void 0?Ye[Be]:G[Be])}var Be=arguments.length-2;if(Be===1)we.children=le;else if(1<Be){Ye=Array(Be);for(var yt=0;yt<Be;yt++)Ye[yt]=arguments[yt+2];we.children=Ye}return{$$typeof:e,type:V.type,key:ue,ref:De,props:we,_owner:Re}},kt.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:i,_context:V},V.Consumer=V},kt.createElement=$,kt.createFactory=function(V){var G=$.bind(null,V);return G.type=V,G},kt.createRef=function(){return{current:null}},kt.forwardRef=function(V){return{$$typeof:c,render:V}},kt.isValidElement=z,kt.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:be}},kt.memo=function(V,G){return{$$typeof:h,type:V,compare:G===void 0?null:G}},kt.startTransition=function(V){var G=J.transition;J.transition={};try{V()}finally{J.transition=G}},kt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},kt.useCallback=function(V,G){return Te.current.useCallback(V,G)},kt.useContext=function(V){return Te.current.useContext(V)},kt.useDebugValue=function(){},kt.useDeferredValue=function(V){return Te.current.useDeferredValue(V)},kt.useEffect=function(V,G){return Te.current.useEffect(V,G)},kt.useId=function(){return Te.current.useId()},kt.useImperativeHandle=function(V,G,le){return Te.current.useImperativeHandle(V,G,le)},kt.useInsertionEffect=function(V,G){return Te.current.useInsertionEffect(V,G)},kt.useLayoutEffect=function(V,G){return Te.current.useLayoutEffect(V,G)},kt.useMemo=function(V,G){return Te.current.useMemo(V,G)},kt.useReducer=function(V,G,le){return Te.current.useReducer(V,G,le)},kt.useRef=function(V){return Te.current.useRef(V)},kt.useState=function(V){return Te.current.useState(V)},kt.useSyncExternalStore=function(V,G,le){return Te.current.useSyncExternalStore(V,G,le)},kt.useTransition=function(){return Te.current.useTransition()},kt.version="18.2.0",kt}H2.exports=N6();var A=H2.exports;const Q=qn(A);var Cb;function I6(){if(Cb)return Ep;Cb=1;var e=A,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(c,d,h){var g,m={},w=null,b=null;h!==void 0&&(w=""+h),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(b=d.ref);for(g in d)r.call(d,g)&&!i.hasOwnProperty(g)&&(m[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)m[g]===void 0&&(m[g]=d[g]);return{$$typeof:t,type:c,key:w,ref:b,props:m,_owner:a.current}}return Ep.Fragment=n,Ep.jsx=s,Ep.jsxs=s,Ep}Y2.exports=I6();var D=Y2.exports;const If=e=>{const{children:t,store:n,context:r}=e,[a,i]=A.useState(n.getState());return A.useEffect(()=>{const s=n.subscribe(c=>{i(c)});return()=>{s()}},[]),D.jsx(r.Provider,{value:a,children:t})};function A6(e){const t=Object.keys(e),n={};for(const r of t)typeof e[r]=="function"&&(n[r]=e[r]);return(r={},a)=>{let i=!1;const s={};for(const c of t){const d=r[c],h=n[c](d,a);s[c]=h,i=i||h!==d}return i?s:r}}function O6(e,t){const n=[];let r=e;return{dispatch:c=>{const d=t(r,c),h=r;r=d;for(const g of n)g(r,h)},getState:()=>r,subscribe:c=>{let d=!0;return n.push(c),()=>{if(!d)return;const h=n.indexOf(c);n.splice(h,1),d=!1}}}}function R6(e,t){switch(t.type){case"SET_MARK_MEMO_ID":return t.payload.markMemoId===e.markMemoId?e:{...e,markMemoId:t.payload.markMemoId};case"SET_EDIT_MEMO_ID":return t.payload.editMemoId===e.editMemoId?e:{...e,editMemoId:t.payload.editMemoId};case"SET_GLOBAL_EDITOR_SHOWN":return t.payload.globalEditorShown===e.globalEditorShown?e:{...e,globalEditorShown:t.payload.globalEditorShown};case"SET_COMMENT_MEMO_ID":return t.payload.commentMemoId===e.commentMemoId?e:{...e,commentMemoId:t.payload.commentMemoId};case"SET_MOBILE_VIEW":return t.payload.isMobileView===e.isMobileView?e:{...e,isMobileView:t.payload.isMobileView};case"SET_CHANGED_BY_MEMOS":return t.payload.changedByMemos===e.changedByMemos?e:{...e,changedByMemos:t.payload.changedByMemos};case"SET_REFRESH":return t.payload.refresh===e.refresh?e:{...e,refresh:t.payload.refresh};case"SET_INSTANCE":return e.instanceList.has(t.payload.id)?e:{...e,instanceList:e.instanceList.set(t.payload.id,t.payload.instance)};case"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW":return t.payload.showSiderbarInMobileView===e.showSiderbarInMobileView?e:{...e,showSiderbarInMobileView:t.payload.showSiderbarInMobileView};case"SET_MEMO_LIST_VIEW":return t.payload.memoListView===e.memoListView?e:{...e,memoListView:t.payload.memoListView};case"SET_MEMO_PLUGIN_MANIFEST":return{...e,manifest:t.payload.manifest};case"SET_LOADED":return{...e,loaded:t.payload.loaded};case"SET_APP_SETTING":return{...e,...t.payload};default:return e}}const L6={markMemoId:"",editMemoId:"",commentMemoId:"",shouldSplitMemoWord:!0,shouldHideImageUrl:!0,shouldUseMarkdownParser:!0,useTinyUndoHistoryCache:!1,isMobileView:!1,showSiderbarInMobileView:!1,changedByMemos:!1,memoListView:"list",manifest:null,refresh:!1,loaded:!1,globalEditorShown:!1,instanceList:new Map};function _6(e,t){switch(t.type){case"RELOAD":return U2;case"SET_LOCATION":return t.payload;case"SET_PATHNAME":return t.payload.pathname===e.pathname?e:{...e,pathname:t.payload.pathname};case"SET_HASH":return t.payload.hash===e.hash?e:{...e,hash:t.payload.hash};case"SET_QUERY":return{...e,query:{...t.payload}};case"SET_TAG_QUERY":return t.payload.tag===e.query.tag?e:{...e,query:{...e.query,tag:t.payload.tag}};case"SET_DURATION_QUERY":return t.payload.duration===e.query.duration?e:{...e,query:{...e.query,duration:{...e.query.duration,...t.payload.duration}}};case"SET_TYPE":return t.payload.type===e.query.type?e:{...e,query:{...e.query,type:t.payload.type}};case"SET_TEXT":return t.payload.text===e.query.text?e:{...e,query:{...e.query,text:t.payload.text}};case"SET_QUERY_FILTER":return t.payload===e.query.filter?e:{...e,query:{...e.query,filter:t.payload}};default:return e}}const U2={pathname:"/",hash:"",query:{tag:"",duration:null,type:"",text:"",filter:""}};var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});var yn=F;const J0="YYYY-MM-DD",X0="gggg-[W]ww",V2="YYYY-MM",z2="YYYY-[Q]Q",$2="YYYY";function uh(e){var n,r;const t=window.app.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n[e])==null?void 0:r.enabled)}function ch(){var e,t,n,r;try{const{internalPlugins:a,plugins:i}=window.app;if(uh("daily")){const{format:h,folder:g,template:m}=((t=(e=i.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:t.daily)||{};return{format:h||J0,folder:(g==null?void 0:g.trim())||"",template:(m==null?void 0:m.trim())||""}}const{folder:s,format:c,template:d}=((r=(n=a.getPluginById("daily-notes"))==null?void 0:n.instance)==null?void 0:r.options)||{};return{format:c||J0,folder:(s==null?void 0:s.trim())||"",template:(d==null?void 0:d.trim())||""}}catch{}}function fh(){var e,t,n,r,a,i,s;try{const c=window.app.plugins,d=(e=c.getPlugin("calendar"))==null?void 0:e.options,h=(n=(t=c.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.weekly;if(uh("weekly"))return{format:h.format||X0,folder:((r=h.folder)==null?void 0:r.trim())||"",template:((a=h.template)==null?void 0:a.trim())||""};const g=d||{};return{format:g.weeklyNoteFormat||X0,folder:((i=g.weeklyNoteFolder)==null?void 0:i.trim())||"",template:((s=g.weeklyNoteTemplate)==null?void 0:s.trim())||""}}catch{}}function dh(){var t,n,r,a;const e=window.app.plugins;try{const i=uh("monthly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.monthly)||{};return{format:i.format||V2,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((a=i.template)==null?void 0:a.trim())||""}}catch{}}function ph(){var t,n,r,a;const e=window.app.plugins;try{const i=uh("quarterly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.quarterly)||{};return{format:i.format||z2,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((a=i.template)==null?void 0:a.trim())||""}}catch{}}function hh(){var t,n,r,a;const e=window.app.plugins;try{const i=uh("yearly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.yearly)||{};return{format:i.format||$2,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((a=i.template)==null?void 0:a.trim())||""}}catch{}}function q2(...e){let t=[];for(let r=0,a=e.length;r<a;r++)t=t.concat(e[r].split("/"));const n=[];for(let r=0,a=t.length;r<a;r++){const i=t[r];!i||i==="."||n.push(i)}return t[0]===""&&n.unshift(""),n.join("/")}function P6(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function j6(e){const t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){const n=q2(...t);window.app.vault.getAbstractFileByPath(n)||await window.app.vault.createFolder(n)}}async function mh(e,t){t.endsWith(".md")||(t+=".md");const n=yn.normalizePath(q2(e,t));return await j6(n),n}async function Af(e){const{metadataCache:t,vault:n}=window.app,r=yn.normalizePath(e);if(r==="/")return Promise.resolve(["",null]);try{const a=t.getFirstLinkpathDest(r,""),i=await n.cachedRead(a),s=window.app.foldManager.load(a);return[i,s]}catch(a){return console.error(`Failed to read the daily note template '${r}'`,a),new yn.Notice("Failed to read the daily note template"),["",null]}}function Lo(e,t="day"){const n=e.clone().startOf(t).format();return`${t}-${n}`}function W2(e){return e.replace(/\[[^\]]*\]/g,"")}function B6(e,t){if(t==="week"){const n=W2(e);return/w{1,2}/i.test(n)&&(/M{1,4}/.test(n)||/D{1,4}/.test(n))}return!1}function Of(e,t){return G2(e.basename,t)}function Y6(e,t){return G2(P6(e),t)}function G2(e,t){const r={day:ch,week:fh,month:dh,quarter:ph,year:hh}[t]().format.split("/").pop(),a=window.moment(e,r,!0);if(!a.isValid())return null;if(B6(r,t)&&t==="week"){const i=W2(r);if(/w{1,2}/i.test(i))return window.moment(e,r.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return a}class H6 extends Error{}async function K2(e){const t=window.app,{vault:n}=t,r=window.moment,{template:a,format:i,folder:s}=ch(),[c,d]=await Af(a),h=e.format(i),g=await mh(s,h);try{const m=await n.create(g,c.replace(/{{\s*date\s*}}/gi,h).replace(/{{\s*time\s*}}/gi,r().format("HH:mm")).replace(/{{\s*title\s*}}/gi,h).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(w,b,T,E,M,k)=>{const I=r(),B=e.clone().set({hour:I.get("hour"),minute:I.get("minute"),second:I.get("second")});return T&&B.add(parseInt(E,10),M),k?B.format(k.substring(1).trim()):B.format(i)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(i)));return t.foldManager.save(m,d),m}catch(m){console.error(`Failed to create file: '${g}'`,m),new yn.Notice("Unable to create new file.")}}function U6(e,t){return t[Lo(e,"day")]??null}function V6(){const{vault:e}=window.app,{folder:t}=ch(),n=e.getAbstractFileByPath(yn.normalizePath(t));if(!n)throw new H6("Failed to find daily notes folder");const r={};return yn.Vault.recurseChildren(n,a=>{if(a instanceof yn.TFile){const i=Of(a,"day");if(i){const s=Lo(i,"day");r[s]=a}}}),r}class z6 extends Error{}function $6(){const{moment:e}=window;let t=e.localeData()._week.dow;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)n.push(n.shift()),t--;return n}function q6(e){return $6().indexOf(e.toLowerCase())}async function Q2(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=fh(),[i,s]=await Af(n),c=e.format(r),d=await mh(a,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(g,m,w,b,T,E)=>{const M=window.moment(),k=e.clone().set({hour:M.get("hour"),minute:M.get("minute"),second:M.get("second")});return w&&k.add(parseInt(b,10),T),E?k.format(E.substring(1).trim()):k.format(r)}).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(g,m,w)=>{const b=q6(m);return e.weekday(b).format(w.trim())}));return window.app.foldManager.save(h,s),h}catch(h){console.error(`Failed to create file: '${d}'`,h),new yn.Notice("Unable to create new file.")}}function W6(e,t){return t[Lo(e,"week")]??null}function G6(){const e={};if(!J2())return e;const{vault:t}=window.app,{folder:n}=fh(),r=t.getAbstractFileByPath(yn.normalizePath(n));if(!r)throw new z6("Failed to find weekly notes folder");return yn.Vault.recurseChildren(r,a=>{if(a instanceof yn.TFile){const i=Of(a,"week");if(i){const s=Lo(i,"week");e[s]=a}}}),e}class K6 extends Error{}async function Z2(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=dh(),[i,s]=await Af(n),c=e.format(r),d=await mh(a,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(g,m,w,b,T,E)=>{const M=window.moment(),k=e.clone().set({hour:M.get("hour"),minute:M.get("minute"),second:M.get("second")});return w&&k.add(parseInt(b,10),T),E?k.format(E.substring(1).trim()):k.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(h,s),h}catch(h){console.error(`Failed to create file: '${d}'`,h),new yn.Notice("Unable to create new file.")}}function Q6(e,t){return t[Lo(e,"month")]??null}function Z6(){const e={};if(!X2())return e;const{vault:t}=window.app,{folder:n}=dh(),r=t.getAbstractFileByPath(yn.normalizePath(n));if(!r)throw new K6("Failed to find monthly notes folder");return yn.Vault.recurseChildren(r,a=>{if(a instanceof yn.TFile){const i=Of(a,"month");if(i){const s=Lo(i,"month");e[s]=a}}}),e}class J6 extends Error{}async function X6(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=ph(),[i,s]=await Af(n),c=e.format(r),d=await mh(a,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(g,m,w,b,T,E)=>{const M=window.moment(),k=e.clone().set({hour:M.get("hour"),minute:M.get("minute"),second:M.get("second")});return w&&k.add(parseInt(b,10),T),E?k.format(E.substring(1).trim()):k.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(h,s),h}catch(h){console.error(`Failed to create file: '${d}'`,h),new yn.Notice("Unable to create new file.")}}function e8(e,t){return t[Lo(e,"quarter")]??null}function t8(){const e={};if(!eE())return e;const{vault:t}=window.app,{folder:n}=ph(),r=t.getAbstractFileByPath(yn.normalizePath(n));if(!r)throw new J6("Failed to find quarterly notes folder");return yn.Vault.recurseChildren(r,a=>{if(a instanceof yn.TFile){const i=Of(a,"quarter");if(i){const s=Lo(i,"quarter");e[s]=a}}}),e}class n8 extends Error{}async function r8(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=hh(),[i,s]=await Af(n),c=e.format(r),d=await mh(a,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(g,m,w,b,T,E)=>{const M=window.moment(),k=e.clone().set({hour:M.get("hour"),minute:M.get("minute"),second:M.get("second")});return w&&k.add(parseInt(b,10),T),E?k.format(E.substring(1).trim()):k.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(h,s),h}catch(h){console.error(`Failed to create file: '${d}'`,h),new yn.Notice("Unable to create new file.")}}function a8(e,t){return t[Lo(e,"year")]??null}function o8(){const e={};if(!tE())return e;const{vault:t}=window.app,{folder:n}=hh(),r=t.getAbstractFileByPath(yn.normalizePath(n));if(!r)throw new n8("Failed to find yearly notes folder");return yn.Vault.recurseChildren(r,a=>{if(a instanceof yn.TFile){const i=Of(a,"year");if(i){const s=Lo(i,"year");e[s]=a}}}),e}function i8(){var r,a;const{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;const n=e.plugins.getPlugin("periodic-notes");return n&&((a=(r=n.settings)==null?void 0:r.daily)==null?void 0:a.enabled)}function J2(){var n,r;const{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;const t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.weekly)==null?void 0:r.enabled)}function X2(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.monthly)==null?void 0:r.enabled)}function eE(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.quarterly)==null?void 0:r.enabled)}function tE(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.yearly)==null?void 0:r.enabled)}function s8(e){const t={day:ch,week:fh,month:dh,quarter:ph,year:hh}[e];return t()}function l8(e,t){return{day:K2,month:Z2,week:Q2}[e](t)}Nt.DEFAULT_DAILY_NOTE_FORMAT=J0;Nt.DEFAULT_MONTHLY_NOTE_FORMAT=V2;Nt.DEFAULT_QUARTERLY_NOTE_FORMAT=z2;Nt.DEFAULT_WEEKLY_NOTE_FORMAT=X0;Nt.DEFAULT_YEARLY_NOTE_FORMAT=$2;var nE=Nt.appHasDailyNotesPluginLoaded=i8;Nt.appHasMonthlyNotesPluginLoaded=X2;Nt.appHasQuarterlyNotesPluginLoaded=eE;Nt.appHasWeeklyNotesPluginLoaded=J2;Nt.appHasYearlyNotesPluginLoaded=tE;var rE=Nt.createDailyNote=K2;Nt.createMonthlyNote=Z2;Nt.createPeriodicNote=l8;Nt.createQuarterlyNote=X6;Nt.createWeeklyNote=Q2;Nt.createYearlyNote=r8;var Au=Nt.getAllDailyNotes=V6;Nt.getAllMonthlyNotes=Z6;Nt.getAllQuarterlyNotes=t8;Nt.getAllWeeklyNotes=G6;Nt.getAllYearlyNotes=o8;var Sv=Nt.getDailyNote=U6,Kg=Nt.getDailyNoteSettings=ch,Bp=Nt.getDateFromFile=Of;Nt.getDateFromPath=Y6;Nt.getDateUID=Lo;Nt.getMonthlyNote=Q6;Nt.getMonthlyNoteSettings=dh;Nt.getPeriodicNoteSettings=s8;Nt.getQuarterlyNote=e8;Nt.getQuarterlyNoteSettings=ph;Nt.getTemplateInfo=Af;Nt.getWeeklyNote=W6;Nt.getWeeklyNoteSettings=fh;Nt.getYearlyNote=a8;Nt.getYearlyNoteSettings=hh;const u8={},c8={},f8={},d8={},aE={welcome:"Welcome to Thino",ribbonIconTitle:"Thino",to:"to",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekDaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],year:null,month:null,"Basic Options":"Basic options","User name in Memos":"User name in Thino","Set your user name here. 'Memos 😏' By default":"Set your user name here. 'Thino 😏' By default","Insert after heading":"Insert after heading","You should set the same heading below if you want to insert and process memos below the same heading.":"You should set the same heading below if you want to insert and process thino below the same heading.","Allows admonitions to be created using ":"Allows admonitions to be created using ","Process Memos below":"Process thino below","Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.":"Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.","Save Memo button label":"Save thino button label","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"The text shown on the save Thino button in the UI. 'NOTEIT' by default.","Focus on editor when open memos":"Focus on editor when open thino","Focus on editor when open memos. Focus by default.":"Focus on editor when open thino. Focus by default.","Open daily memos with open memos":"Open daily thino with open thino","Open daily memos with open memos. Open by default.":"Open daily thino with open thino. Open by default.","Open Memos when obsidian opens":"Open Thino when obsidian opens","When enable this, Memos will open when Obsidian opens. False by default.":"When enable this, Thino will open when Obsidian opens. False by default.","Hide done tasks in Memo list":"Hide done tasks in Thino list","Hide all done tasks in Memo list. Show done tasks by default.":"Hide all done tasks in Thino list. Show done tasks by default.","Advanced Options":"Advanced Options","UI language for date":"UI language for date","Translates the date UI language. Only 'en' and 'zh' are available.":"Translates the date UI language. Only 'en' and 'zh' are available.","Default prefix":"Default prefix","Set the default prefix when create memo, 'List' by default.":"Set the default prefix when create thino, 'List' by default.","Default insert date format":"Default insert date format","Set the default date format when insert date by @, 'Tasks' by default.":"Set the default date format when insert date by @, 'Tasks' by default.","Default editor position on mobile":"Default editor position on mobile","Set the default editor position on Mobile, 'Top' by default.":"Set the default editor position on Mobile, 'Top' by default.","Use button to show editor on mobile":"Use button to show editor on mobile","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Set a float button to call editor on mobile. Only when editor located at the bottom works.","Show Time When Copy Results":"Show Time When Copy Results","Show time when you copy results, like 12:00. Copy time by default.":"Show time when you copy results, like 12:00. Copy time by default.","Show Date When Copy Results":"Show Date When Copy Results","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Show date when you copy results, like [[2022-01-01]]. Copy date by default.","Add Blank Line Between Different Date":"Add Blank Line Between Different Date","Add blank line when copy result with date. No blank line by default.":"Add blank line when copy result with date. No blank line by default.","Share Options":"Share Options","Share Memos Image Footer Start":"Share Thino Image Footer Start","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default","Share Memos Image Footer End":"Share Thino Image Footer End","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default","Save Shared Image To Folder For Mobile":"Save Shared Image To Folder For Mobile","Save image to folder for mobile. False by Default":"Save image to folder for mobile. False by Default","Say Thank You":"Say Thank You",Donate:"Donate","If you like this plugin, consider donating to support continued development:":"If you like this plugin, consider donating to support continued development:","File Name of Recycle Bin":"File Name of Recycle Bin","Set the filename for recycle bin. 'delete' By default":"Set the filename for recycle bin. 'delete' By default","File Name of Query File":"File Name of Query File","Set the filename for query file. 'query' By default":"Set the filename for query file. 'query' By default","Use Tags In Vault":"Use Tags In Vault","Use tags in vault rather than only in Memos. False by default.":"Use tags in vault rather than only in Thino. False by default.","Ready to convert image into background":"Ready to convert image into background",List:"List",Task:"Task",Top:"Top",Bottom:"Bottom",TAG:"TAG",DAY:"DAY",QUERY:"QUERY",EDIT:"EDIT",PIN:"PIN",UNPIN:"UNPIN",DELETE:"DELETE","CONFIRM！":"CONFIRM！","CREATE FILTER":"CREATE FILTER","Comment it...":"Comment it...",Settings:"Settings","Recycle bin":"Recycle bin","About Me":"About Me","Fetching data...":"Fetching data...","Here is No Memos.":"Here is No Thino.","Frequently Used Tags":"Frequently Used Tags","What do you think now...":"What do you think now...",READ:"READ",MARK:"MARK",SHARE:"SHARE",SOURCE:"SOURCE",RESTORE:"RESTORE",ARCHIVE:"Archive","DELETE AT":"DELETE AT","Noooop!":"Noooop!","All Data is Loaded 🎉":"All Data is Loaded 🎉","Quick filter":"Quick filter",TYPE:"TYPE",LINKED:"LINKED","NO TAGS":"NO TAGS","HAS LINKS":"HAS LINKS","HAS IMAGES":"HAS IMAGES",INCLUDE:"INCLUDE",EXCLUDE:"EXCLUDE",TEXT:"TEXT",IS:"IS",AND:"AND",OR:"OR",LIST:"LIST",ISNOT:"ISNOT",SELECT:"SELECT","ADD FILTER TERMS":"ADD FILTER TERMS",FILTER:"FILTER",Filter:"Filter",TITLE:"TITLE","CREATE QUERY":"CREATE QUERY","EDIT QUERY":"EDIT QUERY",MATCH:"MATCH",TIMES:"TIMES","Share Memo Image":"Share Thino Image","↗Click the button to save":"↗Click the button to save","Image is generating...":"Image is generating...","Image is loading...":"Image is loading...","Loading...":"Loading...","😟 Cannot load image, image link maybe broken":"😟 Cannot load image, image link maybe broken","Daily Memos":"Daily Thino","CANCEL EDIT":"CANCEL EDIT","LINK TO THE":"LINK TO THE","Mobile Options":"Mobile Options","Experimental Options":"Experimental Options","Don't support web image yet, please input image path in vault":"Don't support web image yet, please input image path in vault","Background Image in Dark Theme":"Background Image in Dark Theme","Background Image in Light Theme":"Background Image in Light Theme",'Set background image in dark theme. Set something like "Daily/one.png"':'Set background image in dark theme. Set something like "Daily/one.png"','Set background image in light theme. Set something like "Daily/one.png"':'Set background image in light theme. Set something like "Daily/one.png"','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Set default thino composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default',"Default Memo Composition":"[Deprecated] Default Thino Composition","Show Tasks Label":"Show Tasks Label","Show tasks label near the time text. False by default":"Show tasks label near the time text. False by default","Please Open Memos First":"Please Open Thino First",DATE:"DATE",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"BEFORE",AFTER:"AFTER","Allow Comments On Memos":"Allow Comments On Thino","You can comment on memos. False by default":"You can comment on thino. False by default",Import:"Import","TITLE CANNOT BE NULL!":"TITLE CANNOT BE NULL!","FILTER CANNOT BE NULL!":"FILTER CANNOT BE NULL!","Comments In Original DailyNotes/Notes":"Comments In Original DailyNotes/Notes","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"You should install Dataview Plugin ver 0.5.9 or later to use this feature.","Open Memos Successfully":"Open Thino Successfully","Fetch Memos Error":"😭 Fetch Error","Copied to clipboard Successfully":"Copied to clipboard Successfully","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Check if you opened Daily Notes Plugin Or Periodic Notes Plugin","Please finish the last filter setting first":"Please finish the last filter setting first","Close Memos Successfully":"Close Thino Successfully","Insert as Memo":"Insert as Thino","Insert file as memo content":"Insert file as thino content","Image load failed":"Image load failed","Content cannot be empty":"Content cannot be empty","Unable to create new file.":"Unable to create new file.","Failed to fetch deleted memos: ":"Failed to fetch deleted thino: ","RESTORE SUCCEED":"RESTORE SUCCEED","Save Memo button icon":"Save Thino button icon","The icon shown on the save Memo button in the UI.":"The icon shown on the save Thino button in the UI.","Fetch Memos From Particular Notes":"Fetch Thino From Particular Notes",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'You can set any Dataview Query for thino to fetch it. All thino in those notes will show on list. "#memo" by default',"Allow Memos to Fetch Memo from Notes":"Allow Thino to Fetch Thino from Notes","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"Use Thino to manage all thino in your notes, not only in daily notes. False by default","Always Show Memo Comments":"Always Show Thino Comments","Always show memo comments on memos. False by default":"Always show thino comments on thino. False by default","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.","Please check your daily note plugin OR periodic notes plugin settings":"Please check your daily note plugin OR periodic notes plugin settings","Use which plugin's default configuration":"Use which plugin's default configuration","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino use the plugin's default configuration to fetch thino from daily, 'Daily' by default.",Daily:"Daily","Always Show Leaf Sidebar on PC":"Always Show Leaf Sidebar on PC","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"Show left sidebar on PC even when the leaf width is less than 875px. False by default.","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set format for daily notes in both periodic-notes and daily-notes plugins.","fetch more":"fetch more","Search all settings":"Search all settings",General:"General",Theme:"Theme",Share:"Share",Advanced:"Advanced",Thino:"Thino","Random Review":"Random Review","ARCHIVED AT":"ARCHIVED AT","Failed to get memos from daily notes":"Failed to get thino from daily notes","Failed to delete memo":"Failed to delete thino","CTRL + ENTER to save":"CTRL + ENTER to save","Started from":"Started from","Custom Background Image":"Custom Background Image","Set custom background image.":"Set custom background image.","Custom Memo Footer":"Custom Thino Footer","Set custom memo footer.":"Set custom thino footer.","Heatmap Color Scheme":"Heatmap Color Scheme","Set different color scheme for heatmap.":"Set different color scheme for heatmap.","Enable Local Http Server":"Enable Local Http Server","Memos Http Server Port":"Thino Http Server Port","Set memos http server port to listen. '43999' by default":"Set thino http server port to listen. '43999' by default","Default Editor Mode":"Default Editor Mode","Live-Preview Mode OR Source Mode.":"Live-Preview Mode/Source Mode.","Save Location for Memos":"Save Location for Thino",DAILY:"DAILY",MULTI:"MULTI",CANVAS:"CANVAS",ALL:"ALL",FILE:"FILE",TODO:"TODO",DONE:"DONE",JOURNAL:"JOURNAL",OTHER:"OTHER","Failed to create daily note, check if it exists.":"Failed to create daily note, check if it exists.","Failed to create daily note. Please check if you created a folder for daily notes.":"Failed to create daily note. Please check if you created a folder for daily notes.","After you verify your account, please refresh this page.":"After you verify your account, please refresh this page.",Verify:"Verify","Oops! You forget to verify insider account":"Oops! You forget to verify insider account","If you have any questions, please contact us.":"If you have any questions, please contact us.","Delete Thino Directly":"Delete Thino Directly","When delete thino directly, it will not be moved to trash. False by default.":"When delete thino directly, it will not be moved to trash. False by default.","Enable opening thino globally":"Enable opening thino globally","Enable opening thino globally. False by default.":"Enable opening thino globally. False by default.","Key for opening thino globally":"Key for opening thino globally","Set key for opening thino globally. CTRL + SHIFT + T by default.":"Set key for opening thino globally. CTRL + SHIFT + T by default.","Key for showing thino globally":"Key for showing thino globally","Set key for showing thino globally. CTRL + SHIFT + E by default.":"Set key for showing thino globally. CTRL + SHIFT + E by default.","Get activation code":"Get activation code","Input activation code here":"Input activation code here","Copy Thino id":"Copy Thino id","Activate Pro Version":"Activate Pro Version","Please copy Thino id first":"Please copy Thino id first",'You can set folder name with file name like "folder/file"':'You can set folder name with file name like "folder/file"','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'You can set folder name like "folder1/folder2/folder3" to create sub-folder',"Default save location":"Default save location",'Set the default save location for thino. "DAILY" by default':'Set the default save location for thino. "DAILY" by default',"Sync Thino via PKMer":"Sync Thino via PKMer",Unlink:"Unlink",Link:"Link","Connect to PKMer Sync, you can check it in ":"Connect to PKMer Sync, you can check it in ","PKMer Sync":"PKMer Sync","Remove successfully":"Remove successfully",Deactivate:"Deactivate",Remove:"Remove","Confirm?":"Confirm?","Sync Status":"Sync Status","Start or stop sync":"Start or stop sync","Stop sync successfully":"Stop sync successfully","Start sync successfully":"Start sync successfully",Stop:"Stop",Start:"Start","Show thino near mouse":"Show thino near mouse","Query not found":"Query not found","Send to clipboard successfully":"Send to clipboard successfully","Thino - Failed to start HTTP server, please check the port is available.":"Thino - Failed to start HTTP server, please check the port is available.","Thino - Started HTTP server on port":"Thino - Started HTTP server on port","Thino - Terminated HTTP server":"Thino - Terminated HTTP server","File not exist":"File not exist","Thino not found":"Thino not found","File not found for the given thino path, is creating a new file":"File not found for the given thino path, is creating a new file","Saved sync token successfully":"Saved sync token successfully","Failed to find daily notes folder":"Failed to find daily notes folder","Please install obsidian-hover-editor plugin first":"Please install obsidian-hover-editor plugin first","Copied app id successfully":"Copied app id successfully","Please input token first":"Please input token first","Please enable sync first":"Please enable sync first","Init Failed":"Init Failed","Verify successfully":"Verify successfully","Failed to verify":"Failed to verify","Folder not found for the given thino path, is creating a new folder":"Folder not found for the given thino path, is creating a new folder","File not found for the given thino path":"File not found for the given thino path","Failed to read current daily note, check if it exists.":"Failed to read current daily note, check if it exists.","Failed to save":"Failed to save","Failed to login, please login again":"Failed to login, please login again","COPY FAILED":"COPY FAILED","COPY SUCCEED":"COPY SUCCEED",COPY:"COPY","This is a pro feature, please upgrade to pro version to use it.":"This is a pro feature, please upgrade to pro version to use it.","You can get pro version from: ":"You can get pro version from: ",Save:"Save",Cancel:"Cancel","Thino Daily Target":"Thino Daily Target",Input:"Input","#Tag":"#Tag","to create tag":"to create tag","You have verified your account. Congrats!":"You have verified your account. Congrats!","Pro Features":"Pro Features","Target Thino Count":"Target Thino Count",on:"on","Switch waterfall view":"Switch waterfall view","Switch view":"Switch view","Switch list view":"Switch list view","Set daily target":"Set daily target","Thino Save To: ":"Thino Save To: ","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",words:"words","Return To Home Page":"Return To Home Page","Open thino in center window":"Open thino in center window","Open thino in float window":"Open thino in float window","Open thino in right sidebar":"Open thino in right sidebar","Open thino in left sidebar":"Open thino in left sidebar","Show thino editor":"Show thino editor","Toggle minimal mode":"Toggle minimal mode","Focus on thino editor":"Focus on thino editor","ReSync web thinos to local":"ReSync web thinos to local","Sync local thinos to web":"Sync local thinos to web","Show daily thino view":"Show daily thino view","Focus on search bar":"Focus on search bar","Show-thino in popover(Hover editor)":"Show-thino in popover(Hover editor)","Center window":"Center window","Float window":"Float window","Right sidebar":"Right sidebar","Left sidebar":"Left sidebar","Save thino type when sync local":"Save thino type when sync local","Set the default save thino type when sync local, FILE by default.":"Set the default save thino type when sync local, FILE by default.","Sync service":"Sync service","Pro verification status":"Pro verification status","Live-preview":"Live-preview",Source:"Source","Global copy":"Global copy","Set the folder name":"Set the folder name","Set the filename":"Set the filename","Set the filename for current location file":"Set the filename for current location file","Switch calendar type":"Switch calendar type",alphabetical:"alphabetical",alphabeticalReverse:"alphabeticalReverse",byCount:"byCount",byCountReverse:"byCountReverse","Type here":"Type here",Today:"Today",Yesterday:"Yesterday","Last 7 days":"Last 7 days","Last 30 days":"Last 30 days","Last 90 days":"Last 90 days","Last 180 days":"Last 180 days","Last 365 days":"Last 365 days",Found:"Found","Copy filtered thinos to clipboard":"Copy filtered thinos to clipboard","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.",Preview:"Preview","Set and save":"Set and save","Show day mark on list mode":"Show day mark on list mode","Show day mark on the top of daily range thino. False by default.":"Show day mark on the top of daily range thino. False by default.","Click to expand or fold, Cmd+Click to show all thinos of the day":"Click to expand or fold, Cmd+Click to show all thinos of the day","You can buy a license from":"You can buy a license from","No thinos in range":"No thinos in range",Month:"Month",Week:"Week",Day:"Day",Agenda:"Agenda",Tomorrow:"Tomorrow",Previous:"Previous",Next:"Next","Search all columns...":"Search all columns...","Basic Info":"Basic Info","Additional Info":"Additional Info","Created At":"Created At",Content:"Content","Thino Type":"Thino Type","Source Type":"Source Type","Row status":"Row status",Path:"Path","Pinned Status":"Pinned Status",Table:"Table",Waterfall:"Waterfall",Calendar:"Calendar","Go to page":"Go to page",Page:"Page",Show:"Show",rows:"rows","Temp Filter":"Temp Filter","Allow navigation from view to Thino or Thino to view":"Allow navigation from view to Thino or Thino to view","Day mark range":"Day mark range","Set the range of day mark. Day by default.":"Set the range of day mark. Day by default."},p8={},h8={},m8={welcome:"Bienvenue dans Mémo !",ribbonIconTitle:"Mémos",months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekDaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],to:"à",year:null,month:null,"Basic Options":"Options basique","User name in Memos":"Username dans Mémos","Set your user name here. 'Memos 😏' By default":"Définissez votre username ici. Défaut : 'Memo 😏'","Insert after heading":"Insérer après le titre","You should set the same heading below if you want to insert and process memos below the same heading.":"Vous devez définir le même titre en-dessous si vous voulez insérer et traiter des mémos sous le même titre.","Allows admonitions to be created using ":"Permet de créer des admonitions en utilisant","Process Memos below":"Insérer Mémo sous","Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.":"Seulement les entrée sous cette section/phrase dans vos notes seront considérés. S'il n'existe pas, aucune notes ne sera traité pour ce fichier.","Save Memo button label":"Titre du bouton de sauvegarde","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"Le texte affiché sur le bouton de sauvegarde dans l'UI. Défaut : 'NOTEIT'","Focus on editor when open memos":"Focus sur l'éditeur lors de l'ouverture du mémo.","Focus on editor when open memos. Focus by default.":"Focus sur l'éditeur lors de l'ouverture du mémo. Focus par défaut.","Open daily memos with open memos":"Ouvrir les mémos quotidiens quand mémo est ouvert.","Open daily memos with open memos. Open by default.":"Ouvrir les mémos quotidiens quand mémo est ouvert.","Open Memos when obsidian opens":"Ouvrir Mémo quand Obsidian est ouvert.","When enable this, Memos will open when Obsidian opens. False by default.":"Quand activé, Memo sera ouvert quand Obsidian à l'ouverture d'Obsidian. Désactivé par défaut.","Hide done tasks in Memo list":"Masquer les tâches accomplies dans la liste des mémos.","Hide all done tasks in Memo list. Show done tasks by default.":"Masquer les tâches accomplies dans les mémos. Affiche les tâches accomplies par défaut.","Advanced Options":"Options avancées","UI language for date":"Langue de l'UI pour la date","Translates the date UI language. Only 'en' and 'zh' are available.":"Traduit la langue des dates dans l'UI. Seuls 'en', 'fr' et 'zh' sont disponibles. ","Default prefix":"Préfix par défaut.","Set the default prefix when create memo, 'List' by default.":"Définit le préfix par défaut lors de la création d'un mémo. Défault : 'Liste'","Default insert date format":"Format de la date insérée par défaut.","Default editor position on mobile":"Position par défaut de l'éditeur sur mobile.","Set the default date format when insert date by @, 'Tasks' by default.":"Définit le format de la date par défaut lors de l'insertion de la date par @. Défaut : 'Tâches'.","Set the default editor position on Mobile, 'Top' by default.":"Position par défaut de l'éditeur sur le mobile. Défaut : 'Haut'.","Use button to show editor on mobile":"Utilisation du bouton pour afficher l'éditeur sur le mobile.","Show Time When Copy Results":"Aficher l'heure quand les résultats sont copiés","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Place un bouton flottant pour appeler l'éditeur sur mobile. Fonctionne uniquement quand l'éditeur est placé en bas.","Show time when you copy results, like 12:00. Copy time by default.":"Affiche l'heure quand les résultats sont copiés, comme '12:00'. Copie l'heure par défaut","Show Date When Copy Results":"Affiche la date quand les résultats sont copiés","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Affiche la date quand les résultats sont copiés, comme [[2022-01-01]]. Par défaut, copie la date.","Add Blank Line Between Different Date":"Ajoute une ligne entre les différentes dates.","Add blank line when copy result with date. No blank line by default.":"Ajoute une ligne lors de la copie du résultat avec la date. Pas de ligne par défaut.","Share Options":"Options de partage","Share Memos Image Footer Start":"Début du pied de page — Partage de mémo de mémos","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Définissez ce que vous voulez ici, utilisez {ThinoNum} pour afficher le nombre de thino, {UsedDay} pour les jours. Par défaut : '{ThinoNum} Thino {UsedDay} Days.","Share Memos Image Footer End":"Fin du pied de page — Partage de mémo","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Définissez ce que vous voulez ici. Utilisez {UserName} comme username. Par défaut : '✍️ By {UserName}'","Save Shared Image To Folder For Mobile":"Sauvegarde des images partagés dans un dossier sur mobile.","Save image to folder for mobile. False by Default":"Sauvegarder les images dans un dossier sur mobile. Désactivé par défaut.","Say Thank You":"Dites Merci",Donate:"Faire un don","If you like this plugin, consider donating to support continued development:":"Si vous aimez ce plugin, envisagez de faire un don pour soutenir le développement continu :","File Name of Recycle Bin":"Nom de la corbeille","Set the filename for recycle bin. 'delete' By default":"Définition du nom de la poubelle. Défaut : 'Delete'","Set the filename for query file. 'query' By default":"Définit le nom de fichier pour les requête. Défaut : 'Query'","Use Tags In Vault":"Utiliser des tags dans le Coffre","Use tags in vault rather than only in Memos. False by default.":"Utiliser des tags du coffre plutôt que ceux que seulement dans Mémo. Désactivé par défaut.","Ready to convert image into background":"Prêt pour convertir des image en arrière-plan.",List:"Liste",Task:"Tâche",Top:"Haut",Bottom:"Bas",TAG:"TAG",DAY:"JOUR",QUERY:"RECHERCHE",EDIT:"EDITER",PIN:"PIN",UNPIN:"ÉPINGLER",DELETE:"DESÉPINGLER","CONFIRM！":"CONFIRMER ！","CREATE FILTER":"CRÉER FILTRE",Settings:"Paramètres","Recycle bin":"Corbeille","About Me":"À propos de moi","Fetching data...":"Récupération des données...","Here is No Memos.":"Il n'y a pas de Memos.","Frequently Used Tags":"Tags fréquemment utilisés","What do you think now...":"Que pensez-vous maintenant...",READ:"LU",MARK:"MARQUER",SHARE:"PARTAGER",SOURCE:"SOURCE",RESTORE:"RESTAURER","DELETE AT":"SUPPRIMER","Noooop!":"Noooop!","All Data is Loaded 🎉":"Toutes les données sont chargées 🎉","Quick filter":"Filtre rapide",TYPE:"TYPE",LINKED:"LIEN","NO TAGS":"PAS DE TAGS","HAS LINKS":"A DES LIENS","HAS IMAGES":"A DES IMAGES",INCLUDE:"INCLUS",EXCLUDE:"EXCLUS",TEXT:"TEXTE",IS:"EST",ISNOT:"N'EST PAS",SELECT:"SELECTION","ADD FILTER TERMS":"AJOUTER DES TERMES FILTRÉ",FILTER:"FILTRE",TITLE:"TITRE","CREATE QUERY":"CRÉER UNE RECHERCHE","EDIT QUERY":"ÉDITER UNE RECHERCHE",MATCH:"MATCH",TIMES:"HEURE","Share Memo Image":"Partager un mémo image","↗Click the button to save":"↗Clique pour sauvegarder","Image is generating...":"Génération de l'image...","Image is loading...":"Image en chargement...","Loading...":"Chargement...","😟 Cannot load image, image link maybe broken":"😟 Impossible de charger l'image, le lien peut être brisé","Daily Memos":"Mémo quotidien","CANCEL EDIT":"ANNULER L'ÉDITION","LINK TO THE":"LIENS À","Mobile Options":"Options mobile","Don't support web image yet, please input image path in vault":"Ne supporte pas les images webs. Merci d'insérer le chemin de l'image depuis le coffre.","Background Image in Dark Theme":"Image de fond en thème sombre","Background Image in Light Theme":"Image de fond en thème clair",'Set background image in dark theme. Set something like "Daily/one.png"':"Définir l'image de fond en thème sombre. Définir 'Daily/one.png' par exemple.",'Set background image in light theme. Set something like "Daily/one.png"':"Définir l'image de fond en thème clair. Définir 'Daily/one.png' par exemple.",'Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Définir la composition par défaut du mémo, vous devez utiliser {TIME} comme "HH:mm" et {CONTENT} comme contenu. "{TIME} {CONTENT}" par défaut',"Default Memo Composition":"Composition par défaut du mémo","Show Tasks Label":"Afficher les étiquettes des tâches","Show tasks label near the time text. False by default":"Afficher les étiquettes des tâches à côté du texte horaire. Désactivé par défaut.","Please Open Memos First":"Merci d'ouvrir les mémos en premier"},g8={},v8={},y8={},w8={},b8={},D8={},S8={},E8={},T8={welcome:"Bem-vindo ao Thino!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],to:"para",year:null,month:null,"Basic Options":"Opções Básicas","User name in Memos":"Nome de Usuário no Thino","Set your user name here. 'Memos 😏' By default":"Defina o nome de usuário. Padrão: 'Thino 😏'.","Insert after heading":"Inserir após o cabeçalho","You should set the same heading below if you want to insert and process memos below the same heading.":"Deve definir o mesmo cabeçalho na configuração posterior se pretende inserir e processar memorandos abaixo do cabeçalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabeçalho","Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.":"Somente as entradas abaixo deste cabeçalho serão processadas nas suas notas. Se não configurar esta funcionalidade, nenhuma nota será processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Botão de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do botão guardar memorandos. Padrão: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padrão: "Focar".',"Open daily memos with open memos":"Abrir memorandos diários ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos diários ao iniciar o Thino. Padrão: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta opção está activa, o Memos abrirá quando o Obsidian inicia. Padrão: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas concluídas na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas concluídas na lista de memorandos. Padrão: "Mostrar tarefas concluídas".',"Advanced Options":"Opções Avançadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' estão disponíveis.","Default prefix":"Prefixo Padrão","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padrão quando um memorando é criado. Padrão: 'Lista'.","Default insert date format":"Formato Padrão para Inserção de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padrão ao inserir a data usando '@'. Padrão: 'Tarefas'.","Default editor position on mobile":"Posição Padrão do Editor de Memorandos na Versão Móvel","Set the default editor position on Mobile, 'Top' by default.":"Define a posição padrão do editor de memorandos na versão móvel. Padrão: 'Topo'.","Use button to show editor on mobile":"Usar Botão para Mostrar o Editor na Versão Móvel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um botão flutuante para abrir o editor na versão móvel. Opção disponível somente quando a posição do editor está definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padrão: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padrão: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padrão: "Não adicionar linha."',"Share Options":"Opções de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - Início do Rodapé","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o número de thinorandos e use {UsedDay} para dias. 'Padrão: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodapé","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usuário. Padrão: '✍️ Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Versão Móvel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na versão móvel. Padrão: "Falso".',"Say Thank You":"Agradeça",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento contínuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padrão: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padrão: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e não somente dos memorandos. Padrão: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRM！":"CONFIRMAR！","CREATE FILTER":"CRIAR FILTRO",Settings:"Definições","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"Não existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que está a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded 🎉":"Todos os Dados foram Carregados 🎉","Quick filter":"Filtro rápido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"É",ISNOT:"NÃO É",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"TÍTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","↗Click the button to save":"↗Clique no botão para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","😟 Cannot load image, image link maybe broken":"😟 Não é possível carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Diários","CANCEL EDIT":"CANCELAR EDIÇÃO","LINK TO THE":"LINK PARA O","Mobile Options":"Opções Móveis","Don't support web image yet, please input image path in vault":"Ainda não existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Opções Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composição padrão do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conteúdo. Padrão: "{TIME} {CONTENT}".',"Default Memo Composition":"Composição Padrão de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas próximas do texto de tempo. Padrão: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Comentários nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padrão: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O TÍTULO NÃO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO NÃO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Comentários nas Notas/Notas Diárias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a versão 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"😭 Erro de Fetch","Copied to clipboard Successfully":"Copiado para a área de transferência com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Diárias ou de Notas Periódicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configuração do último filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conteúdo de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conteúdo não pode estar vazio","Unable to create new file.":"Não foi possível criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"Ícone do Botão para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O ícone exibido na UI do botão para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Específicas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas serão mostrados na lista. Padrão: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e não apenas nas notas diárias. Padrão: "Falso".',"Always Show Memo Comments":"Mostrar Comentários dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os comentários dos memorandos. Padrão: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"Não definiu a pasta para as notas diárias, quer no plugin the Notas Periódicas ou de Notas Diárias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configurações dos plugins de Notas Diárias OU de Notas Periódicas","Use Which Plugin's Default Configuration":"Usar a Configuração Padrão do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configuração padrão do plugin seleccionado para obter memorandos diariamente. Padrão: 'Notas Diárias'.",Daily:"Diário"},C8={welcome:"Bem-vindo ao Memos!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],to:"para",year:null,month:null,"Basic Options":"Opções Básicas","User name in Memos":"Nome de Usuário no Thino","Set your user name here. 'Memos 😏' By default":"Defina o nome de usuário. Padrão: 'Thino 😏'.","Insert after heading":"Inserir após o cabeçalho","You should set the same heading below if you want to insert and process memos below the same heading.":"Deve definir o mesmo cabeçalho na configuração posterior se pretende inserir e processar memorandos abaixo do cabeçalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabeçalho","Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.":"Somente as entradas abaixo deste cabeçalho serão processadas nas suas notas. Se não configurar esta funcionalidade, nenhuma nota será processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Botão de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do botão guardar memorandos. Padrão: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padrão: "Focar".',"Open daily memos with open memos":"Abrir memorandos diários ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos diários ao iniciar o Thino. Padrão: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta opção está activa, o Memos abrirá quando o Obsidian inicia. Padrão: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas concluídas na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas concluídas na lista de memorandos. Padrão: "Mostrar tarefas concluídas".',"Advanced Options":"Opções Avançadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' estão disponíveis.","Default prefix":"Prefixo Padrão","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padrão quando um memorando é criado. Padrão: 'Lista'.","Default insert date format":"Formato Padrão para Inserção de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padrão ao inserir a data usando '@'. Padrão: 'Tarefas'.","Default editor position on mobile":"Posição Padrão do Editor de Memorandos na Versão Móvel","Set the default editor position on Mobile, 'Top' by default.":"Define a posição padrão do editor de memorandos na versão móvel. Padrão: 'Topo'.","Use button to show editor on mobile":"Usar Botão para Mostrar o Editor na Versão Móvel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um botão flutuante para abrir o editor na versão móvel. Opção disponível somente quando a posição do editor está definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padrão: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padrão: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padrão: "Não adicionar linha."',"Share Options":"Opções de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - Início do Rodapé","Set anything you want here, use {ThinoNum} to display Number of memos, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o número de thinorandos e use {UsedDay} para dias. 'Padrão: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodapé","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usuário. Padrão: '✍️ Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Versão Móvel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na versão móvel. Padrão: "Falso".',"Say Thank You":"Agradeça",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento contínuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padrão: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padrão: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e não somente dos memorandos. Padrão: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRM！":"CONFIRMAR！","CREATE FILTER":"CRIAR FILTRO",Settings:"Definições","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"Não existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que está a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded 🎉":"Todos os Dados foram Carregados 🎉","Quick filter":"Filtro rápido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"É",ISNOT:"NÃO É",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"TÍTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","↗Click the button to save":"↗Clique no botão para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","😟 Cannot load image, image link maybe broken":"😟 Não é possível carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Diários","CANCEL EDIT":"CANCELAR EDIÇÃO","LINK TO THE":"LINK PARA O","Mobile Options":"Opções Móveis","Don't support web image yet, please input image path in vault":"Ainda não existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Opções Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composição padrão do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conteúdo. Padrão: "{TIME} {CONTENT}".',"Default Memo Composition":"Composição Padrão de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas próximas do texto de tempo. Padrão: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Comentários nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padrão: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O TÍTULO NÃO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO NÃO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Comentários nas Notas/Notas Diárias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a versão 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"😭 Erro de Fetch","Copied to clipboard Successfully":"Copiado para a área de transferência com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Diárias ou de Notas Periódicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configuração do último filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conteúdo de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conteúdo não pode estar vazio","Unable to create new file.":"Não foi possível criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"Ícone do Botão para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O ícone exibido na UI do botão para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Específicas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas serão mostrados na lista. Padrão: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e não apenas nas notas diárias. Padrão: "Falso".',"Always Show Memo Comments":"Mostrar Comentários dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os comentários dos memorandos. Padrão: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"Não definiu a pasta para as notas diárias, quer no plugin the Notas Periódicas ou de Notas Diárias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configurações dos plugins de Notas Diárias OU de Notas Periódicas","Use Which Plugin's Default Configuration":"Usar a Configuração Padrão do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configuração padrão do plugin seleccionado para obter memorandos diariamente. Padrão: 'Notas Diárias'.",Daily:"Diário"},x8={},M8={},k8={},F8={welcome:"欢迎使用 Thino ",ribbonIconTitle:"Thino",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:[null,null,null,null,null,null,null,null,null,null,null,null],weekDays:["周日","周一","周二","周三","周四","周五","周六"],weekDaysShort:["周日","周一","周二","周三","周四","周五","周六"],to:"至",year:"年",month:"月","Basic Options":"基础选项","User name in Memos":"在 Thino 中显示的用户名","Set your user name here. 'Memos 😏' By default":"在这里设置你喜欢的用户名。 默认为 'Thino 😏'","Insert after heading":"在指定标题后插入 Thino","You should set the same heading below if you want to insert and process memos below the same heading.":"你如果想要插入标题的同时显示对应标题下的 Memo，你必须保证当前设置与下方的解析设置是一致的。当为空时插入到文末","Process Memos below":"解析指定标题后的 Thino","Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.":"只有在设置的标题后的 Memo 才会被解析。当为空时解析全文的 Memo","Save Memo button label":"保存按钮上的文本","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"在保存按钮上展示的文本。默认为 'NOTEIT'","Focus on editor when open memos":"自动聚焦到 Thino 输入框","Focus on editor when open memos. Focus by default.":"当打开 Thino 的时候自动聚焦到 Thino 输入框。默认开启","Open daily memos with open memos":"打开每日 Thino 的时候打开 Thino 界面","Open daily memos with open memos. Open by default.":"打开每日 Thino 的时候打开 Thino 界面。默认开启","Open Memos when obsidian opens":"当开启 Obsidian 的时候自动打开 Thino","When enable this, Memos will open when Obsidian opens. False by default.":"当开启该选项, Thino 会在 Obsidian 打开时自动打开。默认不开启。","Hide done tasks in Memo list":"在 Thino 列表中隐藏已完成 Thino","Hide all done tasks in Memo list. Show done tasks by default.":"在 Thino 列表中隐藏已完成 Thino。默认不开启","Advanced Options":"进阶选项","UI language for date":"针对日期展示的语言界面","Translates the date UI language. Only 'en' and 'zh' are available.":"对日期的不同翻译。目前只能选择 'en' 和 'zh'（未来会废置）","Default prefix":"默认前缀","Set the default prefix when create memo, 'List' by default.":"设置默认的前缀样式。默认为列表","Default insert date format":"插入日期附带的样式","Set the default date format when insert date by @, 'Tasks' by default.":"当使用 @ 来快速插入日期时，插入日期附带的样式，默认为 'Tasks' 样式","Default editor position on mobile":"在移动端上的默认编辑器位置","Set the default editor position on Mobile, 'Top' by default.":"设置在移动端上的默认编辑器位置，默认在顶部。","Use button to show editor on mobile":"当编辑器位置在底部时，用按钮来唤出编辑器","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"设置一个浮动按钮来唤出编辑器。当在移动端上启用该选项才会生效","Show Time When Copy Results":"当复制检索结果时附带时间","Show time when you copy results, like 12:00. Copy time by default.":"在复制检索结果时附带其时间，例如 12:00 。默认开启","Show Date When Copy Results":"当复制检索结果时附带日期","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"在复制检索结果时附带其日期，例如 [[2022-01-01]]。默认开启","Add Blank Line Between Different Date":"在复制日期的时候加上空行","Add blank line when copy result with date. No blank line by default.":"在复制日期的时候在相邻的日期之间加上空行。默认无空行","Share Options":"分享选项","Share Memos Image Footer Start":"分享 Thino 图片的左边页脚","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"你可以在这里设置你想要的任意文本，用 {ThinoNum} 来展示你记录的 thino 数量，{UsedDay} 来展示使用日期。默认为'{ThinoNum} Thino {UsedDay} Days'","Share Memos Image Footer End":"分享 Thino 图片的右边页脚","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"你可以在这里设置你想要的任意文本，用 {UserName} 来展示你的用户名。默认为 '✍️ By {UserName}'","Save Shared Image To Folder For Mobile":"当在移动端上时保存图片到文件夹","Save image to folder for mobile. False by Default":"当在移动端上时，保存生成的图片到文件夹","Say Thank You":"感谢开发",Donate:"捐赠","If you like this plugin, consider donating to support continued development:":"如果你喜欢这个插件，而且也希望给我买鸡腿，那么可以考虑 Github 页面右边的 Sponsor~","File Name of Recycle Bin":"回收站的文件名","Set the filename for recycle bin. 'delete' By default":"给回收站设置一个文件名。默认为'delete'","File Name of Query File":"检索文件的文件名","Set the filename for query file. 'query' By default":"设置存放检索式的文件的文件名。默认为'query'","Use Tags In Vault":"使用在库内的所有标签","Use tags in vault rather than only in Memos. False by default.":"使用在库内的而不是 Thino 内的标签。默认关闭","Don't support web image yet, please input image path in vault":"暂不支持网络图片，请使用本地图片","Ready to convert image into background":"正在将图片转换为背景图",List:"列表",Task:"任务",Top:"顶部",Bottom:"底部",TAG:"标签",DAY:"天",QUERY:"检索式",EDIT:"编辑",PIN:"置顶",UNPIN:"取消置顶",DELETE:"删除","CONFIRM！":"确定删除","CREATE FILTER":"创建检索式",Filter:"筛选",Settings:"设置","Recycle bin":"回收站","About Me":"关于","Fetching data...":"获取数据中...","Here is No Memos.":"没有找到 Thino","Frequently Used Tags":"常用标签","What do you think now...":"你现在在想什么？",READ:"阅读",MARK:"引用",SHARE:"分享",SOURCE:"来源",RESTORE:"恢复",ARCHIVE:"归档","DELETE AT":"删除于","Noooop!":"啥都没有！","All Data is Loaded 🎉":"所有数据都加载好啦 🎉","Quick filter":"快速筛选",TYPE:"类型",LINKED:"有链接","NO TAGS":"无标签","HAS LINKS":"有超链接","HAS IMAGES":"有图片",INCLUDE:"包括",EXCLUDE:"排除",TEXT:"文本",IS:"是",AND:"和",OR:"或",LIST:"状态",ISNOT:"不是",SELECT:"选择","ADD FILTER TERMS":"添加检索条件",FILTER:"筛选器",TITLE:"标题","CREATE QUERY":"创建检索式","EDIT QUERY":"编辑检索式",MATCH:"匹配",TIMES:"次","Share Memo Image":"分享 Thino 图片","↗Click the button to save":"↗点击右上角的按钮来保存","Image is generating...":"图片正在生成中...","Image is loading...":"图片正在加载中...","😟 Cannot load image, image link maybe broken":"😟 无法加载图片，图片链接也许不存在","Loading...":"努力加载中...","Daily Memos":"每日 Thino","CANCEL EDIT":"取消编辑","LINK TO THE":"链接到","Mobile Options":"移动端选项","Experimental Options":"实验性选项","Background Image in Dark Theme":"深色主题的背景图","Background Image in Light Theme":"浅色主题的背景图",'Set background image in dark theme. Set something like "Daily/one.png"':'设置深色主题的背景图。请设置类似"Daily/one.png"的路径','Set background image in light theme. Set something like "Daily/one.png"':'设置浅色主题的背景图。请设置类似"Daily/one.png"的路径','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'设置默认 Thino 组成，你必须要使用 {TIME} 作为 "HH:mm" 而且要设置 {CONTENT} 作为内容识别。默认情况下， Thino 基于 "{TIME} {CONTENT}" 识别',"Default Memo Composition":"【已弃置】默认 Thino 组成","Show Tasks Label":"展示任务标签","Show tasks label near the time text. False by default":"在 Thino 的时间旁展示任务标签。默认情况下不展示","Please Open Memos First":"请先打开 Thino","Comment it...":"评论...",DATE:"日期",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"Obsidian Natrual DATES language 插件没启动",BEFORE:"在之前",AFTER:"在之后","Allow Comments On Memos":"允许在 Thino 上评论","You can comment on memos. False by default":"你可以在 Thino 点击图标进行评论了。默认不开启",Import:"导入","TITLE CANNOT BE NULL!":"标题不可以为空！","FILTER CANNOT BE NULL!":"筛选器不可以为空！","Comments In Original DailyNotes/Notes":"在原文件中进行评论","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"你需要安装 0.5.9 版本以上的 Dataview 插件来使用该功能","Open Memos Successfully":"成功打开 Thino ","Fetch Memos Error":"😭 Thino 获取失败","Copied to clipboard Successfully":"复制成功","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"请检查你有没有开启日记插件或者 Periodic Notes 插件且启用了日记模式","Please finish the last filter setting first":"先完善上一个过滤器吧","Close Memos Successfully":"成功关闭 Thino ","Insert as Memo":"插入内容为 Thino","Insert file as memo content":"插入文件为 Thino","Image load failed":"有个图片加载失败了😟","Content cannot be empty":"内容不能为空呀","Unable to create new file.":"无法新建文件","Failed to fetch deleted memos: ":"无法获取已删除的 Thino ：","RESTORE SUCCEED":"成功恢复 Thino","Save Memo button icon":"保存按钮上的图标","The icon shown on the save Memo button in the UI.":"你可以设置保存按钮上的图标","Fetch Memos From Particular Notes":"从指定的文件中获取 Thino",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'你可以给笔记设置指定检索式来让 Memos 可以索引到它。默认为 "#memo" ',"Allow Memos to Fetch Memo from Notes":"允许 Thino 从笔记中获取 Thino","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"使用 Memos 来管理你笔记中的 Memos，不单只 DailyNotes 中的内容。默认为关闭","Always Show Memo Comments":"评论将总是可见","Always show memo comments on memos. False by default":"当开启后评论总是会在 Thino 的下方展示。默认为关闭","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"你在 Periodic Notes 插件和日记插件都没设置日记的所在文件夹","Please check your daily note plugin OR periodic notes plugin settings":"请检查你的日记插件和/或 Periodic Notes 插件的设置","Use which plugin's default configuration":"使用哪个插件的默认日记配置","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino 采用指定插件的默认配置来获取 Thino。默认为日记插件。",Daily:"日记插件","Always Show Leaf Sidebar on PC":"在 PC 上总是展示左侧栏","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"在 PC 上即使页面宽度小于 875px 时都展示左侧栏。默认为关闭","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"你在 Periodic Notes 插件和日记插件都没设置日记的格式","fetch more":"加载更多","Search all settings":"搜索所有设置","Random Review":"随机回顾","ARCHIVED AT":"归档于","Failed to get memos from daily notes":"无法从日记中获取 Thino","Failed to delete memo":"无法删除 Thino","CTRL + ENTER to save":"CTRL + ENTER 保存","Started from":"开始于","Custom Background Image":"自定义背景图","Set custom background image.":"设置自定义背景图","Custom Memo Footer":"自定义 Thino 页脚","Set custom memo footer.":"设置自定义 Thino 页脚","Heatmap Color Scheme":"热力图颜色","Set different color scheme for heatmap.":"设置热力图的颜色","Enable Local Http Server":"启用本地 HTTP 服务器","Memos Http Server Port":"Thino HTTP 服务器端口","Set memos http server port to listen. '43999' by default":"设置 Thino HTTP 服务器端口。默认为 '43999'","Live-Preview Mode OR Source Mode.":"基于 Thino 的所见即所得模式（默认） 或者 源码模式，你可以自己选择适合自己的输入体验。","Default Editor Mode":"默认编辑器模式","Save Location for Memos":"Thino 保存位置",DAILY:"日记",MULTI:"多文件",CANVAS:"画布",FILE:"单文件",ALL:"所有","Failed to create daily note, check if it exists.":"无法创建日记，请检查是否存在文件夹","Failed to create daily note. Please check if you created a folder for daily notes.":"无法创建日记，请检查是否存在日记文件夹","After you verify your account, please refresh this page.":"验证成功后，请刷新页面。",Verify:"去验证","Oops! You forget to verify insider account":"内测账户验证失败","If you have any questions, please contact us.":"如果你有任何问题，请联系我们。","Delete Thino Directly":"直接删除 Thino","When delete thino directly, it will not be moved to trash. False by default.":"当直接删除 Thino 时，不会移动到回收站。默认为关闭","Get activation code":"获取激活码","Input activation code here":"在这里输入激活码","Copy Thino id":"获取 Thino id","Activate Pro Version":"激活专业版","Please copy Thino id first":"请先获取 Thino id",'You can set folder name with file name like "folder/file"':'你可以设置例如 "folder/file" 的文件夹名+文件名的搭配来存放在指定文件夹','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'你可以设置例如 "folder1/folder2/folder3" 的文件夹名来创建子文件夹',"Default save location":"默认保存位置",'Set the default save location for thino. "DAILY" by default':'设置 Thino 的默认保存位置。默认为 "DAILY"',"Enable opening thino globally":"全局唤醒 Thino","Enable opening thino globally. False by default.":"全局唤醒 Thino。默认为关闭","Key for opening thino globally":"全局唤醒 Thino 的快捷键","Set key for opening thino globally. CTRL + SHIFT + T by default.":"设置全局唤醒 Thino 的快捷键。默认为 CTRL + SHIFT + T","Sync Thino via PKMer":"通过 PKMer 同步 Thino",Unlink:"取消链接",Link:"链接","Connect to PKMer Sync, you can check it in ":"连接到 PKMer 同步，你可以在该链接中查看：","PKMer Sync":"PKMer 同步","Remove successfully":"移除成功",Deactivate:"取消激活",Remove:"移除","Confirm?":"确认？","Sync Status":"同步状态","Start or stop sync":"开始或停止同步","Stop sync successfully":"停止同步成功","Start sync successfully":"开始同步成功",Stop:"停止",Start:"开始","Show thino near mouse":"在鼠标附近展示 Thino","Query not found":"检索式未找到","Send to clipboard successfully":"发送到剪贴板成功","Thino - Failed to start HTTP server, please check the port is available.":"Thino - 启动 HTTP 服务器失败，请检查端口是否可用。","Thino - Started HTTP server on port":"Thino - 启动 HTTP 服务器成功，端口为","Thino - Terminated HTTP server":"Thino - 终止 HTTP 服务器","File not exist":"文件不存在","Thino not found":"Thino 未找到","File not found for the given thino path, is creating a new file":"未找到承载指定 Thino 的文件，正在创建新文件","Saved sync token successfully":"保存同步令牌成功","Failed to find daily notes folder":"未找到日记文件夹","Please install obsidian-hover-editor plugin first":"请先安装 obsidian-hover-editor 插件","Copied app id successfully":"复制 app id 成功","Please input token first":"请先输入 token","Please enable sync first":"请先启用同步","Init Failed":"初始化失败","Folder not found for the given thino path, is creating a new folder":"未找到承载指定 Thino 的文件夹，正在创建新文件夹","File not found for the given thino path":"未找到承载指定 Thino 的文件","Failed to read current daily note, check if it exists.":"无法读取日记文件，请检查是否存在","Verify successfully":"验证成功","Failed to verify":"验证失败","Failed to save":"保存失败","Failed to login, please login again":"登录已过期，请重新登录","COPY FAILED":"复制失败","COPY SUCCEED":"复制成功",COPY:"复制","This is a pro feature, please upgrade to pro version to use it.":"这是专业版功能，请升级到专业版来使用它。","You can get pro version from: ":"你可以从这里获取专业版：",Save:"保存",Cancel:"取消","Thino Daily Target":"Thino 每日目标",Input:"输入","#Tag":"#标签","to create tag":"来创建标签","You have verified your account. Congrats!":"你已经验证了你的账户。恭喜！","Pro Features":"专业版功能","Target Thino Count":"目标 Thino 数量",on:"在","Switch waterfall view":"切换瀑布流视图","Switch view":"切换视图","Switch list view":"切换列表视图","Set daily target":"设置每日目标","Thino Save To: ":"Thino 保存到：","Enter fullscreen mode":"进入全屏模式","Exit fullscreen mode":"退出全屏模式",words:"字","Return To Home Page":"返回首页","Open thino in center window":"在中心窗口打开 thino","Open thino in float window":"在浮动窗口打开 thino","Open thino in right sidebar":"在右侧边栏打开 thino","Open thino in left sidebar":"在左侧边栏打开 thino","Show thino editor":"显示 thino 编辑器","Toggle minimal mode":"切换 Minimal 模式","Focus on thino editor":"聚焦到 thino 编辑器","ReSync web thinos to local":"重新同步 web 上的 thino 到本地","Sync local thinos to web":"同步本地的 thino 到 web","Show daily thino view":"显示每日 thino 视图","Focus on search bar":"聚焦到搜索栏","Show-thino in popover(Hover editor)":"在弹出框中显示 thino","Center window":"中心窗口","Float window":"浮动窗口","Right sidebar":"右侧边栏","Left sidebar":"左侧边栏","Save thino type when sync local":"同步本地时保存的 thino 类型","Set the default save thino type when sync local, FILE by default.":"设置同步本地时保存的 thino 类型，默认为单文件。","Sync service":"同步服务","Pro verification status":"专业版激活状态","Live-preview":"所见即所得",Source:"源码",General:"通用",Thino:"Thino",Theme:"主题",Share:"分享",Advanced:"进阶","Global copy":"全局复制","Set the folder name":"设置文件夹名","Set the filename":"设置文件名","Set the filename for current location file":"设置当前位置文件的文件名","Switch calendar type":"切换日历类型",alphabetical:"标签名称（A-Z）",alphabeticalReverse:"标签名称（Z-A）",byCount:"按使用次数（从高到低）",byCountReverse:"按使用次数（从低到高）","Type here":"在这里输入",Today:"今天",Yesterday:"昨天","Last 7 days":"最近 7 天","Last 30 days":"最近 30 天","Last 90 days":"最近 90 天","Last 180 days":"最近 180 天","Last 365 days":"最近 365 天",Found:"被找到","Copy filtered thinos to clipboard":"复制筛选的 thino 到剪贴板","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"如果你禁用了日记插件，可能会导致 thino 无法被正确删除。请启用插件后再试一次。",Preview:"预览","Set and save":"设置并保存","Show day mark on list mode":"在列表模式中展示日期标记","Show day mark on the top of daily range thino. False by default.":"在列表模式中展示日期标记。默认为关闭","Click to expand or fold, Cmd+Click to show all thinos of the day":"点击展开或折叠，Cmd+点击展示当天所有 thino","You can buy a license from":"你可以从这里购买许可证","No thinos in range":"该范围内没有 thino",Month:"月视图",Week:"周视图",Day:"日视图",Agenda:"日程视图",Tomorrow:"明天",Previous:"往前",Next:"往后","Search all columns...":"搜索所有的列...","Basic Info":"基础信息","Additional Info":"附加信息","Created At":"创建于",Content:"内容","Thino Type":"Thino 类型","Source Type":"来源类型","Row status":"归档状态",Path:"路径","Pinned Status":"置顶状态",Table:"表格",Waterfall:"瀑布流",Calendar:"日历","Go to page":"跳转到页",Page:"页",Show:"展示",rows:"行","Temp Filter":"临时筛选器","Allow navigation from view to Thino or Thino to view":"允许从视图到 Thino 或者从 Thino 到视图的导航","Day mark range":"日期标记范围","Set the range of day mark. Day by default.":"设置日期标记的范围，默认为天"},N8={},I8={ar:u8,cs:c8,da:f8,de:d8,en:aE,"en-gb":p8,es:h8,fr:m8,hi:g8,id:v8,it:y8,ja:w8,ko:b8,nl:D8,nn:S8,pl:E8,pt:T8,"pt-br":C8,ro:x8,ru:M8,tr:k8,"zh-cn":F8,"zh-tw":N8},xb=I8[F.moment.locale()];function O(e){const t=xb&&xb[e]||aE[e];return t||e}const A8=/```([\s\S]*?)```/g,O8=/\*\*(.+?)\*\*/g,R8=/\*(.+?)\*/g,L8=/\[ \] /g,_8=/\[.{1}\] /g,P8=/^[*-]/g,j8=/(\d+)\. /g,Mb=/\[\[([^\]]+)\]\]/g,e1=/\[([^\]]+)\]\((([^\]]+).md)\)/g,B8=(e,t)=>{const n=e.replace(A8,"<pre lang=''>$1</pre>").replace(P8,"<span class='counter-block'>•</span>").replace(j8,"<span class='counter-block'>$1.</span>").replace(L8,"<span class='todo-block' data-type='todo'>⬜</span>").replace(_8,"<span class='todo-block' data-type='done'>✅</span>").replace(O8,"<strong>$1</strong>").replace(R8,"<em>$1</em>").replace(/&lt;br&gt;/g,"</p><p>").replace(/&amp;/g,"&");let r=n;if(t){if(Mb.test(n)){const a=n.match(Mb);for(let i=0;i<a.length;i++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(a[i])){const s=Y8(a[i]);if(/\|/g.test(s)){const[c,d]=s.split("|"),h=c0(c,d);r=n.replace(a[i],h)}else{const h=c0(s,"");r=r.replace(a[i],h)}}}if(e1.test(n)){const a=n.match(e1);for(let i=0;i<a.length;i++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(a[i])){const s=U8(a[i]),c=H8(a[i]),d=c0(s,c);r=n.replace(a[i],d)}}}return r},c0=(e,t)=>{const{metadataCache:n}=xe.getState().dailyNotesState.app;return n.getFirstLinkpathDest(decodeURIComponent(e),"")instanceof F.TFile?t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${e}</a>`:t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${e}</a>`},Y8=e=>{var t;return(t=/\[\[([^\]]+)\]\]/g.exec(e))==null?void 0:t[1]},H8=e=>{var t;return(t=e1.exec(e))==null?void 0:t[1]},U8=e=>{var t;return(t=/\[([^\]]+)\]\((([^\]]+).md)\)/g.exec(e))==null?void 0:t[3]},kb=e=>{const t=document.createElement("div");return t.className="memo-content-text",t.innerHTML=e,t.innerText},V8=e=>e.replace(/\n/g,"<br>"),z8=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML},Fb="mobile-show-sidebar",oE=200,Si=3600*24*1e3,ir=/\s#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,La=/(<p>|<br>)#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,Lr=/^#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/gu,Rf=/(\s|：|\(|>|^)((http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-]))/g,$8=/\[([\s\S]*?)\]\(([\s\S]*?)\)/gu,Lf=/([^\s<\\*>'(]+\.(jpeg|jpg|gif|png|svg))(\]\])?(\))?/g,Ou=/\[@(.+?)\]\((.+?)\)/g,q8=/^(-|\*|\d\.)\s(\[.\]\s)?(\d{1,2}:\d{2})\s(.*)$/g,Df=[{title:"DAILY",icon:"list"},{title:"CANVAS",icon:"layout-dashboard"},{title:"MULTI",icon:"file-text"},{title:"FILE",icon:"edit"}];var t1;(e=>{function t(){return parseInt(F.moment().format("x"))}e.getNowTimeStamp=t;function n(){const R=navigator.userAgent;let _="Unknown";return R.indexOf("Win")!=-1?_="Windows":R.indexOf("Mac")!=-1?_="MacOS":R.indexOf("Linux")!=-1&&(_="Linux"),_}e.getOSVersion=n;function r(R){return typeof R=="string"&&(R=R.replaceAll("-","/")),new Date(R).getTime()}e.getTimeStampByDate=r;function a(R){const _=new Date(r(R));return new Date(_.getFullYear(),_.getMonth(),_.getDate()).getTime()}e.getDateStampByDate=a;function i(R){const _=new Date(r(R)),$=_.getFullYear(),q=_.getMonth()+1,z=_.getDate();return`${$}/${q}/${z}`}e.getDateString=i;function s(R){const _=new Date(r(R)),$=_.getHours(),q=_.getMinutes(),z=$<10?"0"+$:$,ee=q<10?"0"+q:q;return`${z}:${ee}`}e.getTimeString=s;function c(R){const _=new Date(r(R)),$=_.getFullYear(),q=_.getMonth()+1,z=_.getDate(),ee=_.getHours(),ie=_.getMinutes(),ae=_.getSeconds(),me=q<10?"0"+q:q,fe=z<10?"0"+z:z,be=ee<10?"0"+ee:ee,Te=ie<10?"0"+ie:ie,J=ae<10?"0"+ae:ae;return`${$}/${me}/${fe} ${be}:${Te}:${J}`}e.getDateTimeString=c;function d(R){return Array.from(new Set(R))}e.dedupe=d;function h(R){const _=new Set,$=[];for(const q of R)_.has(q.id)||(_.add(q.id),$.push(q));return $}e.dedupeObjectWithId=h;function g(R,_){let $=null;return()=>{$&&clearTimeout($),$=setTimeout(R,_)}}e.debounce=g;function m(R,_,$=!1,q){let z=null,ee=!1;function ie(...ae){if(z&&clearTimeout(z),$&&!ee){const me=R.apply(this,ae);q&&typeof q=="function"&&q(me),ee=!0}else z=setTimeout(()=>{const me=R.apply(this,ae);q&&typeof q=="function"&&q(me),ee=!1,z=null},_)}return ie.cancel=function(){z&&clearTimeout(z),z=null,ee=!1},ie}e.debouncePlus=m;function w(R,_){let $=!0;return()=>{if(!$)return!1;$=!1,setTimeout(()=>{R(),$=!0},_)}}e.throttle=w;function b(R){const _=[],$=Object.keys(R).sort();for(const q of $){const z=R[q];z&&(typeof z=="object"?_.push(...b(z).split("&")):_.push(`${q}=${z}`))}return _.join("&")}e.transformObjectToParamsString=b;function T(R){const _={},$=R.split("&");for(const q of $){const[z,ee]=q.split("=");z&&ee&&(_[z]=ee)}return _}e.transformParamsStringToObject=T;function E(R){if(!R)return{};const _={},$=Object.keys(R).sort();for(const q of $){const z=R[q];if(typeof z=="object"){const ee=E(JSON.parse(JSON.stringify(z)));ee&&Object.keys(ee).length>0&&(_[q]=ee)}else z&&(_[q]=z)}return _}e.filterObjectNullKeys=E;async function M(R){if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(R)}catch(_){console.warn("Copy to clipboard failed.",_)}else console.warn("Copy to clipboard failed, methods not supports.")}e.copyTextToClipboard=M;function k(R){return new Promise(_=>{const $=new Image;$.onload=()=>{const{width:q,height:z}=$;q>0&&z>0?_({width:q,height:z}):_({width:0,height:0})},$.onerror=()=>{_({width:0,height:0})},$.className="hidden",$.src=R,document.body.appendChild($),$.remove()})}e.getImageSize=k;async function I(R){var z,ee,ie,ae;let _;const q=app.plugins.getPlugin("obsidian-memos").settings.UseDailyOrPeriodic==="Daily";try{return!q&&((ae=(ie=(ee=(z=window.app.plugins)==null?void 0:z.getPlugin("periodic-notes"))==null?void 0:ee.calendarSetManager)==null?void 0:ie.getActiveConfig("day"))!=null&&ae.enabled)?(_=await window.app.plugins.getPlugin("periodic-notes").createPeriodicNote("day",R),_):(_=await rE(R),_)}catch(me){return console.error(me),new F.Notice(O("Failed to create daily note. Please check if you created a folder for daily notes.")),null}}e.createDailyNoteCheck=I;function B(R){const _=[];let $=0;for(;$<R;$++)_.push((16*Math.random()|0).toString(16));return _.join("")}e.randomId=B;function N(R){return R.replace(/[\p{P}\p{Z}\p{S}]/gu,"").length}e.countWords=N;async function j(R){try{const _=await F.requestUrl(R),$=new Uint8Array(_.arrayBuffer);return new Blob([$],{type:"image/png"})}catch(_){return console.error("error in grabImageFromUrl",R,_),new Blob}}e.grabImageFromUrl=j})(t1||(t1={}));const Ue=t1;function W8(){var i,s,c,d,h,g;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(c=(s=(i=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:i.calendarSetManager)==null?void 0:s.getActiveConfig("day"))==null?void 0:c.folder,a=(g=(h=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:h.daily)==null?void 0:g.format;switch(r===void 0?n=a:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=Kg().format||"YYYY-MM-DD";break;case"Periodic":e=n||"YYYY-MM-DD";break;default:e=Kg().format||"YYYY-MM-DD";break}return e===void 0&&new F.Notice(O("You didn't set format for daily notes in both periodic-notes and daily-notes plugins.")),e}function iE(){var i,s,c,d,h,g;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(c=(s=(i=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:i.calendarSetManager)==null?void 0:s.getActiveConfig("day"))==null?void 0:c.folder,a=(g=(h=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:h.daily)==null?void 0:g.folder;switch(r===void 0?n=a:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=Kg().folder||"";break;case"Periodic":e=n||"";break;default:e=Kg().folder||"";break}return e===void 0&&new F.Notice(O("You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.")),e}function n1(e,t){var r;e=z8(e),e=V8(e).split("<br>").map(a=>`<p>${a!==""?a:"<br>"}</p>`).join(""),e=B8(e,t),e=e.replace(ir,"<span class='tag-span'>#$1</span>").replace(La,"<p><span class='tag-span'>#$2</span>").replace(Rf,"$1<a class='link' target='_blank' rel='noreferrer' href='$2'>$2</a>").replace($8,"<a class='link' target='_blank' rel='noreferrer' href='$2'>$1</a>").replace(Ou,"<span class='memo-link-text' data-value='$2'>$1</span>").replace(/\^\S{6}/g,"");const n=document.createElement("div");n.innerHTML=e;for(let a=0;a<n.children.length;a++){const i=n.children[a];if(i.tagName==="P"&&i.textContent===""&&((r=i.firstElementChild)==null?void 0:r.tagName)!=="BR"){i.remove(),a--;continue}}return n.innerHTML}function G8(e,t){switch(t.type){case"SET_MEMOS":{const n=t.payload.memos.sort((a,i)=>{const s=Ue.getTimeStampByDate(a.createdAt),c=Ue.getTimeStampByDate(i.createdAt);return s===c?i.id.localeCompare(a.id):Ue.getTimeStampByDate(i.createdAt)-Ue.getTimeStampByDate(a.createdAt)}),r=Ue.dedupeObjectWithId(n);return{...e,memos:[...r]}}case"SET_COMMENT_MEMOS":{const n=Ue.dedupeObjectWithId(t.payload.commentMemos.sort((r,a)=>Ue.getTimeStampByDate(a.createdAt)-Ue.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"SET_TAGS":return{...e,tags:t.payload.tags,tagsNum:t.payload.tagsNum};case"INSERT_MEMO":{const n=Ue.dedupeObjectWithId([t.payload.memo,...e.memos].sort((r,a)=>Ue.getTimeStampByDate(a.createdAt)-Ue.getTimeStampByDate(r.createdAt)));return{...e,memos:n}}case"INSERT_COMMENT_MEMO":{const n=Ue.dedupeObjectWithId([t.payload.memo,...e.commentMemos].sort((r,a)=>Ue.getTimeStampByDate(a.createdAt)-Ue.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"DELETE_MEMO_BY_ID":return{...e,memos:[...e.memos].filter(n=>n.id!==t.payload.id)};case"DELETE_MEMO_BY_ID_BATCH":{const n=[...e.memos];return t.payload.ids.forEach(r=>{n.splice(n.findIndex(a=>a.id===r),1)}),{...e,memos:[...n]}}case"CLEAR_MEMOS":return{...sE};case"EDIT_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"EDIT_MEMO_PATH":{const n=e.memos.map(r=>r.path===t.payload.path?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"UPDATE_MEMO_BATCH":{const n=e.memos.filter(a=>a.path!==t.payload.path),r=Ue.dedupeObjectWithId([...t.payload.memos,...n].sort((a,i)=>Ue.getTimeStampByDate(i.createdAt)-Ue.getTimeStampByDate(a.createdAt)));return{...e,memos:[...r]}}case"ARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"UNARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"PIN_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,pinned:t.payload.pinned}:r);return{...e,memos:[...n]}}case"EDIT_COMMENT_MEMO":{const n=e.commentMemos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,commentMemos:[...n]}}default:return e}}const sE={memos:[],commentMemos:[],tags:[],tagsNum:{}};function K8(e,t){switch(t.type){case"SIGN_IN":return{user:t.payload.user};case"SIGN_OUT":return{user:null};default:return e}}const Q8={user:null};function Z8(e,t){switch(t.type){case"SET_QUERIES":{const n=Ue.dedupeObjectWithId(t.payload.queries.sort((r,a)=>Ue.getTimeStampByDate(a.createdAt)-Ue.getTimeStampByDate(r.createdAt)).sort((r,a)=>Ue.getTimeStampByDate(a.pinnedAt??0)-Ue.getTimeStampByDate(r.pinnedAt??0)));return{...e,queries:n}}case"INSERT_QUERY":{const n=Ue.dedupeObjectWithId([t.payload.query,...e.queries].sort((r,a)=>Ue.getTimeStampByDate(a.createdAt)-Ue.getTimeStampByDate(r.createdAt)));return{...e,queries:n}}case"DELETE_QUERY_BY_ID":return{...e,queries:[...e.queries].filter(n=>n.id!==t.payload.id)};case"UPDATE_QUERY":{const n=e.queries.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,queries:n}}default:return e}}const J8={queries:[]};function X8(e,t){var n,r,a,i;switch(t.type){case"SET_DAILY_NOTES":return{...e,dailyNotes:t.payload.dailyNotes};case"SET_APP":return e.app?{...e}:{...e,app:t.payload.app};case"SET_PLUGIN":return e.plugin?{...e}:{...e,plugin:t.payload.plugin};case"SET_EDITOR":return e.editor?{...e}:{...e,editor:t.payload.editor};case"SET_SETTINGS":return e.settings&&e.settings===t.payload.settings?{...e}:{...e,settings:t.payload.settings};case"SET_VIEW":return e.view&&((r=(n=e.view)==null?void 0:n.leaf)==null?void 0:r.id)===((i=(a=t.payload.view)==null?void 0:a.leaf)==null?void 0:i.id)?{...e}:{...e,view:t.payload.view};case"CLEAR_VIEW":return e.view&&e.view.unload(),{...e,view:null};case"CLEAR_FILES":return{...e,dailyNotes:null};case"SET_VERIFY_STATE":return{...e,verifyState:t.payload.verifyState};default:return e}}const eM={dailyNotes:null,app:null,view:null,settings:null,editor:null,plugin:null,verifyState:null},xe=O6({globalState:L6,locationState:U2,memoState:sE,userState:Q8,queryState:J8,dailyNotesState:eM},A6({globalState:R6,locationState:_6,memoState:G8,userState:K8,queryState:Z8,dailyNotesState:X8})),Ft=A.createContext(xe.getState());String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});class tM{constructor(){ye(this,"initialized",!1)}getState(){return xe.getState().dailyNotesState}setApp(t){return xe.dispatch({type:"SET_APP",payload:{app:t}}),t}setPlugin(t){return xe.dispatch({type:"SET_PLUGIN",payload:{plugin:t}}),t}setSettings(t){return xe.dispatch({type:"SET_SETTINGS",payload:{settings:t}}),this.initialized||(this.initialized=!0),t}setView(t){return xe.dispatch({type:"SET_VIEW",payload:{view:t}}),t}setEditor(t){return xe.dispatch({type:"SET_EDITOR",payload:{editor:t}}),t}async updateDailyNotes(t,n){const r=this.getState().dailyNotes,a=Bp(t,"day");return n?delete r[`day-${a.format("YYYY-MM-DD")}T00:00:00+08:00}`]:r[`day-${a.format("YYYY-MM-DD")}T00:00:00+08:00}`]=t,xe.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:r}}),r}setVerifyState(t){return xe.dispatch({type:"SET_VERIFY_STATE",payload:{verifyState:t}}),t}async fechLocalDailyNotes(){const t=Au();return xe.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:t}}),t}}const ct=new tM;var zn;(e=>{function t(i){const s={};for(const c of i)try{const d=localStorage.getItem(c);if(d!==null){const h=JSON.parse(d);s[c]=h}}catch(d){console.error("Get storage failed in ",c,d)}return s}e.get=t;function n(i){for(const s in i)try{const c=JSON.stringify(i[s]);localStorage.setItem(s,c)}catch(c){console.error("Save storage failed in ",s,c)}}e.set=n;function r(i){for(const s of i)try{localStorage.removeItem(s)}catch(c){console.error("Remove storage failed in ",s,c)}}e.remove=r;function a(){var s;const i=document.createElement("iframe");i.style.display="none",document.body.appendChild(i),(s=i.contentWindow)==null||s.localStorage.setItem("t",Date.now().toString()),i.remove()}e.emitStorageChangedEvent=a})(zn||(zn={}));class nM{constructor(){ye(this,"getState",()=>xe.getState().globalState);ye(this,"setEditMemoId",t=>{xe.dispatch({type:"SET_EDIT_MEMO_ID",payload:{editMemoId:t}})});ye(this,"setRefresh",t=>{xe.dispatch({type:"SET_REFRESH",payload:{refresh:t}})});ye(this,"setCommentMemoId",t=>{xe.dispatch({type:"SET_COMMENT_MEMO_ID",payload:{commentMemoId:t}})});ye(this,"setMarkMemoId",t=>{xe.dispatch({type:"SET_MARK_MEMO_ID",payload:{markMemoId:t}})});ye(this,"setLoaded",t=>{xe.dispatch({type:"SET_LOADED",payload:{loaded:t}})});ye(this,"setGlobalEditorShown",t=>{xe.dispatch({type:"SET_GLOBAL_EDITOR_SHOWN",payload:{globalEditorShown:t}})});ye(this,"setIsMobileView",t=>{xe.dispatch({type:"SET_MOBILE_VIEW",payload:{isMobileView:t}})});ye(this,"setChangedByMemos",t=>{xe.dispatch({type:"SET_CHANGED_BY_MEMOS",payload:{changedByMemos:t}})});ye(this,"setShowSiderbarInMobileView",t=>{xe.dispatch({type:"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW",payload:{showSiderbarInMobileView:t}})});ye(this,"setAppSetting",t=>{xe.dispatch({type:"SET_APP_SETTING",payload:t}),zn.set(t)});ye(this,"setMemoListView",t=>{xe.dispatch({type:"SET_MEMO_LIST_VIEW",payload:{memoListView:t}})});ye(this,"setInstance",(t,n)=>{xe.dispatch({type:"SET_INSTANCE",payload:{id:t,instance:n}})});ye(this,"setPluginManifest",t=>{xe.dispatch({type:"SET_MEMO_PLUGIN_MANIFEST",payload:{manifest:t}})});const t=zn.get(["shouldSplitMemoWord","shouldHideImageUrl","shouldUseMarkdownParser","useTinyUndoHistoryCache"]),n={shouldSplitMemoWord:t.shouldSplitMemoWord??!0,shouldHideImageUrl:t.shouldHideImageUrl??!0,shouldUseMarkdownParser:t.shouldUseMarkdownParser??!0,useTinyUndoHistoryCache:t.useTinyUndoHistoryCache??!1};this.setAppSetting(n)}}const rt=new nM;class rM{constructor(){ye(this,"updateStateWithLocation",()=>{const{pathname:t,search:n,hash:r}=window.location,a=new URLSearchParams(n),i={pathname:"/",hash:"",query:{tag:"",duration:null,text:"",type:"",filter:""}};i.query.tag=a.get("tag")??"",i.query.type=a.get("type")??"",i.query.text=a.get("text")??"",i.query.filter=a.get("filter")??"";const s=parseInt(a.get("from")??"0"),c=parseInt(a.get("to")??"0");c>s&&c!==0&&(i.query.duration={from:s,to:c}),i.hash=r,i.pathname=this.getValidPathname(t),xe.dispatch({type:"SET_LOCATION",payload:i})});ye(this,"getState",()=>xe.getState().locationState);ye(this,"clearQuery",()=>{xe.dispatch({type:"SET_QUERY",payload:{tag:"",duration:null,text:"",type:"",filter:""}})});ye(this,"setQuery",t=>{xe.dispatch({type:"SET_QUERY",payload:t})});ye(this,"reloadApp",()=>{xe.dispatch({type:"RELOAD"})});ye(this,"setHash",t=>{xe.dispatch({type:"SET_HASH",payload:{hash:t}})});ye(this,"setPathname",t=>{xe.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});ye(this,"pushHistory",t=>{xe.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});ye(this,"replaceHistory",t=>{xe.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});ye(this,"setMemoTypeQuery",(t="")=>{xe.dispatch({type:"SET_TYPE",payload:{type:t}})});ye(this,"setMemoFilter",t=>{xe.dispatch({type:"SET_QUERY_FILTER",payload:t})});ye(this,"setTextQuery",t=>{xe.dispatch({type:"SET_TEXT",payload:{text:t}})});ye(this,"setTimeQuery",t=>{xe.dispatch({type:"SET_DURATION_QUERY",payload:{duration:t}})});ye(this,"setTagQuery",t=>{xe.dispatch({type:"SET_TAG_QUERY",payload:{tag:t}})});ye(this,"setFromAndToQuery",(t,n)=>{xe.dispatch({type:"SET_DURATION_QUERY",payload:{duration:{from:t,to:n}}})});ye(this,"getValidPathname",t=>["/","/homeboard","/recycle","/setting"].includes(t)?t:"/");this.updateStateWithLocation(),window.onpopstate=()=>{this.updateStateWithLocation()}}}const it=new rM,Du=e=>`${e.vault.configDir}/query.json`,lE=async(e,t)=>{try{return await e.vault.adapter.read(t),!0}catch(n){return console.error(n),!1}},_f=async e=>(await lE(e,Du(e))||await uE(e),JSON.parse(await e.vault.adapter.read(Du(e))).queries||[]),gh=async(e,t)=>{await e.vault.adapter.write(Du(e),JSON.stringify({queries:t},null,2))},uE=async e=>{const t=rt.getState().manifest,n=e.plugins.getPlugin(t.id||"obsidian-memos").settings,r=e.metadataCache.getFirstLinkpathDest(n.QueryFileName,"");if(!r)await e.vault.adapter.write(Du(e),JSON.stringify({queries:[]},null,2));else{const i=(await e.vault.read(r)).split(`
`);i.length===0&&await e.vault.adapter.write(Du(e),JSON.stringify({queries:[]},null,2));const s=[];for(let c=0;c<i.length;c++){const d=c,h="Memos";let g="未命名";const m=i[c];let w=F.moment().format("YYYY/MM/DD HH:mm:ss"),b="[]";const T=m.match(/^\d{14,16}/);T&&(w=F.moment(T[0].slice(0,14),"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:ss"));const E=m.match(/\[\{(.+)\}\]/);E&&(b=E[0]);const M=m.match(/\s(.+)\s\[\{/);M&&(g=M[0].slice(1,-3)),s.push({id:d,pinnedAt:"",createdAt:w,updatedAt:w,title:g,querystring:b,userId:h})}await e.vault.adapter.write(Du(e),JSON.stringify({queries:s},null,2))}},aM=async()=>{const{app:e}=xe.getState().dailyNotesState;return await lE(e,Du(e))||await uE(e),await _f(e)||[]},oM=(e,t)=>({createdAt:F.moment().format("YYYY/MM/DD HH:mm:ss"),id:e,pinnedAt:"",querystring:t,title:O("Temp Filter"),updatedAt:F.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"}),iM=async(e,t)=>{const n=await _f(xe.getState().dailyNotesState.app)||[],r={createdAt:F.moment().format("YYYY/MM/DD HH:mm:ss"),id:F.moment().format("YYYYMMDDHHmmss")+n.length,pinnedAt:"",querystring:t,title:e,updatedAt:F.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"};return n.push(r),await gh(xe.getState().dailyNotesState.app,n),r};var Qg={exports:{}};Qg.exports;(function(e,t){(function(){var n,r="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",m=1,w=2,b=4,T=1,E=2,M=1,k=2,I=4,B=8,N=16,j=32,R=64,_=128,$=256,q=512,z=30,ee="...",ie=800,ae=16,me=1,fe=2,be=3,Te=1/0,J=9007199254740991,ve=17976931348623157e292,V=NaN,G=4294967295,le=G-1,we=G>>>1,ue=[["ary",_],["bind",M],["bindKey",k],["curry",B],["curryRight",N],["flip",q],["partial",j],["partialRight",R],["rearg",$]],De="[object Arguments]",Re="[object Array]",Ye="[object AsyncFunction]",Be="[object Boolean]",yt="[object Date]",Se="[object DOMException]",Ve="[object Error]",Ke="[object Function]",Xe="[object GeneratorFunction]",Ge="[object Map]",tt="[object Number]",Dt="[object Null]",dt="[object Object]",Vt="[object Promise]",Ba="[object Proxy]",cn="[object RegExp]",en="[object Set]",br="[object String]",Dr="[object Symbol]",_o="[object Undefined]",va="[object WeakMap]",so="[object WeakSet]",Qr="[object ArrayBuffer]",Sr="[object DataView]",gs="[object Float32Array]",lo="[object Float64Array]",uo="[object Int8Array]",Tl="[object Int16Array]",Mi="[object Int32Array]",ki="[object Uint8Array]",vs="[object Uint8ClampedArray]",Po="[object Uint16Array]",Fi="[object Uint32Array]",U=/\b__p \+= '';/g,ne=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ce=/&(?:amp|lt|gt|quot|#39);/g,Le=/[&<>"']/g,je=RegExp(Ce.source),He=RegExp(Le.source),mt=/<%-([\s\S]+?)%>/g,Yt=/<%([\s\S]+?)%>/g,xn=/<%=([\s\S]+?)%>/g,mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zr=/^\w*$/,Mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ur=/[\\^$.*+?()[\]{}|]/g,Jr=RegExp(ur.source),Cl=/^\s+/,Gt=/\s/,ya=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wa=/\{\n\/\* \[wrapped with (.+)\] \*/,ba=/,? & /,jo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bo=/[()=,{}\[\]\/\s]/,ly=/\\(\\)?/g,Ni=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ed=/\w*$/,jh=/^[-+]0x[0-9a-f]+$/i,uy=/^0b[01]+$/i,Bh=/^\[object .+?Constructor\]$/,Yh=/^0o[0-7]+$/i,Hh=/^(?:0|[1-9]\d*)$/,Uh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pu=/($^)/,cy=/['\n\r\u2028\u2029\\]/g,tn="\\ud800-\\udfff",fy="\\u0300-\\u036f",td="\\ufe20-\\ufe2f",Vh="\\u20d0-\\u20ff",xl=fy+td+Vh,zh="\\u2700-\\u27bf",nd="a-z\\xdf-\\xf6\\xf8-\\xff",ju="\\xac\\xb1\\xd7\\xf7",Ya="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dy="\\u2000-\\u206f",Da=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$h="A-Z\\xc0-\\xd6\\xd8-\\xde",qh="\\ufe0e\\ufe0f",Wh=ju+Ya+dy+Da,ys="['’]",Bu="["+tn+"]",ws="["+Wh+"]",Ii="["+xl+"]",Gh="\\d+",py="["+zh+"]",Yu="["+nd+"]",rd="[^"+tn+Wh+Gh+zh+nd+$h+"]",Ml="\\ud83c[\\udffb-\\udfff]",kl="(?:"+Ii+"|"+Ml+")",Kh="[^"+tn+"]",Fl="(?:\\ud83c[\\udde6-\\uddff]){2}",Pt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ai="["+$h+"]",ad="\\u200d",Hu="(?:"+Yu+"|"+rd+")",Qh="(?:"+Ai+"|"+rd+")",od="(?:"+ys+"(?:d|ll|m|re|s|t|ve))?",id="(?:"+ys+"(?:D|LL|M|RE|S|T|VE))?",Uu=kl+"?",Nl="["+qh+"]?",Yo="(?:"+ad+"(?:"+[Kh,Fl,Pt].join("|")+")"+Nl+Uu+")*",Ho="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Uo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bs=Nl+Uu+Yo,Il="(?:"+[py,Fl,Pt].join("|")+")"+bs,Vo="(?:"+[Kh+Ii+"?",Ii,Fl,Pt,Bu].join("|")+")",hy=RegExp(ys,"g"),Zh=RegExp(Ii,"g"),Oi=RegExp(Ml+"(?="+Ml+")|"+Vo+bs,"g"),my=RegExp([Ai+"?"+Yu+"+"+od+"(?="+[ws,Ai,"$"].join("|")+")",Qh+"+"+id+"(?="+[ws,Ai+Hu,"$"].join("|")+")",Ai+"?"+Hu+"+"+od,Ai+"+"+id,Uo,Ho,Gh,Il].join("|"),"g"),Jh=RegExp("["+ad+tn+xl+qh+"]"),Vu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gy=-1,Ht={};Ht[gs]=Ht[lo]=Ht[uo]=Ht[Tl]=Ht[Mi]=Ht[ki]=Ht[vs]=Ht[Po]=Ht[Fi]=!0,Ht[De]=Ht[Re]=Ht[Qr]=Ht[Be]=Ht[Sr]=Ht[yt]=Ht[Ve]=Ht[Ke]=Ht[Ge]=Ht[tt]=Ht[dt]=Ht[cn]=Ht[en]=Ht[br]=Ht[va]=!1;var jt={};jt[De]=jt[Re]=jt[Qr]=jt[Sr]=jt[Be]=jt[yt]=jt[gs]=jt[lo]=jt[uo]=jt[Tl]=jt[Mi]=jt[Ge]=jt[tt]=jt[dt]=jt[cn]=jt[en]=jt[br]=jt[Dr]=jt[ki]=jt[vs]=jt[Po]=jt[Fi]=!0,jt[Ve]=jt[Ke]=jt[va]=!1;var Ds={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},zu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sd=parseFloat,$u=parseInt,qu=typeof Vn=="object"&&Vn&&Vn.Object===Object&&Vn,em=typeof self=="object"&&self&&self.Object===Object&&self,nn=qu||em||Function("return this")(),Al=t&&!t.nodeType&&t,Ha=Al&&!0&&e&&!e.nodeType&&e,ld=Ha&&Ha.exports===Al,Ss=ld&&qu.process,cr=function(){try{var oe=Ha&&Ha.require&&Ha.require("util").types;return oe||Ss&&Ss.binding&&Ss.binding("util")}catch{}}(),ud=cr&&cr.isArrayBuffer,Er=cr&&cr.isDate,Ri=cr&&cr.isMap,Wu=cr&&cr.isRegExp,Es=cr&&cr.isSet,tm=cr&&cr.isTypedArray;function fr(oe,Ee,he){switch(he.length){case 0:return oe.call(Ee);case 1:return oe.call(Ee,he[0]);case 2:return oe.call(Ee,he[0],he[1]);case 3:return oe.call(Ee,he[0],he[1],he[2])}return oe.apply(Ee,he)}function cd(oe,Ee,he,qe){for(var bt=-1,Ot=oe==null?0:oe.length;++bt<Ot;){var wn=oe[bt];Ee(qe,wn,he(wn),oe)}return qe}function Wn(oe,Ee){for(var he=-1,qe=oe==null?0:oe.length;++he<qe&&Ee(oe[he],he,oe)!==!1;);return oe}function Gu(oe,Ee){for(var he=oe==null?0:oe.length;he--&&Ee(oe[he],he,oe)!==!1;);return oe}function fd(oe,Ee){for(var he=-1,qe=oe==null?0:oe.length;++he<qe;)if(!Ee(oe[he],he,oe))return!1;return!0}function zo(oe,Ee){for(var he=-1,qe=oe==null?0:oe.length,bt=0,Ot=[];++he<qe;){var wn=oe[he];Ee(wn,he,oe)&&(Ot[bt++]=wn)}return Ot}function Ku(oe,Ee){var he=oe==null?0:oe.length;return!!he&&Ts(oe,Ee,0)>-1}function dd(oe,Ee,he){for(var qe=-1,bt=oe==null?0:oe.length;++qe<bt;)if(he(Ee,oe[qe]))return!0;return!1}function qt(oe,Ee){for(var he=-1,qe=oe==null?0:oe.length,bt=Array(qe);++he<qe;)bt[he]=Ee(oe[he],he,oe);return bt}function $o(oe,Ee){for(var he=-1,qe=Ee.length,bt=oe.length;++he<qe;)oe[bt+he]=Ee[he];return oe}function pd(oe,Ee,he,qe){var bt=-1,Ot=oe==null?0:oe.length;for(qe&&Ot&&(he=oe[++bt]);++bt<Ot;)he=Ee(he,oe[bt],bt,oe);return he}function wy(oe,Ee,he,qe){var bt=oe==null?0:oe.length;for(qe&&bt&&(he=oe[--bt]);bt--;)he=Ee(he,oe[bt],bt,oe);return he}function hd(oe,Ee){for(var he=-1,qe=oe==null?0:oe.length;++he<qe;)if(Ee(oe[he],he,oe))return!0;return!1}var by=gd("length");function nm(oe){return oe.split("")}function Dy(oe){return oe.match(jo)||[]}function rm(oe,Ee,he){var qe;return he(oe,function(bt,Ot,wn){if(Ee(bt,Ot,wn))return qe=Ot,!1}),qe}function Qu(oe,Ee,he,qe){for(var bt=oe.length,Ot=he+(qe?1:-1);qe?Ot--:++Ot<bt;)if(Ee(oe[Ot],Ot,oe))return Ot;return-1}function Ts(oe,Ee,he){return Ee===Ee?Xu(oe,Ee,he):Qu(oe,am,he)}function md(oe,Ee,he,qe){for(var bt=he-1,Ot=oe.length;++bt<Ot;)if(qe(oe[bt],Ee))return bt;return-1}function am(oe){return oe!==oe}function om(oe,Ee){var he=oe==null?0:oe.length;return he?vd(oe,Ee)/he:V}function gd(oe){return function(Ee){return Ee==null?n:Ee[oe]}}function Zu(oe){return function(Ee){return oe==null?n:oe[Ee]}}function im(oe,Ee,he,qe,bt){return bt(oe,function(Ot,wn,zt){he=qe?(qe=!1,Ot):Ee(he,Ot,wn,zt)}),he}function Sy(oe,Ee){var he=oe.length;for(oe.sort(Ee);he--;)oe[he]=oe[he].value;return oe}function vd(oe,Ee){for(var he,qe=-1,bt=oe.length;++qe<bt;){var Ot=Ee(oe[qe]);Ot!==n&&(he=he===n?Ot:he+Ot)}return he}function yd(oe,Ee){for(var he=-1,qe=Array(oe);++he<oe;)qe[he]=Ee(he);return qe}function Ey(oe,Ee){return qt(Ee,function(he){return[he,oe[he]]})}function sm(oe){return oe&&oe.slice(0,ec(oe)+1).replace(Cl,"")}function _r(oe){return function(Ee){return oe(Ee)}}function Ol(oe,Ee){return qt(Ee,function(he){return oe[he]})}function co(oe,Ee){return oe.has(Ee)}function lm(oe,Ee){for(var he=-1,qe=oe.length;++he<qe&&Ts(Ee,oe[he],0)>-1;);return he}function wd(oe,Ee){for(var he=oe.length;he--&&Ts(Ee,oe[he],0)>-1;);return he}function um(oe,Ee){for(var he=oe.length,qe=0;he--;)oe[he]===Ee&&++qe;return qe}var cm=Zu(Ds),fm=Zu(zu);function dm(oe){return"\\"+yy[oe]}function Cs(oe,Ee){return oe==null?n:oe[Ee]}function xs(oe){return Jh.test(oe)}function Ty(oe){return Vu.test(oe)}function Cy(oe){for(var Ee,he=[];!(Ee=oe.next()).done;)he.push(Ee.value);return he}function Ju(oe){var Ee=-1,he=Array(oe.size);return oe.forEach(function(qe,bt){he[++Ee]=[bt,qe]}),he}function bd(oe,Ee){return function(he){return oe(Ee(he))}}function Xr(oe,Ee){for(var he=-1,qe=oe.length,bt=0,Ot=[];++he<qe;){var wn=oe[he];(wn===Ee||wn===g)&&(oe[he]=g,Ot[bt++]=he)}return Ot}function qo(oe){var Ee=-1,he=Array(oe.size);return oe.forEach(function(qe){he[++Ee]=qe}),he}function xy(oe){var Ee=-1,he=Array(oe.size);return oe.forEach(function(qe){he[++Ee]=[qe,qe]}),he}function Xu(oe,Ee,he){for(var qe=he-1,bt=oe.length;++qe<bt;)if(oe[qe]===Ee)return qe;return-1}function My(oe,Ee,he){for(var qe=he+1;qe--;)if(oe[qe]===Ee)return qe;return qe}function Li(oe){return xs(oe)?hm(oe):by(oe)}function Pr(oe){return xs(oe)?mm(oe):nm(oe)}function ec(oe){for(var Ee=oe.length;Ee--&&Gt.test(oe.charAt(Ee)););return Ee}var pm=Zu(vy);function hm(oe){for(var Ee=Oi.lastIndex=0;Oi.test(oe);)++Ee;return Ee}function mm(oe){return oe.match(Oi)||[]}function ky(oe){return oe.match(my)||[]}var Fy=function oe(Ee){Ee=Ee==null?nn:Ms.defaults(nn.Object(),Ee,Ms.pick(nn,Xh));var he=Ee.Array,qe=Ee.Date,bt=Ee.Error,Ot=Ee.Function,wn=Ee.Math,zt=Ee.Object,Rl=Ee.RegExp,Ny=Ee.String,ea=Ee.TypeError,fo=he.prototype,Dd=Ot.prototype,Ua=zt.prototype,ks=Ee["__core-js_shared__"],Ll=Dd.toString,Rt=Ua.hasOwnProperty,Fs=0,tc=function(){var u=/[^.]+$/.exec(ks&&ks.keys&&ks.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),_l=Ua.toString,nc=Ll.call(zt),gm=nn._,vm=Rl("^"+Ll.call(Rt).replace(ur,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pl=ld?Ee.Buffer:n,po=Ee.Symbol,jl=Ee.Uint8Array,Sd=Pl?Pl.allocUnsafe:n,Sa=bd(zt.getPrototypeOf,zt),rc=zt.create,ac=Ua.propertyIsEnumerable,oc=fo.splice,ym=po?po.isConcatSpreadable:n,ho=po?po.iterator:n,_i=po?po.toStringTag:n,Bl=function(){try{var u=bo(zt,"defineProperty");return u({},"",{}),u}catch{}}(),wm=Ee.clearTimeout!==nn.clearTimeout&&Ee.clearTimeout,Kt=qe&&qe.now!==nn.Date.now&&qe.now,Ed=Ee.setTimeout!==nn.setTimeout&&Ee.setTimeout,Pi=wn.ceil,Wo=wn.floor,ic=zt.getOwnPropertySymbols,Td=Pl?Pl.isBuffer:n,Ns=Ee.isFinite,sc=fo.join,Is=bd(zt.keys,zt),bn=wn.max,Gn=wn.min,Iy=qe.now,bm=Ee.parseInt,Yl=wn.random,lc=fo.reverse,Hl=bo(Ee,"DataView"),ji=bo(Ee,"Map"),Ul=bo(Ee,"Promise"),Go=bo(Ee,"Set"),Vl=bo(Ee,"WeakMap"),As=bo(zt,"create"),uc=Vl&&new Vl,Os={},Cd=li(Hl),Ko=li(ji),Dm=li(Ul),Rs=li(Go),Va=li(Vl),Qo=po?po.prototype:n,jr=Qo?Qo.valueOf:n,cc=Qo?Qo.toString:n;function Y(u){if(Sn(u)&&!Tt(u)&&!(u instanceof St)){if(u instanceof Kn)return u;if(Rt.call(u,"__wrapped__"))return ap(u)}return new Kn(u)}var Ls=function(){function u(){}return function(f){if(!vn(f))return{};if(rc)return rc(f);u.prototype=f;var y=new u;return u.prototype=n,y}}();function za(){}function Kn(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=n}Y.templateSettings={escape:mt,evaluate:Yt,interpolate:xn,variable:"",imports:{_:Y}},Y.prototype=za.prototype,Y.prototype.constructor=Y,Kn.prototype=Ls(za.prototype),Kn.prototype.constructor=Kn;function St(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function fc(){var u=new St(this.__wrapped__);return u.__actions__=hr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=hr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=hr(this.__views__),u}function xd(){if(this.__filtered__){var u=new St(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function _s(){var u=this.__wrapped__.value(),f=this.__dir__,y=Tt(u),x=f<0,L=y?u.length:0,H=$m(0,L,this.__views__),K=H.start,te=H.end,se=te-K,ke=x?te:K-1,Fe=this.__iteratees__,Oe=Fe.length,ze=0,at=Gn(se,this.__takeCount__);if(!y||!x&&L==se&&at==se)return jd(u,this.__actions__);var gt=[];e:for(;se--&&ze<at;){ke+=f;for(var xt=-1,vt=u[ke];++xt<Oe;){var Mt=Fe[xt],At=Mt.iteratee,Aa=Mt.type,$r=At(vt);if(Aa==fe)vt=$r;else if(!$r){if(Aa==me)continue e;break e}}gt[ze++]=vt}return gt}St.prototype=Ls(za.prototype),St.prototype.constructor=St;function Tr(u){var f=-1,y=u==null?0:u.length;for(this.clear();++f<y;){var x=u[f];this.set(x[0],x[1])}}function Qt(){this.__data__=As?As(null):{},this.size=0}function Wt(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f}function Zo(u){var f=this.__data__;if(As){var y=f[u];return y===d?n:y}return Rt.call(f,u)?f[u]:n}function Qn(u){var f=this.__data__;return As?f[u]!==n:Rt.call(f,u)}function Cr(u,f){var y=this.__data__;return this.size+=this.has(u)?0:1,y[u]=As&&f===n?d:f,this}Tr.prototype.clear=Qt,Tr.prototype.delete=Wt,Tr.prototype.get=Zo,Tr.prototype.has=Qn,Tr.prototype.set=Cr;function dr(u){var f=-1,y=u==null?0:u.length;for(this.clear();++f<y;){var x=u[f];this.set(x[0],x[1])}}function Ps(){this.__data__=[],this.size=0}function xr(u){var f=this.__data__,y=Jn(f,u);if(y<0)return!1;var x=f.length-1;return y==x?f.pop():oc.call(f,y,1),--this.size,!0}function dc(u){var f=this.__data__,y=Jn(f,u);return y<0?n:f[y][1]}function Sm(u){return Jn(this.__data__,u)>-1}function Em(u,f){var y=this.__data__,x=Jn(y,u);return x<0?(++this.size,y.push([u,f])):y[x][1]=f,this}dr.prototype.clear=Ps,dr.prototype.delete=xr,dr.prototype.get=dc,dr.prototype.has=Sm,dr.prototype.set=Em;function ta(u){var f=-1,y=u==null?0:u.length;for(this.clear();++f<y;){var x=u[f];this.set(x[0],x[1])}}function Tm(){this.size=0,this.__data__={hash:new Tr,map:new(ji||dr),string:new Tr}}function mo(u){var f=Bc(this,u).delete(u);return this.size-=f?1:0,f}function pc(u){return Bc(this,u).get(u)}function Md(u){return Bc(this,u).has(u)}function Cm(u,f){var y=Bc(this,u),x=y.size;return y.set(u,f),this.size+=y.size==x?0:1,this}ta.prototype.clear=Tm,ta.prototype.delete=mo,ta.prototype.get=pc,ta.prototype.has=Md,ta.prototype.set=Cm;function Bi(u){var f=-1,y=u==null?0:u.length;for(this.__data__=new ta;++f<y;)this.add(u[f])}function Jo(u){return this.__data__.set(u,d),this}function js(u){return this.__data__.has(u)}Bi.prototype.add=Bi.prototype.push=Jo,Bi.prototype.has=js;function Zn(u){var f=this.__data__=new dr(u);this.size=f.size}function hc(){this.__data__=new dr,this.size=0}function mc(u){var f=this.__data__,y=f.delete(u);return this.size=f.size,y}function na(u){return this.__data__.get(u)}function ra(u){return this.__data__.has(u)}function Yi(u,f){var y=this.__data__;if(y instanceof dr){var x=y.__data__;if(!ji||x.length<a-1)return x.push([u,f]),this.size=++y.size,this;y=this.__data__=new ta(x)}return y.set(u,f),this.size=y.size,this}Zn.prototype.clear=hc,Zn.prototype.delete=mc,Zn.prototype.get=na,Zn.prototype.has=ra,Zn.prototype.set=Yi;function $a(u,f){var y=Tt(u),x=!y&&hu(u),L=!y&&!x&&tl(u),H=!y&&!x&&!L&&uf(u),K=y||x||L||H,te=K?yd(u.length,Ny):[],se=te.length;for(var ke in u)(f||Rt.call(u,ke))&&!(K&&(ke=="length"||L&&(ke=="offset"||ke=="parent")||H&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||oa(ke,se)))&&te.push(ke);return te}function qa(u){var f=u.length;return f?u[Zl(0,f-1)]:n}function Hi(u,f){return Ur(hr(u),go(f,0,u.length))}function xm(u){return Ur(hr(u))}function zl(u,f,y){(y!==n&&!Eo(u[f],y)||y===n&&!(f in u))&&Wa(u,f,y)}function Ui(u,f,y){var x=u[f];(!(Rt.call(u,f)&&Eo(x,y))||y===n&&!(f in u))&&Wa(u,f,y)}function Jn(u,f){for(var y=u.length;y--;)if(Eo(u[y][0],f))return y;return-1}function Br(u,f,y,x){return Ka(u,function(L,H,K){f(x,L,y(L),K)}),x}function Zt(u,f){return u&&ka(f,or(f),u)}function Ea(u,f){return u&&ka(f,ua(f),u)}function Wa(u,f,y){f=="__proto__"&&Bl?Bl(u,f,{configurable:!0,enumerable:!0,value:y,writable:!0}):u[f]=y}function gc(u,f){for(var y=-1,x=f.length,L=he(x),H=u==null;++y<x;)L[y]=H?n:e0(u,f[y]);return L}function go(u,f,y){return u===u&&(y!==n&&(u=u<=y?u:y),f!==n&&(u=u>=f?u:f)),u}function Mr(u,f,y,x,L,H){var K,te=f&m,se=f&w,ke=f&b;if(y&&(K=L?y(u,x,L,H):y(u)),K!==n)return K;if(!vn(u))return u;var Fe=Tt(u);if(Fe){if(K=qm(u),!te)return hr(u,K)}else{var Oe=nr(u),ze=Oe==Ke||Oe==Xe;if(tl(u))return Yd(u,te);if(Oe==dt||Oe==De||ze&&!L){if(K=se||ze?{}:Ks(u),!te)return se?Oy(u,Ea(K,u)):_m(u,Zt(K,u))}else{if(!jt[Oe])return L?u:{};K=rr(u,Oe,te)}}H||(H=new Zn);var at=H.get(u);if(at)return at;H.set(u,K),ub(u)?u.forEach(function(vt){K.add(Mr(vt,f,y,vt,u,H))}):sb(u)&&u.forEach(function(vt,Mt){K.set(Mt,Mr(vt,f,y,Mt,u,H))});var gt=ke?se?au:jc:se?ua:or,xt=Fe?n:gt(u);return Wn(xt||u,function(vt,Mt){xt&&(Mt=vt,vt=u[Mt]),Ui(K,Mt,Mr(vt,f,y,Mt,u,H))}),K}function Mm(u){var f=or(u);return function(y){return $l(y,u,f)}}function $l(u,f,y){var x=y.length;if(u==null)return!x;for(u=zt(u);x--;){var L=y[x],H=f[L],K=u[L];if(K===n&&!(L in u)||!H(K))return!1}return!0}function kd(u,f,y){if(typeof u!="function")throw new ea(s);return Zs(function(){u.apply(n,y)},f)}function Ga(u,f,y,x){var L=-1,H=Ku,K=!0,te=u.length,se=[],ke=f.length;if(!te)return se;y&&(f=qt(f,_r(y))),x?(H=dd,K=!1):f.length>=a&&(H=co,K=!1,f=new Bi(f));e:for(;++L<te;){var Fe=u[L],Oe=y==null?Fe:y(Fe);if(Fe=x||Fe!==0?Fe:0,K&&Oe===Oe){for(var ze=ke;ze--;)if(f[ze]===Oe)continue e;se.push(Fe)}else H(f,Oe,x)||se.push(Fe)}return se}var Ka=Pm(aa),km=Pm(Xo,!0);function Ta(u,f){var y=!0;return Ka(u,function(x,L,H){return y=!!f(x,L,H),y}),y}function Vi(u,f,y){for(var x=-1,L=u.length;++x<L;){var H=u[x],K=f(H);if(K!=null&&(te===n?K===K&&!Ia(K):y(K,te)))var te=K,se=H}return se}function vc(u,f,y,x){var L=u.length;for(y=Ct(y),y<0&&(y=-y>L?0:L+y),x=x===n||x>L?L:Ct(x),x<0&&(x+=L),x=y>x?0:fb(x);y<x;)u[y++]=f;return u}function zi(u,f){var y=[];return Ka(u,function(x,L,H){f(x,L,H)&&y.push(x)}),y}function kn(u,f,y,x,L){var H=-1,K=u.length;for(y||(y=_y),L||(L=[]);++H<K;){var te=u[H];f>0&&y(te)?f>1?kn(te,f-1,y,x,L):$o(L,te):x||(L[L.length]=te)}return L}var ql=$d(),yc=$d(!0);function aa(u,f){return u&&ql(u,f,or)}function Xo(u,f){return u&&yc(u,f,or)}function pr(u,f){return zo(f,function(y){return Ji(u[y])})}function Yr(u,f){f=vo(f,u);for(var y=0,x=f.length;u!=null&&y<x;)u=u[Fa(f[y++])];return y&&y==x?u:n}function wc(u,f,y){var x=f(u);return Tt(u)?x:$o(x,y(u))}function Xn(u){return u==null?u===n?_o:Dt:_i&&_i in zt(u)?zm(u):Qm(u)}function Ca(u,f){return u>f}function ei(u,f){return u!=null&&Rt.call(u,f)}function Fd(u,f){return u!=null&&f in zt(u)}function Fm(u,f,y){return u>=Gn(f,y)&&u<bn(f,y)}function xa(u,f,y){for(var x=y?dd:Ku,L=u[0].length,H=u.length,K=H,te=he(H),se=1/0,ke=[];K--;){var Fe=u[K];K&&f&&(Fe=qt(Fe,_r(f))),se=Gn(Fe.length,se),te[K]=!y&&(f||L>=120&&Fe.length>=120)?new Bi(K&&Fe):n}Fe=u[0];var Oe=-1,ze=te[0];e:for(;++Oe<L&&ke.length<se;){var at=Fe[Oe],gt=f?f(at):at;if(at=y||at!==0?at:0,!(ze?co(ze,gt):x(ke,gt,y))){for(K=H;--K;){var xt=te[K];if(!(xt?co(xt,gt):x(u[K],gt,y)))continue e}ze&&ze.push(gt),ke.push(at)}}return ke}function ti(u,f,y,x){return aa(u,function(L,H,K){f(x,y(L),H,K)}),x}function ni(u,f,y){f=vo(f,u),u=Uc(u,f);var x=u==null?u:u[Fa(On(f))];return x==null?n:fr(x,u,y)}function Nd(u){return Sn(u)&&Xn(u)==De}function bc(u){return Sn(u)&&Xn(u)==Qr}function Nm(u){return Sn(u)&&Xn(u)==yt}function Bs(u,f,y,x,L){return u===f?!0:u==null||f==null||!Sn(u)&&!Sn(f)?u!==u&&f!==f:Id(u,f,y,x,Bs,L)}function Id(u,f,y,x,L,H){var K=Tt(u),te=Tt(f),se=K?Re:nr(u),ke=te?Re:nr(f);se=se==De?dt:se,ke=ke==De?dt:ke;var Fe=se==dt,Oe=ke==dt,ze=se==ke;if(ze&&tl(u)){if(!tl(f))return!1;K=!0,Fe=!1}if(ze&&!Fe)return H||(H=new Zn),K||uf(u)?Pc(u,f,y,x,L,H):Vm(u,f,se,y,x,L,H);if(!(y&T)){var at=Fe&&Rt.call(u,"__wrapped__"),gt=Oe&&Rt.call(f,"__wrapped__");if(at||gt){var xt=at?u.value():u,vt=gt?f.value():f;return H||(H=new Zn),L(xt,vt,y,x,H)}}return ze?(H||(H=new Zn),Zd(u,f,y,x,L,H)):!1}function Dc(u){return Sn(u)&&nr(u)==Ge}function Sc(u,f,y,x){var L=y.length,H=L,K=!x;if(u==null)return!H;for(u=zt(u);L--;){var te=y[L];if(K&&te[2]?te[1]!==u[te[0]]:!(te[0]in u))return!1}for(;++L<H;){te=y[L];var se=te[0],ke=u[se],Fe=te[1];if(K&&te[2]){if(ke===n&&!(se in u))return!1}else{var Oe=new Zn;if(x)var ze=x(ke,Fe,se,u,f,Oe);if(!(ze===n?Bs(Fe,ke,T|E,x,Oe):ze))return!1}}return!0}function Ad(u){if(!vn(u)||tp(u))return!1;var f=Ji(u)?vm:Bh;return f.test(li(u))}function Im(u){return Sn(u)&&Xn(u)==cn}function Od(u){return Sn(u)&&nr(u)==en}function Wl(u){return Sn(u)&&dg(u.length)&&!!Ht[Xn(u)]}function Gl(u){return typeof u=="function"?u:u==null?ca:typeof u=="object"?Tt(u)?Ma(u[0],u[1]):Ys(u):Sb(u)}function Ec(u){if(!su(u))return Is(u);var f=[];for(var y in zt(u))Rt.call(u,y)&&y!="constructor"&&f.push(y);return f}function Am(u){if(!vn(u))return Km(u);var f=su(u),y=[];for(var x in u)x=="constructor"&&(f||!Rt.call(u,x))||y.push(x);return y}function ri(u,f){return u<f}function Rd(u,f){var y=-1,x=la(u)?he(u.length):[];return Ka(u,function(L,H,K){x[++y]=f(L,H,K)}),x}function Ys(u){var f=Yc(u);return f.length==1&&f[0][2]?lu(f[0][0],f[0][1]):function(y){return y===u||Sc(y,u,f)}}function Ma(u,f){return ep(u)&&Qs(f)?lu(Fa(u),f):function(y){var x=e0(y,u);return x===n&&x===f?t0(y,u):Bs(f,x,T|E)}}function ai(u,f,y,x,L){u!==f&&ql(f,function(H,K){if(L||(L=new Zn),vn(H))Kl(u,f,K,y,ai,x,L);else{var te=x?x(Hr(u,K),H,K+"",u,f,L):n;te===n&&(te=H),zl(u,K,te)}},ua)}function Kl(u,f,y,x,L,H,K){var te=Hr(u,y),se=Hr(f,y),ke=K.get(se);if(ke){zl(u,y,ke);return}var Fe=H?H(te,se,y+"",u,f,K):n,Oe=Fe===n;if(Oe){var ze=Tt(se),at=!ze&&tl(se),gt=!ze&&!at&&uf(se);Fe=se,ze||at||gt?Tt(te)?Fe=te:Rn(te)?Fe=hr(te):at?(Oe=!1,Fe=Yd(se,!0)):gt?(Oe=!1,Fe=Ud(se,!0)):Fe=[]:Sp(se)||hu(se)?(Fe=te,hu(te)?Fe=db(te):(!vn(te)||Ji(te))&&(Fe=Ks(se))):Oe=!1}Oe&&(K.set(se,Fe),L(Fe,se,x,H,K),K.delete(se)),zl(u,y,Fe)}function oi(u,f){var y=u.length;if(y)return f+=f<0?y:0,oa(f,y)?u[f]:n}function Tc(u,f,y){f.length?f=qt(f,function(H){return Tt(H)?function(K){return Yr(K,H.length===1?H[0]:H)}:H}):f=[ca];var x=-1;f=qt(f,_r(st()));var L=Rd(u,function(H,K,te){var se=qt(f,function(ke){return ke(H)});return{criteria:se,index:++x,value:H}});return Sy(L,function(H,K){return Lm(H,K,y)})}function Hs(u,f){return Ld(u,f,function(y,x){return t0(u,x)})}function Ld(u,f,y){for(var x=-1,L=f.length,H={};++x<L;){var K=f[x],te=Yr(u,K);y(te,K)&&on(H,vo(K,u),te)}return H}function _d(u){return function(f){return Yr(f,u)}}function Jt(u,f,y,x){var L=x?md:Ts,H=-1,K=f.length,te=u;for(u===f&&(f=hr(f)),y&&(te=qt(u,_r(y)));++H<K;)for(var se=0,ke=f[H],Fe=y?y(ke):ke;(se=L(te,Fe,se,x))>-1;)te!==u&&oc.call(te,se,1),oc.call(u,se,1);return u}function Ql(u,f){for(var y=u?f.length:0,x=y-1;y--;){var L=f[y];if(y==x||L!==H){var H=L;oa(L)?oc.call(u,L,1):qi(u,L)}}return u}function Zl(u,f){return u+Wo(Yl()*(f-u+1))}function Pd(u,f,y,x){for(var L=-1,H=bn(Pi((f-u)/(y||1)),0),K=he(H);H--;)K[x?H:++L]=u,u+=y;return K}function Us(u,f){var y="";if(!u||f<1||f>J)return y;do f%2&&(y+=u),f=Wo(f/2),f&&(u+=u);while(f);return y}function Et(u,f){return Vc(Hc(u,f,ca),u+"")}function $i(u){return qa(cf(u))}function an(u,f){var y=cf(u);return Ur(y,go(f,0,y.length))}function on(u,f,y,x){if(!vn(u))return u;f=vo(f,u);for(var L=-1,H=f.length,K=H-1,te=u;te!=null&&++L<H;){var se=Fa(f[L]),ke=y;if(se==="__proto__"||se==="constructor"||se==="prototype")return u;if(L!=K){var Fe=te[se];ke=x?x(Fe,se,te):n,ke===n&&(ke=vn(Fe)?Fe:oa(f[L+1])?[]:{})}Ui(te,se,ke),te=te[se]}return u}var Fn=uc?function(u,f){return uc.set(u,f),u}:ca,Cc=Bl?function(u,f){return Bl(u,"toString",{configurable:!0,enumerable:!1,value:r0(f),writable:!0})}:ca;function Jl(u){return Ur(cf(u))}function er(u,f,y){var x=-1,L=u.length;f<0&&(f=-f>L?0:L+f),y=y>L?L:y,y<0&&(y+=L),L=f>y?0:y-f>>>0,f>>>=0;for(var H=he(L);++x<L;)H[x]=u[x+f];return H}function Ay(u,f){var y;return Ka(u,function(x,L,H){return y=f(x,L,H),!y}),!!y}function Nn(u,f,y){var x=0,L=u==null?x:u.length;if(typeof f=="number"&&f===f&&L<=we){for(;x<L;){var H=x+L>>>1,K=u[H];K!==null&&!Ia(K)&&(y?K<=f:K<f)?x=H+1:L=H}return L}return Xl(u,f,ca,y)}function Xl(u,f,y,x){var L=0,H=u==null?0:u.length;if(H===0)return 0;f=y(f);for(var K=f!==f,te=f===null,se=Ia(f),ke=f===n;L<H;){var Fe=Wo((L+H)/2),Oe=y(u[Fe]),ze=Oe!==n,at=Oe===null,gt=Oe===Oe,xt=Ia(Oe);if(K)var vt=x||gt;else ke?vt=gt&&(x||ze):te?vt=gt&&ze&&(x||!at):se?vt=gt&&ze&&!at&&(x||!xt):at||xt?vt=!1:vt=x?Oe<=f:Oe<f;vt?L=Fe+1:H=Fe}return Gn(H,le)}function xc(u,f){for(var y=-1,x=u.length,L=0,H=[];++y<x;){var K=u[y],te=f?f(K):K;if(!y||!Eo(te,se)){var se=te;H[L++]=K===0?0:K}}return H}function Mc(u){return typeof u=="number"?u:Ia(u)?V:+u}function fn(u){if(typeof u=="string")return u;if(Tt(u))return qt(u,fn)+"";if(Ia(u))return cc?cc.call(u):"";var f=u+"";return f=="0"&&1/u==-Te?"-0":f}function In(u,f,y){var x=-1,L=Ku,H=u.length,K=!0,te=[],se=te;if(y)K=!1,L=dd;else if(H>=a){var ke=f?null:mr(u);if(ke)return qo(ke);K=!1,L=co,se=new Bi}else se=f?[]:te;e:for(;++x<H;){var Fe=u[x],Oe=f?f(Fe):Fe;if(Fe=y||Fe!==0?Fe:0,K&&Oe===Oe){for(var ze=se.length;ze--;)if(se[ze]===Oe)continue e;f&&se.push(Oe),te.push(Fe)}else L(se,Oe,y)||(se!==te&&se.push(Oe),te.push(Fe))}return te}function qi(u,f){return f=vo(f,u),u=Uc(u,f),u==null||delete u[Fa(On(f))]}function kc(u,f,y,x){return on(u,f,y(Yr(u,f)),x)}function Vs(u,f,y,x){for(var L=u.length,H=x?L:-1;(x?H--:++H<L)&&f(u[H],H,u););return y?er(u,x?0:H,x?H+1:L):er(u,x?H+1:0,x?L:H)}function jd(u,f){var y=u;return y instanceof St&&(y=y.value()),pd(f,function(x,L){return L.func.apply(L.thisArg,$o([x],L.args))},y)}function Fc(u,f,y){var x=u.length;if(x<2)return x?In(u[0]):[];for(var L=-1,H=he(x);++L<x;)for(var K=u[L],te=-1;++te<x;)te!=L&&(H[L]=Ga(H[L]||K,u[te],f,y));return In(kn(H,1),f,y)}function Bd(u,f,y){for(var x=-1,L=u.length,H=f.length,K={};++x<L;){var te=x<H?f[x]:n;y(K,u[x],te)}return K}function Nc(u){return Rn(u)?u:[]}function Ic(u){return typeof u=="function"?u:ca}function vo(u,f){return Tt(u)?u:ep(u,f)?[u]:Zm($t(u))}var Om=Et;function yo(u,f,y){var x=u.length;return y=y===n?x:y,!f&&y>=x?u:er(u,f,y)}var zs=wm||function(u){return nn.clearTimeout(u)};function Yd(u,f){if(f)return u.slice();var y=u.length,x=Sd?Sd(y):new u.constructor(y);return u.copy(x),x}function $s(u){var f=new u.constructor(u.byteLength);return new jl(f).set(new jl(u)),f}function Ac(u,f){var y=f?$s(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.byteLength)}function Rm(u){var f=new u.constructor(u.source,ed.exec(u));return f.lastIndex=u.lastIndex,f}function Hd(u){return jr?zt(jr.call(u)):{}}function Ud(u,f){var y=f?$s(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.length)}function Vd(u,f){if(u!==f){var y=u!==n,x=u===null,L=u===u,H=Ia(u),K=f!==n,te=f===null,se=f===f,ke=Ia(f);if(!te&&!ke&&!H&&u>f||H&&K&&se&&!te&&!ke||x&&K&&se||!y&&se||!L)return 1;if(!x&&!H&&!ke&&u<f||ke&&y&&L&&!x&&!H||te&&y&&L||!K&&L||!se)return-1}return 0}function Lm(u,f,y){for(var x=-1,L=u.criteria,H=f.criteria,K=L.length,te=y.length;++x<K;){var se=Vd(L[x],H[x]);if(se){if(x>=te)return se;var ke=y[x];return se*(ke=="desc"?-1:1)}}return u.index-f.index}function zd(u,f,y,x){for(var L=-1,H=u.length,K=y.length,te=-1,se=f.length,ke=bn(H-K,0),Fe=he(se+ke),Oe=!x;++te<se;)Fe[te]=f[te];for(;++L<K;)(Oe||L<H)&&(Fe[y[L]]=u[L]);for(;ke--;)Fe[te++]=u[L++];return Fe}function Oc(u,f,y,x){for(var L=-1,H=u.length,K=-1,te=y.length,se=-1,ke=f.length,Fe=bn(H-te,0),Oe=he(Fe+ke),ze=!x;++L<Fe;)Oe[L]=u[L];for(var at=L;++se<ke;)Oe[at+se]=f[se];for(;++K<te;)(ze||L<H)&&(Oe[at+y[K]]=u[L++]);return Oe}function hr(u,f){var y=-1,x=u.length;for(f||(f=he(x));++y<x;)f[y]=u[y];return f}function ka(u,f,y,x){var L=!y;y||(y={});for(var H=-1,K=f.length;++H<K;){var te=f[H],se=x?x(y[te],u[te],te,y,u):n;se===n&&(se=u[te]),L?Wa(y,te,se):Ui(y,te,se)}return y}function _m(u,f){return ka(u,Gs(u),f)}function Oy(u,f){return ka(u,Ja(u),f)}function eu(u,f){return function(y,x){var L=Tt(y)?cd:Br,H=f?f():{};return L(y,u,st(x,2),H)}}function qs(u){return Et(function(f,y){var x=-1,L=y.length,H=L>1?y[L-1]:n,K=L>2?y[2]:n;for(H=u.length>3&&typeof H=="function"?(L--,H):n,K&&Bt(y[0],y[1],K)&&(H=L<3?n:H,L=1),f=zt(f);++x<L;){var te=y[x];te&&u(f,te,x,H)}return f})}function Pm(u,f){return function(y,x){if(y==null)return y;if(!la(y))return u(y,x);for(var L=y.length,H=f?L:-1,K=zt(y);(f?H--:++H<L)&&x(K[H],H,K)!==!1;);return y}}function $d(u){return function(f,y,x){for(var L=-1,H=zt(f),K=x(f),te=K.length;te--;){var se=K[u?te:++L];if(y(H[se],se,H)===!1)break}return f}}function jm(u,f,y){var x=f&M,L=tu(u);function H(){var K=this&&this!==nn&&this instanceof H?L:u;return K.apply(x?y:this,arguments)}return H}function qd(u){return function(f){f=$t(f);var y=xs(f)?Pr(f):n,x=y?y[0]:f.charAt(0),L=y?yo(y,1).join(""):f.slice(1);return x[u]()+L}}function wo(u){return function(f){return pd(bb(wb(f).replace(hy,"")),u,"")}}function tu(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var y=Ls(u.prototype),x=u.apply(y,f);return vn(x)?x:y}}function Ry(u,f,y){var x=tu(u);function L(){for(var H=arguments.length,K=he(H),te=H,se=ii(L);te--;)K[te]=arguments[te];var ke=H<3&&K[0]!==se&&K[H-1]!==se?[]:Xr(K,se);if(H-=ke.length,H<y)return Hm(u,f,Ws,L.placeholder,n,K,ke,n,n,y-H);var Fe=this&&this!==nn&&this instanceof L?x:u;return fr(Fe,this,K)}return L}function Bm(u){return function(f,y,x){var L=zt(f);if(!la(f)){var H=st(y,3);f=or(f),y=function(te){return H(L[te],te,L)}}var K=u(f,y,x);return K>-1?L[H?f[K]:K]:n}}function Wi(u){return Za(function(f){var y=f.length,x=y,L=Kn.prototype.thru;for(u&&f.reverse();x--;){var H=f[x];if(typeof H!="function")throw new ea(s);if(L&&!K&&iu(H)=="wrapper")var K=new Kn([],!0)}for(x=K?x:y;++x<y;){H=f[x];var te=iu(H),se=te=="wrapper"?ou(H):n;se&&si(se[0])&&se[1]==(_|B|j|$)&&!se[4].length&&se[9]==1?K=K[iu(se[0])].apply(K,se[3]):K=H.length==1&&si(H)?K[te]():K.thru(H)}return function(){var ke=arguments,Fe=ke[0];if(K&&ke.length==1&&Tt(Fe))return K.plant(Fe).value();for(var Oe=0,ze=y?f[Oe].apply(this,ke):Fe;++Oe<y;)ze=f[Oe].call(this,ze);return ze}})}function Ws(u,f,y,x,L,H,K,te,se,ke){var Fe=f&_,Oe=f&M,ze=f&k,at=f&(B|N),gt=f&q,xt=ze?n:tu(u);function vt(){for(var Mt=arguments.length,At=he(Mt),Aa=Mt;Aa--;)At[Aa]=arguments[Aa];if(at)var $r=ii(vt),Oa=um(At,$r);if(x&&(At=zd(At,x,L,at)),H&&(At=Oc(At,H,K,at)),Mt-=Oa,at&&Mt<ke){var Ln=Xr(At,$r);return Hm(u,f,Ws,vt.placeholder,y,At,Ln,te,se,ke-Mt)}var To=Oe?y:this,es=ze?To[u]:u;return Mt=At.length,te?At=Yn(At,te):gt&&Mt>1&&At.reverse(),Fe&&se<Mt&&(At.length=se),this&&this!==nn&&this instanceof vt&&(es=xt||tu(es)),es.apply(To,At)}return vt}function Rc(u,f){return function(y,x){return ti(y,u,f(x),{})}}function Lc(u,f){return function(y,x){var L;if(y===n&&x===n)return f;if(y!==n&&(L=y),x!==n){if(L===n)return x;typeof y=="string"||typeof x=="string"?(y=fn(y),x=fn(x)):(y=Mc(y),x=Mc(x)),L=u(y,x)}return L}}function _c(u){return Za(function(f){return f=qt(f,_r(st())),Et(function(y){var x=this;return u(f,function(L){return fr(L,x,y)})})})}function nu(u,f){f=f===n?" ":fn(f);var y=f.length;if(y<2)return y?Us(f,u):f;var x=Us(f,Pi(u/Li(f)));return xs(f)?yo(Pr(x),0,u).join(""):x.slice(0,u)}function Ym(u,f,y,x){var L=f&M,H=tu(u);function K(){for(var te=-1,se=arguments.length,ke=-1,Fe=x.length,Oe=he(Fe+se),ze=this&&this!==nn&&this instanceof K?H:u;++ke<Fe;)Oe[ke]=x[ke];for(;se--;)Oe[ke++]=arguments[++te];return fr(ze,L?y:this,Oe)}return K}function Wd(u){return function(f,y,x){return x&&typeof x!="number"&&Bt(f,y,x)&&(y=x=n),f=Xi(f),y===n?(y=f,f=0):y=Xi(y),x=x===n?f<y?1:-1:Xi(x),Pd(f,y,x,u)}}function ru(u){return function(f,y){return typeof f=="string"&&typeof y=="string"||(f=Xa(f),y=Xa(y)),u(f,y)}}function Hm(u,f,y,x,L,H,K,te,se,ke){var Fe=f&B,Oe=Fe?K:n,ze=Fe?n:K,at=Fe?H:n,gt=Fe?n:H;f|=Fe?j:R,f&=~(Fe?R:j),f&I||(f&=~(M|k));var xt=[u,f,L,at,Oe,gt,ze,te,se,ke],vt=y.apply(n,xt);return si(u)&&Do(vt,xt),vt.placeholder=x,ia(vt,u,f)}function tr(u){var f=wn[u];return function(y,x){if(y=Xa(y),x=x==null?0:Gn(Ct(x),292),x&&Ns(y)){var L=($t(y)+"e").split("e"),H=f(L[0]+"e"+(+L[1]+x));return L=($t(H)+"e").split("e"),+(L[0]+"e"+(+L[1]-x))}return f(y)}}var mr=Go&&1/qo(new Go([,-0]))[1]==Te?function(u){return new Go(u)}:i0;function Gd(u){return function(f){var y=nr(f);return y==Ge?Ju(f):y==en?xy(f):Ey(f,u(f))}}function Qa(u,f,y,x,L,H,K,te){var se=f&k;if(!se&&typeof u!="function")throw new ea(s);var ke=x?x.length:0;if(ke||(f&=~(j|R),x=L=n),K=K===n?K:bn(Ct(K),0),te=te===n?te:Ct(te),ke-=L?L.length:0,f&R){var Fe=x,Oe=L;x=L=n}var ze=se?n:ou(u),at=[u,f,y,x,L,Fe,Oe,H,K,te];if(ze&&Gm(at,ze),u=at[0],f=at[1],y=at[2],x=at[3],L=at[4],te=at[9]=at[9]===n?se?0:u.length:bn(at[9]-ke,0),!te&&f&(B|N)&&(f&=~(B|N)),!f||f==M)var gt=jm(u,f,y);else f==B||f==N?gt=Ry(u,f,te):(f==j||f==(M|j))&&!L.length?gt=Ym(u,f,y,x):gt=Ws.apply(n,at);var xt=ze?Fn:Do;return ia(xt(gt,at),u,f)}function Kd(u,f,y,x){return u===n||Eo(u,Ua[y])&&!Rt.call(x,y)?f:u}function Qd(u,f,y,x,L,H){return vn(u)&&vn(f)&&(H.set(f,u),ai(u,f,n,Qd,H),H.delete(f)),u}function Um(u){return Sp(u)?n:u}function Pc(u,f,y,x,L,H){var K=y&T,te=u.length,se=f.length;if(te!=se&&!(K&&se>te))return!1;var ke=H.get(u),Fe=H.get(f);if(ke&&Fe)return ke==f&&Fe==u;var Oe=-1,ze=!0,at=y&E?new Bi:n;for(H.set(u,f),H.set(f,u);++Oe<te;){var gt=u[Oe],xt=f[Oe];if(x)var vt=K?x(xt,gt,Oe,f,u,H):x(gt,xt,Oe,u,f,H);if(vt!==n){if(vt)continue;ze=!1;break}if(at){if(!hd(f,function(Mt,At){if(!co(at,At)&&(gt===Mt||L(gt,Mt,y,x,H)))return at.push(At)})){ze=!1;break}}else if(!(gt===xt||L(gt,xt,y,x,H))){ze=!1;break}}return H.delete(u),H.delete(f),ze}function Vm(u,f,y,x,L,H,K){switch(y){case Sr:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case Qr:return!(u.byteLength!=f.byteLength||!H(new jl(u),new jl(f)));case Be:case yt:case tt:return Eo(+u,+f);case Ve:return u.name==f.name&&u.message==f.message;case cn:case br:return u==f+"";case Ge:var te=Ju;case en:var se=x&T;if(te||(te=qo),u.size!=f.size&&!se)return!1;var ke=K.get(u);if(ke)return ke==f;x|=E,K.set(u,f);var Fe=Pc(te(u),te(f),x,L,H,K);return K.delete(u),Fe;case Dr:if(jr)return jr.call(u)==jr.call(f)}return!1}function Zd(u,f,y,x,L,H){var K=y&T,te=jc(u),se=te.length,ke=jc(f),Fe=ke.length;if(se!=Fe&&!K)return!1;for(var Oe=se;Oe--;){var ze=te[Oe];if(!(K?ze in f:Rt.call(f,ze)))return!1}var at=H.get(u),gt=H.get(f);if(at&&gt)return at==f&&gt==u;var xt=!0;H.set(u,f),H.set(f,u);for(var vt=K;++Oe<se;){ze=te[Oe];var Mt=u[ze],At=f[ze];if(x)var Aa=K?x(At,Mt,ze,f,u,H):x(Mt,At,ze,u,f,H);if(!(Aa===n?Mt===At||L(Mt,At,y,x,H):Aa)){xt=!1;break}vt||(vt=ze=="constructor")}if(xt&&!vt){var $r=u.constructor,Oa=f.constructor;$r!=Oa&&"constructor"in u&&"constructor"in f&&!(typeof $r=="function"&&$r instanceof $r&&typeof Oa=="function"&&Oa instanceof Oa)&&(xt=!1)}return H.delete(u),H.delete(f),xt}function Za(u){return Vc(Hc(u,n,uu),u+"")}function jc(u){return wc(u,or,Gs)}function au(u){return wc(u,ua,Ja)}var ou=uc?function(u){return uc.get(u)}:i0;function iu(u){for(var f=u.name+"",y=Os[f],x=Rt.call(Os,f)?y.length:0;x--;){var L=y[x],H=L.func;if(H==null||H==u)return L.name}return f}function ii(u){var f=Rt.call(Y,"placeholder")?Y:u;return f.placeholder}function st(){var u=Y.iteratee||a0;return u=u===a0?Gl:u,arguments.length?u(arguments[0],arguments[1]):u}function Bc(u,f){var y=u.__data__;return Qe(f)?y[typeof f=="string"?"string":"hash"]:y.map}function Yc(u){for(var f=or(u),y=f.length;y--;){var x=f[y],L=u[x];f[y]=[x,L,Qs(L)]}return f}function bo(u,f){var y=Cs(u,f);return Ad(y)?y:n}function zm(u){var f=Rt.call(u,_i),y=u[_i];try{u[_i]=n;var x=!0}catch{}var L=_l.call(u);return x&&(f?u[_i]=y:delete u[_i]),L}var Gs=ic?function(u){return u==null?[]:(u=zt(u),zo(ic(u),function(f){return ac.call(u,f)}))}:s0,Ja=ic?function(u){for(var f=[];u;)$o(f,Gs(u)),u=Sa(u);return f}:s0,nr=Xn;(Hl&&nr(new Hl(new ArrayBuffer(1)))!=Sr||ji&&nr(new ji)!=Ge||Ul&&nr(Ul.resolve())!=Vt||Go&&nr(new Go)!=en||Vl&&nr(new Vl)!=va)&&(nr=function(u){var f=Xn(u),y=f==dt?u.constructor:n,x=y?li(y):"";if(x)switch(x){case Cd:return Sr;case Ko:return Ge;case Dm:return Vt;case Rs:return en;case Va:return va}return f});function $m(u,f,y){for(var x=-1,L=y.length;++x<L;){var H=y[x],K=H.size;switch(H.type){case"drop":u+=K;break;case"dropRight":f-=K;break;case"take":f=Gn(f,u+K);break;case"takeRight":u=bn(u,f-K);break}}return{start:u,end:f}}function Jd(u){var f=u.match(wa);return f?f[1].split(ba):[]}function Xd(u,f,y){f=vo(f,u);for(var x=-1,L=f.length,H=!1;++x<L;){var K=Fa(f[x]);if(!(H=u!=null&&y(u,K)))break;u=u[K]}return H||++x!=L?H:(L=u==null?0:u.length,!!L&&dg(L)&&oa(K,L)&&(Tt(u)||hu(u)))}function qm(u){var f=u.length,y=new u.constructor(f);return f&&typeof u[0]=="string"&&Rt.call(u,"index")&&(y.index=u.index,y.input=u.input),y}function Ks(u){return typeof u.constructor=="function"&&!su(u)?Ls(Sa(u)):{}}function rr(u,f,y){var x=u.constructor;switch(f){case Qr:return $s(u);case Be:case yt:return new x(+u);case Sr:return Ac(u,y);case gs:case lo:case uo:case Tl:case Mi:case ki:case vs:case Po:case Fi:return Ud(u,y);case Ge:return new x;case tt:case br:return new x(u);case cn:return Rm(u);case en:return new x;case Dr:return Hd(u)}}function Ly(u,f){var y=f.length;if(!y)return u;var x=y-1;return f[x]=(y>1?"& ":"")+f[x],f=f.join(y>2?", ":" "),u.replace(ya,`{
/* [wrapped with `+f+`] */
`)}function _y(u){return Tt(u)||hu(u)||!!(ym&&u&&u[ym])}function oa(u,f){var y=typeof u;return f=f??J,!!f&&(y=="number"||y!="symbol"&&Hh.test(u))&&u>-1&&u%1==0&&u<f}function Bt(u,f,y){if(!vn(y))return!1;var x=typeof f;return(x=="number"?la(y)&&oa(f,y.length):x=="string"&&f in y)?Eo(y[f],u):!1}function ep(u,f){if(Tt(u))return!1;var y=typeof u;return y=="number"||y=="symbol"||y=="boolean"||u==null||Ia(u)?!0:Zr.test(u)||!mn.test(u)||f!=null&&u in zt(f)}function Qe(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function si(u){var f=iu(u),y=Y[f];if(typeof y!="function"||!(f in St.prototype))return!1;if(u===y)return!0;var x=ou(y);return!!x&&u===x[0]}function tp(u){return!!tc&&tc in u}var Wm=ks?Ji:l0;function su(u){var f=u&&u.constructor,y=typeof f=="function"&&f.prototype||Ua;return u===y}function Qs(u){return u===u&&!vn(u)}function lu(u,f){return function(y){return y==null?!1:y[u]===f&&(f!==n||u in zt(y))}}function np(u){var f=re(u,function(x){return y.size===h&&y.clear(),x}),y=f.cache;return f}function Gm(u,f){var y=u[1],x=f[1],L=y|x,H=L<(M|k|_),K=x==_&&y==B||x==_&&y==$&&u[7].length<=f[8]||x==(_|$)&&f[7].length<=f[8]&&y==B;if(!(H||K))return u;x&M&&(u[2]=f[2],L|=y&M?0:I);var te=f[3];if(te){var se=u[3];u[3]=se?zd(se,te,f[4]):te,u[4]=se?Xr(u[3],g):f[4]}return te=f[5],te&&(se=u[5],u[5]=se?Oc(se,te,f[6]):te,u[6]=se?Xr(u[5],g):f[6]),te=f[7],te&&(u[7]=te),x&_&&(u[8]=u[8]==null?f[8]:Gn(u[8],f[8])),u[9]==null&&(u[9]=f[9]),u[0]=f[0],u[1]=L,u}function Km(u){var f=[];if(u!=null)for(var y in zt(u))f.push(y);return f}function Qm(u){return _l.call(u)}function Hc(u,f,y){return f=bn(f===n?u.length-1:f,0),function(){for(var x=arguments,L=-1,H=bn(x.length-f,0),K=he(H);++L<H;)K[L]=x[f+L];L=-1;for(var te=he(f+1);++L<f;)te[L]=x[L];return te[f]=y(K),fr(u,this,te)}}function Uc(u,f){return f.length<2?u:Yr(u,er(f,0,-1))}function Yn(u,f){for(var y=u.length,x=Gn(f.length,y),L=hr(u);x--;){var H=f[x];u[x]=oa(H,y)?L[H]:n}return u}function Hr(u,f){if(!(f==="constructor"&&typeof u[f]=="function")&&f!="__proto__")return u[f]}var Do=rp(Fn),Zs=Ed||function(u,f){return nn.setTimeout(u,f)},Vc=rp(Cc);function ia(u,f,y){var x=f+"";return Vc(u,Ly(x,Jm(Jd(x),y)))}function rp(u){var f=0,y=0;return function(){var x=Iy(),L=ae-(x-y);if(y=x,L>0){if(++f>=ie)return arguments[0]}else f=0;return u.apply(n,arguments)}}function Ur(u,f){var y=-1,x=u.length,L=x-1;for(f=f===n?x:f;++y<f;){var H=Zl(y,L),K=u[H];u[H]=u[y],u[y]=K}return u.length=f,u}var Zm=np(function(u){var f=[];return u.charCodeAt(0)===46&&f.push(""),u.replace(Mn,function(y,x,L,H){f.push(L?H.replace(ly,"$1"):x||y)}),f});function Fa(u){if(typeof u=="string"||Ia(u))return u;var f=u+"";return f=="0"&&1/u==-Te?"-0":f}function li(u){if(u!=null){try{return Ll.call(u)}catch{}try{return u+""}catch{}}return""}function Jm(u,f){return Wn(ue,function(y){var x="_."+y[0];f&y[1]&&!Ku(u,x)&&u.push(x)}),u.sort()}function ap(u){if(u instanceof St)return u.clone();var f=new Kn(u.__wrapped__,u.__chain__);return f.__actions__=hr(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}function Py(u,f,y){(y?Bt(u,f,y):f===n)?f=1:f=bn(Ct(f),0);var x=u==null?0:u.length;if(!x||f<1)return[];for(var L=0,H=0,K=he(Pi(x/f));L<x;)K[H++]=er(u,L,L+=f);return K}function zc(u){for(var f=-1,y=u==null?0:u.length,x=0,L=[];++f<y;){var H=u[f];H&&(L[x++]=H)}return L}function op(){var u=arguments.length;if(!u)return[];for(var f=he(u-1),y=arguments[0],x=u;x--;)f[x-1]=arguments[x];return $o(Tt(y)?hr(y):[y],kn(f,1))}var sa=Et(function(u,f){return Rn(u)?Ga(u,kn(f,1,Rn,!0)):[]}),It=Et(function(u,f){var y=On(f);return Rn(y)&&(y=n),Rn(u)?Ga(u,kn(f,1,Rn,!0),st(y,2)):[]}),_n=Et(function(u,f){var y=On(f);return Rn(y)&&(y=n),Rn(u)?Ga(u,kn(f,1,Rn,!0),n,y):[]});function Dn(u,f,y){var x=u==null?0:u.length;return x?(f=y||f===n?1:Ct(f),er(u,f<0?0:f,x)):[]}function Hn(u,f,y){var x=u==null?0:u.length;return x?(f=y||f===n?1:Ct(f),f=x-f,er(u,0,f<0?0:f)):[]}function Vr(u,f){return u&&u.length?Vs(u,st(f,3),!0,!0):[]}function Js(u,f){return u&&u.length?Vs(u,st(f,3),!0):[]}function An(u,f,y,x){var L=u==null?0:u.length;return L?(y&&typeof y!="number"&&Bt(u,f,y)&&(y=0,x=L),vc(u,f,y,x)):[]}function Xs(u,f,y){var x=u==null?0:u.length;if(!x)return-1;var L=y==null?0:Ct(y);return L<0&&(L=bn(x+L,0)),Qu(u,st(f,3),L)}function ui(u,f,y){var x=u==null?0:u.length;if(!x)return-1;var L=x-1;return y!==n&&(L=Ct(y),L=y<0?bn(x+L,0):Gn(L,x-1)),Qu(u,st(f,3),L,!0)}function uu(u){var f=u==null?0:u.length;return f?kn(u,1):[]}function ip(u){var f=u==null?0:u.length;return f?kn(u,Te):[]}function cu(u,f){var y=u==null?0:u.length;return y?(f=f===n?1:Ct(f),kn(u,f)):[]}function kr(u){for(var f=-1,y=u==null?0:u.length,x={};++f<y;){var L=u[f];x[L[0]]=L[1]}return x}function $c(u){return u&&u.length?u[0]:n}function el(u,f,y){var x=u==null?0:u.length;if(!x)return-1;var L=y==null?0:Ct(y);return L<0&&(L=bn(x+L,0)),Ts(u,f,L)}function So(u){var f=u==null?0:u.length;return f?er(u,0,-1):[]}var qc=Et(function(u){var f=qt(u,Nc);return f.length&&f[0]===u[0]?xa(f):[]}),sp=Et(function(u){var f=On(u),y=qt(u,Nc);return f===On(y)?f=n:y.pop(),y.length&&y[0]===u[0]?xa(y,st(f,2)):[]}),ci=Et(function(u){var f=On(u),y=qt(u,Nc);return f=typeof f=="function"?f:n,f&&y.pop(),y.length&&y[0]===u[0]?xa(y,n,f):[]});function Wc(u,f){return u==null?"":sc.call(u,f)}function On(u){var f=u==null?0:u.length;return f?u[f-1]:n}function Gc(u,f,y){var x=u==null?0:u.length;if(!x)return-1;var L=x;return y!==n&&(L=Ct(y),L=L<0?bn(x+L,0):Gn(L,x-1)),f===f?My(u,f,L):Qu(u,am,L,!0)}function fu(u,f){return u&&u.length?oi(u,Ct(f)):n}var lp=Et(du);function du(u,f){return u&&u.length&&f&&f.length?Jt(u,f):u}function Kc(u,f,y){return u&&u.length&&f&&f.length?Jt(u,f,st(y,2)):u}function gr(u,f,y){return u&&u.length&&f&&f.length?Jt(u,f,n,y):u}var fi=Za(function(u,f){var y=u==null?0:u.length,x=gc(u,f);return Ql(u,qt(f,function(L){return oa(L,y)?+L:L}).sort(Vd)),x});function Na(u,f){var y=[];if(!(u&&u.length))return y;var x=-1,L=[],H=u.length;for(f=st(f,3);++x<H;){var K=u[x];f(K,x,u)&&(y.push(K),L.push(x))}return Ql(u,L),y}function ar(u){return u==null?u:lc.call(u)}function Xm(u,f,y){var x=u==null?0:u.length;return x?(y&&typeof y!="number"&&Bt(u,f,y)?(f=0,y=x):(f=f==null?0:Ct(f),y=y===n?x:Ct(y)),er(u,f,y)):[]}function up(u,f){return Nn(u,f)}function cp(u,f,y){return Xl(u,f,st(y,2))}function jy(u,f){var y=u==null?0:u.length;if(y){var x=Nn(u,f);if(x<y&&Eo(u[x],f))return x}return-1}function di(u,f){return Nn(u,f,!0)}function eg(u,f,y){return Xl(u,f,st(y,2),!0)}function fp(u,f){var y=u==null?0:u.length;if(y){var x=Nn(u,f,!0)-1;if(Eo(u[x],f))return x}return-1}function Gi(u){return u&&u.length?xc(u):[]}function dp(u,f){return u&&u.length?xc(u,st(f,2)):[]}function Ki(u){var f=u==null?0:u.length;return f?er(u,1,f):[]}function tg(u,f,y){return u&&u.length?(f=y||f===n?1:Ct(f),er(u,0,f<0?0:f)):[]}function ng(u,f,y){var x=u==null?0:u.length;return x?(f=y||f===n?1:Ct(f),f=x-f,er(u,f<0?0:f,x)):[]}function pp(u,f){return u&&u.length?Vs(u,st(f,3),!1,!0):[]}function Qc(u,f){return u&&u.length?Vs(u,st(f,3)):[]}var By=Et(function(u){return In(kn(u,1,Rn,!0))}),Yy=Et(function(u){var f=On(u);return Rn(f)&&(f=n),In(kn(u,1,Rn,!0),st(f,2))}),rg=Et(function(u){var f=On(u);return f=typeof f=="function"?f:n,In(kn(u,1,Rn,!0),n,f)});function ag(u){return u&&u.length?In(u):[]}function Qi(u,f){return u&&u.length?In(u,st(f,2)):[]}function Hy(u,f){return f=typeof f=="function"?f:n,u&&u.length?In(u,n,f):[]}function pi(u){if(!(u&&u.length))return[];var f=0;return u=zo(u,function(y){if(Rn(y))return f=bn(y.length,f),!0}),yd(f,function(y){return qt(u,gd(y))})}function hp(u,f){if(!(u&&u.length))return[];var y=pi(u);return f==null?y:qt(y,function(x){return fr(f,n,x)})}var dn=Et(function(u,f){return Rn(u)?Ga(u,f):[]}),Uy=Et(function(u){return Fc(zo(u,Rn))}),og=Et(function(u){var f=On(u);return Rn(f)&&(f=n),Fc(zo(u,Rn),st(f,2))}),Vy=Et(function(u){var f=On(u);return f=typeof f=="function"?f:n,Fc(zo(u,Rn),n,f)}),zy=Et(pi);function ig(u,f){return Bd(u||[],f||[],Ui)}function sg(u,f){return Bd(u||[],f||[],on)}var $y=Et(function(u){var f=u.length,y=f>1?u[f-1]:n;return y=typeof y=="function"?(u.pop(),y):n,hp(u,y)});function zr(u){var f=Y(u);return f.__chain__=!0,f}function mp(u,f){return f(u),u}function Zc(u,f){return f(u)}var hi=Za(function(u){var f=u.length,y=f?u[0]:0,x=this.__wrapped__,L=function(H){return gc(H,u)};return f>1||this.__actions__.length||!(x instanceof St)||!oa(y)?this.thru(L):(x=x.slice(y,+y+(f?1:0)),x.__actions__.push({func:Zc,args:[L],thisArg:n}),new Kn(x,this.__chain__).thru(function(H){return f&&!H.length&&H.push(n),H}))});function Jc(){return zr(this)}function Zi(){return new Kn(this.value(),this.__chain__)}function Xc(){this.__values__===n&&(this.__values__=cb(this.value()));var u=this.__index__>=this.__values__.length,f=u?n:this.__values__[this.__index__++];return{done:u,value:f}}function gp(){return this}function vp(u){for(var f,y=this;y instanceof za;){var x=ap(y);x.__index__=0,x.__values__=n,f?L.__wrapped__=x:f=x;var L=x;y=y.__wrapped__}return L.__wrapped__=u,f}function qy(){var u=this.__wrapped__;if(u instanceof St){var f=u;return this.__actions__.length&&(f=new St(this)),f=f.reverse(),f.__actions__.push({func:Zc,args:[ar],thisArg:n}),new Kn(f,this.__chain__)}return this.thru(ar)}function yp(){return jd(this.__wrapped__,this.__actions__)}var Wy=eu(function(u,f,y){Rt.call(u,y)?++u[y]:Wa(u,y,1)});function lg(u,f,y){var x=Tt(u)?fd:Ta;return y&&Bt(u,f,y)&&(f=n),x(u,st(f,3))}function ug(u,f){var y=Tt(u)?zo:zi;return y(u,st(f,3))}var ef=Bm(Xs),tf=Bm(ui);function cg(u,f){return kn(of(u,f),1)}function wp(u,f){return kn(of(u,f),Te)}function Gy(u,f,y){return y=y===n?1:Ct(y),kn(of(u,f),y)}function bp(u,f){var y=Tt(u)?Wn:Ka;return y(u,st(f,3))}function nf(u,f){var y=Tt(u)?Gu:km;return y(u,st(f,3))}var rf=eu(function(u,f,y){Rt.call(u,y)?u[y].push(f):Wa(u,y,[f])});function Dp(u,f,y,x){u=la(u)?u:cf(u),y=y&&!x?Ct(y):0;var L=u.length;return y<0&&(y=bn(L+y,0)),pg(u)?y<=L&&u.indexOf(f,y)>-1:!!L&&Ts(u,f,y)>-1}var af=Et(function(u,f,y){var x=-1,L=typeof f=="function",H=la(u)?he(u.length):[];return Ka(u,function(K){H[++x]=L?fr(f,K,y):ni(K,f,y)}),H}),fg=eu(function(u,f,y){Wa(u,y,f)});function of(u,f){var y=Tt(u)?qt:Rd;return y(u,st(f,3))}function sf(u,f,y,x){return u==null?[]:(Tt(f)||(f=f==null?[]:[f]),y=x?n:y,Tt(y)||(y=y==null?[]:[y]),Tc(u,f,y))}var Ky=eu(function(u,f,y){u[y?0:1].push(f)},function(){return[[],[]]});function pu(u,f,y){var x=Tt(u)?pd:im,L=arguments.length<3;return x(u,st(f,4),y,L,Ka)}function Qy(u,f,y){var x=Tt(u)?wy:im,L=arguments.length<3;return x(u,st(f,4),y,L,km)}function lf(u,f){var y=Tt(u)?zo:zi;return y(u,de(st(f,3)))}function o(u){var f=Tt(u)?qa:$i;return f(u)}function l(u,f,y){(y?Bt(u,f,y):f===n)?f=1:f=Ct(f);var x=Tt(u)?Hi:an;return x(u,f)}function p(u){var f=Tt(u)?xm:Jl;return f(u)}function v(u){if(u==null)return 0;if(la(u))return pg(u)?Li(u):u.length;var f=nr(u);return f==Ge||f==en?u.size:Ec(u).length}function S(u,f,y){var x=Tt(u)?hd:Ay;return y&&Bt(u,f,y)&&(f=n),x(u,st(f,3))}var C=Et(function(u,f){if(u==null)return[];var y=f.length;return y>1&&Bt(u,f[0],f[1])?f=[]:y>2&&Bt(f[0],f[1],f[2])&&(f=[f[0]]),Tc(u,kn(f,1),[])}),P=Kt||function(){return nn.Date.now()};function W(u,f){if(typeof f!="function")throw new ea(s);return u=Ct(u),function(){if(--u<1)return f.apply(this,arguments)}}function X(u,f,y){return f=y?n:f,f=u&&f==null?u.length:f,Qa(u,_,n,n,n,n,f)}function ge(u,f){var y;if(typeof f!="function")throw new ea(s);return u=Ct(u),function(){return--u>0&&(y=f.apply(this,arguments)),u<=1&&(f=n),y}}var Ae=Et(function(u,f,y){var x=M;if(y.length){var L=Xr(y,ii(Ae));x|=j}return Qa(u,x,f,y,L)}),_e=Et(function(u,f,y){var x=M|k;if(y.length){var L=Xr(y,ii(_e));x|=j}return Qa(f,x,u,y,L)});function Ie(u,f,y){f=y?n:f;var x=Qa(u,B,n,n,n,n,n,f);return x.placeholder=Ie.placeholder,x}function We(u,f,y){f=y?n:f;var x=Qa(u,N,n,n,n,n,n,f);return x.placeholder=We.placeholder,x}function Je(u,f,y){var x,L,H,K,te,se,ke=0,Fe=!1,Oe=!1,ze=!0;if(typeof u!="function")throw new ea(s);f=Xa(f)||0,vn(y)&&(Fe=!!y.leading,Oe="maxWait"in y,H=Oe?bn(Xa(y.maxWait)||0,f):H,ze="trailing"in y?!!y.trailing:ze);function at(Ln){var To=x,es=L;return x=L=n,ke=Ln,K=u.apply(es,To),K}function gt(Ln){return ke=Ln,te=Zs(Mt,f),Fe?at(Ln):K}function xt(Ln){var To=Ln-se,es=Ln-ke,Eb=f-To;return Oe?Gn(Eb,H-es):Eb}function vt(Ln){var To=Ln-se,es=Ln-ke;return se===n||To>=f||To<0||Oe&&es>=H}function Mt(){var Ln=P();if(vt(Ln))return At(Ln);te=Zs(Mt,xt(Ln))}function At(Ln){return te=n,ze&&x?at(Ln):(x=L=n,K)}function Aa(){te!==n&&zs(te),ke=0,x=se=L=te=n}function $r(){return te===n?K:At(P())}function Oa(){var Ln=P(),To=vt(Ln);if(x=arguments,L=this,se=Ln,To){if(te===n)return gt(se);if(Oe)return zs(te),te=Zs(Mt,f),at(se)}return te===n&&(te=Zs(Mt,f)),K}return Oa.cancel=Aa,Oa.flush=$r,Oa}var et=Et(function(u,f){return kd(u,1,f)}),gn=Et(function(u,f,y){return kd(u,Xa(f)||0,y)});function ce(u){return Qa(u,q)}function re(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new ea(s);var y=function(){var x=arguments,L=f?f.apply(this,x):x[0],H=y.cache;if(H.has(L))return H.get(L);var K=u.apply(this,x);return y.cache=H.set(L,K)||H,K};return y.cache=new(re.Cache||ta),y}re.Cache=ta;function de(u){if(typeof u!="function")throw new ea(s);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}function Pe(u){return ge(2,u)}var nt=Om(function(u,f){f=f.length==1&&Tt(f[0])?qt(f[0],_r(st())):qt(kn(f,1),_r(st()));var y=f.length;return Et(function(x){for(var L=-1,H=Gn(x.length,y);++L<H;)x[L]=f[L].call(this,x[L]);return fr(u,this,x)})}),lt=Et(function(u,f){var y=Xr(f,ii(lt));return Qa(u,j,n,f,y)}),ft=Et(function(u,f){var y=Xr(f,ii(ft));return Qa(u,R,n,f,y)}),wt=Za(function(u,f){return Qa(u,$,n,n,n,f)});function Pn(u,f){if(typeof u!="function")throw new ea(s);return f=f===n?f:Ct(f),Et(u,f)}function Lt(u,f){if(typeof u!="function")throw new ea(s);return f=f==null?0:bn(Ct(f),0),Et(function(y){var x=y[f],L=yo(y,0,f);return x&&$o(L,x),fr(u,this,L)})}function mi(u,f,y){var x=!0,L=!0;if(typeof u!="function")throw new ea(s);return vn(y)&&(x="leading"in y?!!y.leading:x,L="trailing"in y?!!y.trailing:L),Je(u,f,{leading:x,maxWait:f,trailing:L})}function Zy(u){return X(u,1)}function iC(u,f){return lt(Ic(f),u)}function sC(){if(!arguments.length)return[];var u=arguments[0];return Tt(u)?u:[u]}function lC(u){return Mr(u,b)}function uC(u,f){return f=typeof f=="function"?f:n,Mr(u,b,f)}function cC(u){return Mr(u,m|b)}function fC(u,f){return f=typeof f=="function"?f:n,Mr(u,m|b,f)}function dC(u,f){return f==null||$l(u,f,or(f))}function Eo(u,f){return u===f||u!==u&&f!==f}var pC=ru(Ca),hC=ru(function(u,f){return u>=f}),hu=Nd(function(){return arguments}())?Nd:function(u){return Sn(u)&&Rt.call(u,"callee")&&!ac.call(u,"callee")},Tt=he.isArray,mC=ud?_r(ud):bc;function la(u){return u!=null&&dg(u.length)&&!Ji(u)}function Rn(u){return Sn(u)&&la(u)}function gC(u){return u===!0||u===!1||Sn(u)&&Xn(u)==Be}var tl=Td||l0,vC=Er?_r(Er):Nm;function yC(u){return Sn(u)&&u.nodeType===1&&!Sp(u)}function wC(u){if(u==null)return!0;if(la(u)&&(Tt(u)||typeof u=="string"||typeof u.splice=="function"||tl(u)||uf(u)||hu(u)))return!u.length;var f=nr(u);if(f==Ge||f==en)return!u.size;if(su(u))return!Ec(u).length;for(var y in u)if(Rt.call(u,y))return!1;return!0}function bC(u,f){return Bs(u,f)}function DC(u,f,y){y=typeof y=="function"?y:n;var x=y?y(u,f):n;return x===n?Bs(u,f,n,y):!!x}function Jy(u){if(!Sn(u))return!1;var f=Xn(u);return f==Ve||f==Se||typeof u.message=="string"&&typeof u.name=="string"&&!Sp(u)}function SC(u){return typeof u=="number"&&Ns(u)}function Ji(u){if(!vn(u))return!1;var f=Xn(u);return f==Ke||f==Xe||f==Ye||f==Ba}function ib(u){return typeof u=="number"&&u==Ct(u)}function dg(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=J}function vn(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function Sn(u){return u!=null&&typeof u=="object"}var sb=Ri?_r(Ri):Dc;function EC(u,f){return u===f||Sc(u,f,Yc(f))}function TC(u,f,y){return y=typeof y=="function"?y:n,Sc(u,f,Yc(f),y)}function CC(u){return lb(u)&&u!=+u}function xC(u){if(Wm(u))throw new bt(i);return Ad(u)}function MC(u){return u===null}function kC(u){return u==null}function lb(u){return typeof u=="number"||Sn(u)&&Xn(u)==tt}function Sp(u){if(!Sn(u)||Xn(u)!=dt)return!1;var f=Sa(u);if(f===null)return!0;var y=Rt.call(f,"constructor")&&f.constructor;return typeof y=="function"&&y instanceof y&&Ll.call(y)==nc}var Xy=Wu?_r(Wu):Im;function FC(u){return ib(u)&&u>=-J&&u<=J}var ub=Es?_r(Es):Od;function pg(u){return typeof u=="string"||!Tt(u)&&Sn(u)&&Xn(u)==br}function Ia(u){return typeof u=="symbol"||Sn(u)&&Xn(u)==Dr}var uf=tm?_r(tm):Wl;function NC(u){return u===n}function IC(u){return Sn(u)&&nr(u)==va}function AC(u){return Sn(u)&&Xn(u)==so}var OC=ru(ri),RC=ru(function(u,f){return u<=f});function cb(u){if(!u)return[];if(la(u))return pg(u)?Pr(u):hr(u);if(ho&&u[ho])return Cy(u[ho]());var f=nr(u),y=f==Ge?Ju:f==en?qo:cf;return y(u)}function Xi(u){if(!u)return u===0?u:0;if(u=Xa(u),u===Te||u===-Te){var f=u<0?-1:1;return f*ve}return u===u?u:0}function Ct(u){var f=Xi(u),y=f%1;return f===f?y?f-y:f:0}function fb(u){return u?go(Ct(u),0,G):0}function Xa(u){if(typeof u=="number")return u;if(Ia(u))return V;if(vn(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=vn(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=sm(u);var y=uy.test(u);return y||Yh.test(u)?$u(u.slice(2),y?2:8):jh.test(u)?V:+u}function db(u){return ka(u,ua(u))}function LC(u){return u?go(Ct(u),-J,J):u===0?u:0}function $t(u){return u==null?"":fn(u)}var _C=qs(function(u,f){if(su(f)||la(f)){ka(f,or(f),u);return}for(var y in f)Rt.call(f,y)&&Ui(u,y,f[y])}),pb=qs(function(u,f){ka(f,ua(f),u)}),hg=qs(function(u,f,y,x){ka(f,ua(f),u,x)}),PC=qs(function(u,f,y,x){ka(f,or(f),u,x)}),jC=Za(gc);function BC(u,f){var y=Ls(u);return f==null?y:Zt(y,f)}var YC=Et(function(u,f){u=zt(u);var y=-1,x=f.length,L=x>2?f[2]:n;for(L&&Bt(f[0],f[1],L)&&(x=1);++y<x;)for(var H=f[y],K=ua(H),te=-1,se=K.length;++te<se;){var ke=K[te],Fe=u[ke];(Fe===n||Eo(Fe,Ua[ke])&&!Rt.call(u,ke))&&(u[ke]=H[ke])}return u}),HC=Et(function(u){return u.push(n,Qd),fr(hb,n,u)});function UC(u,f){return rm(u,st(f,3),aa)}function VC(u,f){return rm(u,st(f,3),Xo)}function zC(u,f){return u==null?u:ql(u,st(f,3),ua)}function $C(u,f){return u==null?u:yc(u,st(f,3),ua)}function qC(u,f){return u&&aa(u,st(f,3))}function WC(u,f){return u&&Xo(u,st(f,3))}function GC(u){return u==null?[]:pr(u,or(u))}function KC(u){return u==null?[]:pr(u,ua(u))}function e0(u,f,y){var x=u==null?n:Yr(u,f);return x===n?y:x}function QC(u,f){return u!=null&&Xd(u,f,ei)}function t0(u,f){return u!=null&&Xd(u,f,Fd)}var ZC=Rc(function(u,f,y){f!=null&&typeof f.toString!="function"&&(f=_l.call(f)),u[f]=y},r0(ca)),JC=Rc(function(u,f,y){f!=null&&typeof f.toString!="function"&&(f=_l.call(f)),Rt.call(u,f)?u[f].push(y):u[f]=[y]},st),XC=Et(ni);function or(u){return la(u)?$a(u):Ec(u)}function ua(u){return la(u)?$a(u,!0):Am(u)}function ex(u,f){var y={};return f=st(f,3),aa(u,function(x,L,H){Wa(y,f(x,L,H),x)}),y}function tx(u,f){var y={};return f=st(f,3),aa(u,function(x,L,H){Wa(y,L,f(x,L,H))}),y}var nx=qs(function(u,f,y){ai(u,f,y)}),hb=qs(function(u,f,y,x){ai(u,f,y,x)}),rx=Za(function(u,f){var y={};if(u==null)return y;var x=!1;f=qt(f,function(H){return H=vo(H,u),x||(x=H.length>1),H}),ka(u,au(u),y),x&&(y=Mr(y,m|w|b,Um));for(var L=f.length;L--;)qi(y,f[L]);return y});function ax(u,f){return mb(u,de(st(f)))}var ox=Za(function(u,f){return u==null?{}:Hs(u,f)});function mb(u,f){if(u==null)return{};var y=qt(au(u),function(x){return[x]});return f=st(f),Ld(u,y,function(x,L){return f(x,L[0])})}function ix(u,f,y){f=vo(f,u);var x=-1,L=f.length;for(L||(L=1,u=n);++x<L;){var H=u==null?n:u[Fa(f[x])];H===n&&(x=L,H=y),u=Ji(H)?H.call(u):H}return u}function sx(u,f,y){return u==null?u:on(u,f,y)}function lx(u,f,y,x){return x=typeof x=="function"?x:n,u==null?u:on(u,f,y,x)}var gb=Gd(or),vb=Gd(ua);function ux(u,f,y){var x=Tt(u),L=x||tl(u)||uf(u);if(f=st(f,4),y==null){var H=u&&u.constructor;L?y=x?new H:[]:vn(u)?y=Ji(H)?Ls(Sa(u)):{}:y={}}return(L?Wn:aa)(u,function(K,te,se){return f(y,K,te,se)}),y}function cx(u,f){return u==null?!0:qi(u,f)}function fx(u,f,y){return u==null?u:kc(u,f,Ic(y))}function dx(u,f,y,x){return x=typeof x=="function"?x:n,u==null?u:kc(u,f,Ic(y),x)}function cf(u){return u==null?[]:Ol(u,or(u))}function px(u){return u==null?[]:Ol(u,ua(u))}function hx(u,f,y){return y===n&&(y=f,f=n),y!==n&&(y=Xa(y),y=y===y?y:0),f!==n&&(f=Xa(f),f=f===f?f:0),go(Xa(u),f,y)}function mx(u,f,y){return f=Xi(f),y===n?(y=f,f=0):y=Xi(y),u=Xa(u),Fm(u,f,y)}function gx(u,f,y){if(y&&typeof y!="boolean"&&Bt(u,f,y)&&(f=y=n),y===n&&(typeof f=="boolean"?(y=f,f=n):typeof u=="boolean"&&(y=u,u=n)),u===n&&f===n?(u=0,f=1):(u=Xi(u),f===n?(f=u,u=0):f=Xi(f)),u>f){var x=u;u=f,f=x}if(y||u%1||f%1){var L=Yl();return Gn(u+L*(f-u+sd("1e-"+((L+"").length-1))),f)}return Zl(u,f)}var vx=wo(function(u,f,y){return f=f.toLowerCase(),u+(y?yb(f):f)});function yb(u){return n0($t(u).toLowerCase())}function wb(u){return u=$t(u),u&&u.replace(Uh,cm).replace(Zh,"")}function yx(u,f,y){u=$t(u),f=fn(f);var x=u.length;y=y===n?x:go(Ct(y),0,x);var L=y;return y-=f.length,y>=0&&u.slice(y,L)==f}function wx(u){return u=$t(u),u&&He.test(u)?u.replace(Le,fm):u}function bx(u){return u=$t(u),u&&Jr.test(u)?u.replace(ur,"\\$&"):u}var Dx=wo(function(u,f,y){return u+(y?"-":"")+f.toLowerCase()}),Sx=wo(function(u,f,y){return u+(y?" ":"")+f.toLowerCase()}),Ex=qd("toLowerCase");function Tx(u,f,y){u=$t(u),f=Ct(f);var x=f?Li(u):0;if(!f||x>=f)return u;var L=(f-x)/2;return nu(Wo(L),y)+u+nu(Pi(L),y)}function Cx(u,f,y){u=$t(u),f=Ct(f);var x=f?Li(u):0;return f&&x<f?u+nu(f-x,y):u}function xx(u,f,y){u=$t(u),f=Ct(f);var x=f?Li(u):0;return f&&x<f?nu(f-x,y)+u:u}function Mx(u,f,y){return y||f==null?f=0:f&&(f=+f),bm($t(u).replace(Cl,""),f||0)}function kx(u,f,y){return(y?Bt(u,f,y):f===n)?f=1:f=Ct(f),Us($t(u),f)}function Fx(){var u=arguments,f=$t(u[0]);return u.length<3?f:f.replace(u[1],u[2])}var Nx=wo(function(u,f,y){return u+(y?"_":"")+f.toLowerCase()});function Ix(u,f,y){return y&&typeof y!="number"&&Bt(u,f,y)&&(f=y=n),y=y===n?G:y>>>0,y?(u=$t(u),u&&(typeof f=="string"||f!=null&&!Xy(f))&&(f=fn(f),!f&&xs(u))?yo(Pr(u),0,y):u.split(f,y)):[]}var Ax=wo(function(u,f,y){return u+(y?" ":"")+n0(f)});function Ox(u,f,y){return u=$t(u),y=y==null?0:go(Ct(y),0,u.length),f=fn(f),u.slice(y,y+f.length)==f}function Rx(u,f,y){var x=Y.templateSettings;y&&Bt(u,f,y)&&(f=n),u=$t(u),f=hg({},f,x,Kd);var L=hg({},f.imports,x.imports,Kd),H=or(L),K=Ol(L,H),te,se,ke=0,Fe=f.interpolate||Pu,Oe="__p += '",ze=Rl((f.escape||Pu).source+"|"+Fe.source+"|"+(Fe===xn?Ni:Pu).source+"|"+(f.evaluate||Pu).source+"|$","g"),at="//# sourceURL="+(Rt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gy+"]")+`
`;u.replace(ze,function(vt,Mt,At,Aa,$r,Oa){return At||(At=Aa),Oe+=u.slice(ke,Oa).replace(cy,dm),Mt&&(te=!0,Oe+=`' +
__e(`+Mt+`) +
'`),$r&&(se=!0,Oe+=`';
`+$r+`;
__p += '`),At&&(Oe+=`' +
((__t = (`+At+`)) == null ? '' : __t) +
'`),ke=Oa+vt.length,vt}),Oe+=`';
`;var gt=Rt.call(f,"variable")&&f.variable;if(!gt)Oe=`with (obj) {
`+Oe+`
}
`;else if(Bo.test(gt))throw new bt(c);Oe=(se?Oe.replace(U,""):Oe).replace(ne,"$1").replace(pe,"$1;"),Oe="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(te?", __e = _.escape":"")+(se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Oe+`return __p
}`;var xt=Db(function(){return Ot(H,at+"return "+Oe).apply(n,K)});if(xt.source=Oe,Jy(xt))throw xt;return xt}function Lx(u){return $t(u).toLowerCase()}function _x(u){return $t(u).toUpperCase()}function Px(u,f,y){if(u=$t(u),u&&(y||f===n))return sm(u);if(!u||!(f=fn(f)))return u;var x=Pr(u),L=Pr(f),H=lm(x,L),K=wd(x,L)+1;return yo(x,H,K).join("")}function jx(u,f,y){if(u=$t(u),u&&(y||f===n))return u.slice(0,ec(u)+1);if(!u||!(f=fn(f)))return u;var x=Pr(u),L=wd(x,Pr(f))+1;return yo(x,0,L).join("")}function Bx(u,f,y){if(u=$t(u),u&&(y||f===n))return u.replace(Cl,"");if(!u||!(f=fn(f)))return u;var x=Pr(u),L=lm(x,Pr(f));return yo(x,L).join("")}function Yx(u,f){var y=z,x=ee;if(vn(f)){var L="separator"in f?f.separator:L;y="length"in f?Ct(f.length):y,x="omission"in f?fn(f.omission):x}u=$t(u);var H=u.length;if(xs(u)){var K=Pr(u);H=K.length}if(y>=H)return u;var te=y-Li(x);if(te<1)return x;var se=K?yo(K,0,te).join(""):u.slice(0,te);if(L===n)return se+x;if(K&&(te+=se.length-te),Xy(L)){if(u.slice(te).search(L)){var ke,Fe=se;for(L.global||(L=Rl(L.source,$t(ed.exec(L))+"g")),L.lastIndex=0;ke=L.exec(Fe);)var Oe=ke.index;se=se.slice(0,Oe===n?te:Oe)}}else if(u.indexOf(fn(L),te)!=te){var ze=se.lastIndexOf(L);ze>-1&&(se=se.slice(0,ze))}return se+x}function Hx(u){return u=$t(u),u&&je.test(u)?u.replace(Ce,pm):u}var Ux=wo(function(u,f,y){return u+(y?" ":"")+f.toUpperCase()}),n0=qd("toUpperCase");function bb(u,f,y){return u=$t(u),f=y?n:f,f===n?Ty(u)?ky(u):Dy(u):u.match(f)||[]}var Db=Et(function(u,f){try{return fr(u,n,f)}catch(y){return Jy(y)?y:new bt(y)}}),Vx=Za(function(u,f){return Wn(f,function(y){y=Fa(y),Wa(u,y,Ae(u[y],u))}),u});function zx(u){var f=u==null?0:u.length,y=st();return u=f?qt(u,function(x){if(typeof x[1]!="function")throw new ea(s);return[y(x[0]),x[1]]}):[],Et(function(x){for(var L=-1;++L<f;){var H=u[L];if(fr(H[0],this,x))return fr(H[1],this,x)}})}function $x(u){return Mm(Mr(u,m))}function r0(u){return function(){return u}}function qx(u,f){return u==null||u!==u?f:u}var Wx=Wi(),Gx=Wi(!0);function ca(u){return u}function a0(u){return Gl(typeof u=="function"?u:Mr(u,m))}function Kx(u){return Ys(Mr(u,m))}function Qx(u,f){return Ma(u,Mr(f,m))}var Zx=Et(function(u,f){return function(y){return ni(y,u,f)}}),Jx=Et(function(u,f){return function(y){return ni(u,y,f)}});function o0(u,f,y){var x=or(f),L=pr(f,x);y==null&&!(vn(f)&&(L.length||!x.length))&&(y=f,f=u,u=this,L=pr(f,or(f)));var H=!(vn(y)&&"chain"in y)||!!y.chain,K=Ji(u);return Wn(L,function(te){var se=f[te];u[te]=se,K&&(u.prototype[te]=function(){var ke=this.__chain__;if(H||ke){var Fe=u(this.__wrapped__),Oe=Fe.__actions__=hr(this.__actions__);return Oe.push({func:se,args:arguments,thisArg:u}),Fe.__chain__=ke,Fe}return se.apply(u,$o([this.value()],arguments))})}),u}function Xx(){return nn._===this&&(nn._=gm),this}function i0(){}function e6(u){return u=Ct(u),Et(function(f){return oi(f,u)})}var t6=_c(qt),n6=_c(fd),r6=_c(hd);function Sb(u){return ep(u)?gd(Fa(u)):_d(u)}function a6(u){return function(f){return u==null?n:Yr(u,f)}}var o6=Wd(),i6=Wd(!0);function s0(){return[]}function l0(){return!1}function s6(){return{}}function l6(){return""}function u6(){return!0}function c6(u,f){if(u=Ct(u),u<1||u>J)return[];var y=G,x=Gn(u,G);f=st(f),u-=G;for(var L=yd(x,f);++y<u;)f(y);return L}function f6(u){return Tt(u)?qt(u,Fa):Ia(u)?[u]:hr(Zm($t(u)))}function d6(u){var f=++Fs;return $t(u)+f}var p6=Lc(function(u,f){return u+f},0),h6=tr("ceil"),m6=Lc(function(u,f){return u/f},1),g6=tr("floor");function v6(u){return u&&u.length?Vi(u,ca,Ca):n}function y6(u,f){return u&&u.length?Vi(u,st(f,2),Ca):n}function w6(u){return om(u,ca)}function b6(u,f){return om(u,st(f,2))}function D6(u){return u&&u.length?Vi(u,ca,ri):n}function S6(u,f){return u&&u.length?Vi(u,st(f,2),ri):n}var E6=Lc(function(u,f){return u*f},1),T6=tr("round"),C6=Lc(function(u,f){return u-f},0);function x6(u){return u&&u.length?vd(u,ca):0}function M6(u,f){return u&&u.length?vd(u,st(f,2)):0}return Y.after=W,Y.ary=X,Y.assign=_C,Y.assignIn=pb,Y.assignInWith=hg,Y.assignWith=PC,Y.at=jC,Y.before=ge,Y.bind=Ae,Y.bindAll=Vx,Y.bindKey=_e,Y.castArray=sC,Y.chain=zr,Y.chunk=Py,Y.compact=zc,Y.concat=op,Y.cond=zx,Y.conforms=$x,Y.constant=r0,Y.countBy=Wy,Y.create=BC,Y.curry=Ie,Y.curryRight=We,Y.debounce=Je,Y.defaults=YC,Y.defaultsDeep=HC,Y.defer=et,Y.delay=gn,Y.difference=sa,Y.differenceBy=It,Y.differenceWith=_n,Y.drop=Dn,Y.dropRight=Hn,Y.dropRightWhile=Vr,Y.dropWhile=Js,Y.fill=An,Y.filter=ug,Y.flatMap=cg,Y.flatMapDeep=wp,Y.flatMapDepth=Gy,Y.flatten=uu,Y.flattenDeep=ip,Y.flattenDepth=cu,Y.flip=ce,Y.flow=Wx,Y.flowRight=Gx,Y.fromPairs=kr,Y.functions=GC,Y.functionsIn=KC,Y.groupBy=rf,Y.initial=So,Y.intersection=qc,Y.intersectionBy=sp,Y.intersectionWith=ci,Y.invert=ZC,Y.invertBy=JC,Y.invokeMap=af,Y.iteratee=a0,Y.keyBy=fg,Y.keys=or,Y.keysIn=ua,Y.map=of,Y.mapKeys=ex,Y.mapValues=tx,Y.matches=Kx,Y.matchesProperty=Qx,Y.memoize=re,Y.merge=nx,Y.mergeWith=hb,Y.method=Zx,Y.methodOf=Jx,Y.mixin=o0,Y.negate=de,Y.nthArg=e6,Y.omit=rx,Y.omitBy=ax,Y.once=Pe,Y.orderBy=sf,Y.over=t6,Y.overArgs=nt,Y.overEvery=n6,Y.overSome=r6,Y.partial=lt,Y.partialRight=ft,Y.partition=Ky,Y.pick=ox,Y.pickBy=mb,Y.property=Sb,Y.propertyOf=a6,Y.pull=lp,Y.pullAll=du,Y.pullAllBy=Kc,Y.pullAllWith=gr,Y.pullAt=fi,Y.range=o6,Y.rangeRight=i6,Y.rearg=wt,Y.reject=lf,Y.remove=Na,Y.rest=Pn,Y.reverse=ar,Y.sampleSize=l,Y.set=sx,Y.setWith=lx,Y.shuffle=p,Y.slice=Xm,Y.sortBy=C,Y.sortedUniq=Gi,Y.sortedUniqBy=dp,Y.split=Ix,Y.spread=Lt,Y.tail=Ki,Y.take=tg,Y.takeRight=ng,Y.takeRightWhile=pp,Y.takeWhile=Qc,Y.tap=mp,Y.throttle=mi,Y.thru=Zc,Y.toArray=cb,Y.toPairs=gb,Y.toPairsIn=vb,Y.toPath=f6,Y.toPlainObject=db,Y.transform=ux,Y.unary=Zy,Y.union=By,Y.unionBy=Yy,Y.unionWith=rg,Y.uniq=ag,Y.uniqBy=Qi,Y.uniqWith=Hy,Y.unset=cx,Y.unzip=pi,Y.unzipWith=hp,Y.update=fx,Y.updateWith=dx,Y.values=cf,Y.valuesIn=px,Y.without=dn,Y.words=bb,Y.wrap=iC,Y.xor=Uy,Y.xorBy=og,Y.xorWith=Vy,Y.zip=zy,Y.zipObject=ig,Y.zipObjectDeep=sg,Y.zipWith=$y,Y.entries=gb,Y.entriesIn=vb,Y.extend=pb,Y.extendWith=hg,o0(Y,Y),Y.add=p6,Y.attempt=Db,Y.camelCase=vx,Y.capitalize=yb,Y.ceil=h6,Y.clamp=hx,Y.clone=lC,Y.cloneDeep=cC,Y.cloneDeepWith=fC,Y.cloneWith=uC,Y.conformsTo=dC,Y.deburr=wb,Y.defaultTo=qx,Y.divide=m6,Y.endsWith=yx,Y.eq=Eo,Y.escape=wx,Y.escapeRegExp=bx,Y.every=lg,Y.find=ef,Y.findIndex=Xs,Y.findKey=UC,Y.findLast=tf,Y.findLastIndex=ui,Y.findLastKey=VC,Y.floor=g6,Y.forEach=bp,Y.forEachRight=nf,Y.forIn=zC,Y.forInRight=$C,Y.forOwn=qC,Y.forOwnRight=WC,Y.get=e0,Y.gt=pC,Y.gte=hC,Y.has=QC,Y.hasIn=t0,Y.head=$c,Y.identity=ca,Y.includes=Dp,Y.indexOf=el,Y.inRange=mx,Y.invoke=XC,Y.isArguments=hu,Y.isArray=Tt,Y.isArrayBuffer=mC,Y.isArrayLike=la,Y.isArrayLikeObject=Rn,Y.isBoolean=gC,Y.isBuffer=tl,Y.isDate=vC,Y.isElement=yC,Y.isEmpty=wC,Y.isEqual=bC,Y.isEqualWith=DC,Y.isError=Jy,Y.isFinite=SC,Y.isFunction=Ji,Y.isInteger=ib,Y.isLength=dg,Y.isMap=sb,Y.isMatch=EC,Y.isMatchWith=TC,Y.isNaN=CC,Y.isNative=xC,Y.isNil=kC,Y.isNull=MC,Y.isNumber=lb,Y.isObject=vn,Y.isObjectLike=Sn,Y.isPlainObject=Sp,Y.isRegExp=Xy,Y.isSafeInteger=FC,Y.isSet=ub,Y.isString=pg,Y.isSymbol=Ia,Y.isTypedArray=uf,Y.isUndefined=NC,Y.isWeakMap=IC,Y.isWeakSet=AC,Y.join=Wc,Y.kebabCase=Dx,Y.last=On,Y.lastIndexOf=Gc,Y.lowerCase=Sx,Y.lowerFirst=Ex,Y.lt=OC,Y.lte=RC,Y.max=v6,Y.maxBy=y6,Y.mean=w6,Y.meanBy=b6,Y.min=D6,Y.minBy=S6,Y.stubArray=s0,Y.stubFalse=l0,Y.stubObject=s6,Y.stubString=l6,Y.stubTrue=u6,Y.multiply=E6,Y.nth=fu,Y.noConflict=Xx,Y.noop=i0,Y.now=P,Y.pad=Tx,Y.padEnd=Cx,Y.padStart=xx,Y.parseInt=Mx,Y.random=gx,Y.reduce=pu,Y.reduceRight=Qy,Y.repeat=kx,Y.replace=Fx,Y.result=ix,Y.round=T6,Y.runInContext=oe,Y.sample=o,Y.size=v,Y.snakeCase=Nx,Y.some=S,Y.sortedIndex=up,Y.sortedIndexBy=cp,Y.sortedIndexOf=jy,Y.sortedLastIndex=di,Y.sortedLastIndexBy=eg,Y.sortedLastIndexOf=fp,Y.startCase=Ax,Y.startsWith=Ox,Y.subtract=C6,Y.sum=x6,Y.sumBy=M6,Y.template=Rx,Y.times=c6,Y.toFinite=Xi,Y.toInteger=Ct,Y.toLength=fb,Y.toLower=Lx,Y.toNumber=Xa,Y.toSafeInteger=LC,Y.toString=$t,Y.toUpper=_x,Y.trim=Px,Y.trimEnd=jx,Y.trimStart=Bx,Y.truncate=Yx,Y.unescape=Hx,Y.uniqueId=d6,Y.upperCase=Ux,Y.upperFirst=n0,Y.each=bp,Y.eachRight=nf,Y.first=$c,o0(Y,function(){var u={};return aa(Y,function(f,y){Rt.call(Y.prototype,y)||(u[y]=f)}),u}(),{chain:!1}),Y.VERSION=r,Wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Y[u].placeholder=Y}),Wn(["drop","take"],function(u,f){St.prototype[u]=function(y){y=y===n?1:bn(Ct(y),0);var x=this.__filtered__&&!f?new St(this):this.clone();return x.__filtered__?x.__takeCount__=Gn(y,x.__takeCount__):x.__views__.push({size:Gn(y,G),type:u+(x.__dir__<0?"Right":"")}),x},St.prototype[u+"Right"]=function(y){return this.reverse()[u](y).reverse()}}),Wn(["filter","map","takeWhile"],function(u,f){var y=f+1,x=y==me||y==be;St.prototype[u]=function(L){var H=this.clone();return H.__iteratees__.push({iteratee:st(L,3),type:y}),H.__filtered__=H.__filtered__||x,H}}),Wn(["head","last"],function(u,f){var y="take"+(f?"Right":"");St.prototype[u]=function(){return this[y](1).value()[0]}}),Wn(["initial","tail"],function(u,f){var y="drop"+(f?"":"Right");St.prototype[u]=function(){return this.__filtered__?new St(this):this[y](1)}}),St.prototype.compact=function(){return this.filter(ca)},St.prototype.find=function(u){return this.filter(u).head()},St.prototype.findLast=function(u){return this.reverse().find(u)},St.prototype.invokeMap=Et(function(u,f){return typeof u=="function"?new St(this):this.map(function(y){return ni(y,u,f)})}),St.prototype.reject=function(u){return this.filter(de(st(u)))},St.prototype.slice=function(u,f){u=Ct(u);var y=this;return y.__filtered__&&(u>0||f<0)?new St(y):(u<0?y=y.takeRight(-u):u&&(y=y.drop(u)),f!==n&&(f=Ct(f),y=f<0?y.dropRight(-f):y.take(f-u)),y)},St.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},St.prototype.toArray=function(){return this.take(G)},aa(St.prototype,function(u,f){var y=/^(?:filter|find|map|reject)|While$/.test(f),x=/^(?:head|last)$/.test(f),L=Y[x?"take"+(f=="last"?"Right":""):f],H=x||/^find/.test(f);L&&(Y.prototype[f]=function(){var K=this.__wrapped__,te=x?[1]:arguments,se=K instanceof St,ke=te[0],Fe=se||Tt(K),Oe=function(Mt){var At=L.apply(Y,$o([Mt],te));return x&&ze?At[0]:At};Fe&&y&&typeof ke=="function"&&ke.length!=1&&(se=Fe=!1);var ze=this.__chain__,at=!!this.__actions__.length,gt=H&&!ze,xt=se&&!at;if(!H&&Fe){K=xt?K:new St(this);var vt=u.apply(K,te);return vt.__actions__.push({func:Zc,args:[Oe],thisArg:n}),new Kn(vt,ze)}return gt&&xt?u.apply(this,te):(vt=this.thru(Oe),gt?x?vt.value()[0]:vt.value():vt)})}),Wn(["pop","push","shift","sort","splice","unshift"],function(u){var f=fo[u],y=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",x=/^(?:pop|shift)$/.test(u);Y.prototype[u]=function(){var L=arguments;if(x&&!this.__chain__){var H=this.value();return f.apply(Tt(H)?H:[],L)}return this[y](function(K){return f.apply(Tt(K)?K:[],L)})}}),aa(St.prototype,function(u,f){var y=Y[f];if(y){var x=y.name+"";Rt.call(Os,x)||(Os[x]=[]),Os[x].push({name:f,func:y})}}),Os[Ws(n,k).name]=[{name:"wrapper",func:n}],St.prototype.clone=fc,St.prototype.reverse=xd,St.prototype.value=_s,Y.prototype.at=hi,Y.prototype.chain=Jc,Y.prototype.commit=Zi,Y.prototype.next=Xc,Y.prototype.plant=vp,Y.prototype.reverse=qy,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=yp,Y.prototype.first=Y.prototype.head,ho&&(Y.prototype[ho]=gp),Y},Ms=Fy();Ha?((Ha.exports=Ms)._=Ms,Al._=Ms):nn._=Ms}).call(Vn)})(Qg,Qg.exports);var cE=Qg.exports;function mg(e){const t=e.match(/^#+/);return t?t[0].length:0}function sM(e,t){const n=e.split(`
`);let r="",a=[],i=!1,s=1;for(let c=0;c<n.length;c++){const d=n[c];if(d.startsWith("#")){if(i&&mg(d)<=mg(t))break;r=d,r===t?(i=!0,s=c+1):i&&mg(d)>mg(t)?a.push(d):(i=!1,a=[])}else i&&a.push(d)}return t?cE.isEmpty(a)?{content:"",startLine:-1}:{content:a.join(`
`),startLine:s}:{content:e,startLine:0}}function lM(e){const t=e.split(/\r?\n/),n=[];for(let r=0;r<t.length;r++)new RegExp(q8).test(t[r])&&n.push({line:t[r],index:r+1});return n}async function uM(e,t){let n=t.vault.getAbstractFileByPath(e);return n||(new F.Notice(O("File not found for the given thino path, is creating a new file")),n=await t.vault.create(e,'{"nodes": [], "edges": []}'),rt.setChangedByMemos(!0)),n}async function cM(e,t){let n;try{n=await t.vault.read(e)}catch(a){console.error(a),n=await t.vault.cachedRead(e)}const r=n.split(/---\n/);return r.length<3?n:r[2].trim()}function fM(e){const t=e.split(/\r?\n/),n=[];let r="",a=[],i=0;for(let s=0;s<t.length;s++){const c=t[s];c.startsWith("#")?(r&&n.push({header:r,content:a.join(`
`).trim(),pos:{start:i,end:s-1}}),r=c,a=[],i=s):a.push(c)}return r&&n.push({header:r,content:a.join(`
`).trim(),pos:{start:i,end:t.length-1}}),n}function dM(e){const t=e.split(/\r?\n/),n=[];let r=!1,a=[],i="";for(let s=0;s<t.length;s++){const c=t[s];c.startsWith("> [!thino]")?(r&&(n.push({metadata:i,content:a.join(`
`).trim()}),a=[]),r=!0,i=c.replace("> [!thino]","").trim()):r&&c.startsWith(">")?a.push(c.replace(/^> /,"")):r&&!c.startsWith(">")&&(r=!1,n.push({metadata:i,content:a.join(`
`).trim()}),a=[],i="")}return r&&n.push({metadata:i,content:a.join(`
`).trim()}),n}const pM=e=>{let t;switch(e){case" ":t="TASK-TODO";break;case"x":case"X":t="TASK-DONE";break;default:t="TASK-"+e;break}return t};async function hM(e,t){if(!t)return 0;const{vault:n}=xe.getState().dailyNotesState.app,r=e==null?void 0:e.DefaultMemoComposition,a=(e==null?void 0:e.ProcessEntriesBelow)||"";let i;try{i=await n.read(t)}catch(m){console.error(m),i=await n.cachedRead(t)}let s;r!=""&&/{TIME}/g.test(r)&&/{CONTENT}/g.test(r)?s="(-|\\*) (\\[(.{1})\\]\\s)?"+r.replace(/{TIME}/g,"((\\<time\\>)?\\d{1,2}:\\d{2})?").replace(/ {CONTENT}/g,""):s="(-|\\*) (\\[(.{1})\\]\\s)?((\\<time\\>)?\\d{1,2}\\:\\d{2})?";const c=new RegExp(s,"g"),d=(i.match(c)||[]).length,h=new RegExp(a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),g=(i.match(h)||[]).length;return i=null,g?d:0}function mM(e){return e.replace(/^(-|\*|\d\.) (\d{1,2}:\d{2})\s(.*)$/g,"$3")}function gM(e,t){return vM(e,t)}const vM=(e,t)=>{var a;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?((\\d{1,2})\\:(\\d{2}))?(\\<\\/time\\>)?").replace(/{CONTENT}/g,"(.*)$"):n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?((\\d{1,2})\\:(\\d{2}))?(\\<\\/time\\>)?\\s?(.*)$",(a=new RegExp(n,"").exec(t))==null?void 0:a[8]},yM=(e,t)=>{var a;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\<\\/time\\>)?").replace(/{CONTENT}/g,"(.*)$"):n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)$",(a=new RegExp(n,"").exec(t))==null?void 0:a[4]},wM=(e,t)=>{var a;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\<\\/time\\>)?").replace(/{CONTENT}/g,"(.*)$"):n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)$",(a=new RegExp(n,"").exec(t))==null?void 0:a[5]},bM=e=>{var t;return(t=/^\s*[\-\*]\s(\[(.{1})\])\s(.*)$/.exec(e))==null?void 0:t[2]},fE=()=>nE()?!0:(new F.Notice(O("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!1);async function dE(e,t){if(!e)return t;const n=xe.getState().dailyNotesState.app,r=await cM(e,n);if(!r.trim())return t;let a=F.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss");await n.fileManager.processFrontMatter(e,i=>{if(!i)return t;const s=!!i.pinned,c=!!i.archived,d=!!i.deletedAt;i.createdAt&&(a=F.moment(i.createdAt,"YYYY/MM/DD HH:mm:ss").isValid()?i.createdAt:a);const h=i.deletedAt?i.deletedAt:"",g=i.visibility?i.visibility:"PRIVATE",m=i.thinoType?i.thinoType:"JOURNAL",w=i.webId?i.webId:"";i.id||(i.id=Ue.randomId(16));const b=i.id?i.id:"",T=i.hasId?i.hasId:"",E=i.linkId?i.linkId:"",M=e.path,k="Memo",I="MULTI",B=[];return t.push({id:b,content:r,createdAt:a,updatedAt:a,deletedAt:d?F.moment(h,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:s,rowStatus:c?"ARCHIVED":"NORMAL",visibility:g,thinoType:m,hasId:T,linkId:E,path:M,creatorName:k,sourceType:I,resourceList:B,webId:w}),t})}async function r1(e,t){var b,T,E,M,k,I;if(!e)return t;const{vault:n}=xe.getState().dailyNotesState.app;let r;try{r=await n.read(e)}catch(B){console.error(B),r=await n.cachedRead(e)}if(!r)return;const a=F.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss"),i=F.moment(e.stat.mtime).format("YYYY/MM/DD HH:mm:ss"),s=e.path,c="Thino",d="FILE",h="",g="",m=[],w=await fM(r);for(const B of w){const N=dM(B.content);for(const j of N){const R=j.metadata.match(/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}/g);if(!R)continue;const _=(T=(b=j.metadata.match(/id::([^\]]*)/g))==null?void 0:b[0])==null?void 0:T.replace("id::","");if(!_)continue;const $=R?R[0]:a,q=R?R[0]:i,z=j.metadata.match(/webId::([^\]]*)/g)?(M=(E=j.metadata.match(/webId::([^\]]*)/g))==null?void 0:E[0])==null?void 0:M.replace("webId::",""):"",ee=j.metadata.contains("[pinned::true]"),ie=j.metadata.contains("[archived::true]"),ae=j.metadata.contains("[deleted::"),me=(k=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(j.metadata))==null?void 0:k[2],fe=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(j.metadata)?"PUBLIC":"PRIVATE",be=(I=new RegExp(/\[(thinoType|THINOTYPE)::([^\]]*)\]/,"g").exec(j.metadata))==null?void 0:I[2];t.push({id:_,content:j.content,createdAt:$,updatedAt:q,deletedAt:ae?F.moment(me,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:ee,rowStatus:ie?"ARCHIVED":"NORMAL",visibility:fe,thinoType:be||"JOURNAL",hasId:h,linkId:g,path:s,creatorName:c,sourceType:d,resourceList:m,webId:z})}}return t}async function a1(e,t){var m,w,b;if(!e)return[];const n=xe.getState().dailyNotesState.settings,{vault:r}=xe.getState().dailyNotesState.app;if(await hM(n,e)===0)return;const i=Bp(e,"day");let s,c;try{c=await r.read(e)}catch(T){console.error(T),c=await r.cachedRead(e)}const{content:d,startLine:h}=sM(c,n.ProcessEntriesBelow),g=lM(d);for(const T of g){const E=yM(n.DefaultMemoComposition,T.line),M=wM(n.DefaultMemoComposition,T.line);let k=mM(T.line);if(i.hours(parseInt(E)),i.minutes(parseInt(M)),/^\s*[-*]\s(\[(.)\])\s/g.test(T.line)){const z=bM(T.line);k=gM(n.DefaultMemoComposition,T.line),s=pM(z)}else s="JOURNAL";let I=k;const B=new RegExp(/\[(pinned|PINNED)::true\]/,"g").test(k),N=new RegExp(/\[(archived|ARCHIVED)::true\]/,"g").test(k),j=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").test(k),R=(m=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(k))==null?void 0:m[2],_=(w=new RegExp(/\[(webId|WEBID)::([^\]]*)\]/,"g").exec(k))==null?void 0:w[2],$=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(k)?"PUBLIC":"PRIVATE",q=(b=new RegExp(/\s\^([0-9a-zA-Z-]+)$/).exec(k))==null?void 0:b[1];I=I.replace(/\s\[pinned::[^\]]+\]/g,"").replace(/\s\[visibility::[^\]]+\]/g,"").replace(/\s\[archived::[^\]]+\]/g,"").replace(/\s\[deleted::[^\]]+\]/g,"").replace(/\s\[webId::[^\]]+\]/g,"").replace(/\s\^([0-9a-zA-Z-]+)$/g,""),t.push({id:i.format("YYYYMMDDHHmmSS")+`${T.index+h-1}`,content:I,createdAt:i.format("YYYY/MM/DD HH:mm:SS"),updatedAt:i.format("YYYY/MM/DD HH:mm:SS"),thinoType:s,hasId:q||"",linkId:"",path:e.path,deletedAt:j?F.moment(R,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",rowStatus:N?"ARCHIVED":"NORMAL",visibility:$,pinned:B,creatorName:"Memo",resourceList:[],sourceType:"DAILY",webId:_})}}async function o1(e,t){const{app:n}=xe.getState().dailyNotesState;if(!(e instanceof F.TFile))return;let r;try{r=await n.vault.read(e)}catch(s){console.error(s),r=await n.vault.cachedRead(e)}if(!r)return;const a=JSON.parse(r),i=a==null?void 0:a.nodes;for(const s of i){if(s.type==="group"||s.createdAt===void 0||s.text.trim()==="")continue;const c=F.moment(s==null?void 0:s.createdAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),d=F.moment(s==null?void 0:s.updatedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),h=s!=null&&s.deletedAt?F.moment(s==null?void 0:s.deletedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",g=!!(s!=null&&s.pinned),m=s!=null&&s.archived?"ARCHIVED":"NORMAL",w=s!=null&&s.visibility?s==null?void 0:s.visibility:"PRIVATE",b=s!=null&&s.thinoType?s==null?void 0:s.thinoType:"JOURNAL",T=s!=null&&s.text?s==null?void 0:s.text:"",E=s!=null&&s.id?s==null?void 0:s.id:"",M=s!=null&&s.hasId?s==null?void 0:s.hasId:"",k=s!=null&&s.linkId?s==null?void 0:s.linkId:"",I=e.path,B="Memo",N="CANVAS",j=[],R=s!=null&&s.webId?s==null?void 0:s.webId:void 0;t.push({id:E,content:T,createdAt:c,updatedAt:d,deletedAt:h,pinned:g,rowStatus:m,visibility:w,thinoType:b,hasId:M,linkId:k,path:I,creatorName:B,sourceType:N,resourceList:j,webId:R})}}async function Nb(e=[]){const t=[],n=[],r=xe.getState().dailyNotesState.app,{vault:a}=r,{settings:i}=xe.getState().dailyNotesState,s=r.loadLocalStorage("tokenForSync"),c=async(d,h)=>{for(const g of d)try{await h(g,t)}catch(m){console.error(m),new F.Notice(m)}};if(e.includes("CANVAS")){const d=DM(a);await c(d,o1)}if(e.includes("MULTI")){const d=SM(a,i);await c(d,dE)}if(e.includes("DAILY")){const d=await EM(a);await c(d,a1)}if(e.includes("FILE")||s){const d=TM(a);await c(d,r1)}return{memos:t,commentMemos:n}}function DM(e){return e.getAllLoadedFiles().filter(t=>t instanceof F.TFile&&t.extension==="canvas"&&t.name.includes(".thino"))}function SM(e,t){return e.getMarkdownFiles().filter(n=>{var r;return n instanceof F.TFile&&((r=n.parent)==null?void 0:r.path.includes(t.MemoOtherSaveLocation.MemoDefaultMultiFilePath.trim()))})}async function EM(e){const t=iE();t===void 0&&new F.Notice(O("Please check your daily note plugin OR periodic notes plugin settings")+"folder path is empty or undefined"),e.getAbstractFileByPath(F.normalizePath(t))||new F.Notice(O("Failed to find daily notes folder"));const r=Au();return Object.values(r).filter(a=>a instanceof F.TFile&&a.extension==="md")}function TM(e){return e.getMarkdownFiles().filter(t=>t instanceof F.TFile&&t.name.trim().includes("thino"))}const CM=async(e,t,n)=>{const r=await _f(xe.getState().dailyNotesState.app)||[],a=r.find(c=>c.id===e),i={...a,title:t,querystring:n},s=r.findIndex(c=>c.id===e);return r[s]=i,await gh(xe.getState().dailyNotesState.app,r),[a]};function xM(e){return(e==null?void 0:e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))||e}function MM(e){const t=[];let n=e;for(;n.contains(`
`);){const r=n.indexOf(`
`);t.push(n.slice(0,r)),n=n.slice(r+1)}return t.push(n),t}async function kM({content:e,isList:t}){const n=xe.getState().dailyNotesState.settings,r=F.moment(),a=Ue.randomId(16),i=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",s=`${i}/${r.format("YYYYMMDD")}-${a}.md`,c={id:a,content:e,deletedAt:"",path:s,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"MULTI"},d=ct.getState().app,{vault:h,fileManager:g}=d,m=h.getAbstractFileByPath(i);(!m||!(m instanceof F.TFolder))&&(new F.Notice(O("Folder not found for the given thino path, is creating a new folder")),await h.createFolder(i)),rt.setChangedByMemos(!0);const w=await h.create(s,e);return await g.processFrontMatter(w,b=>{b.id=a,b.createdAt=r.format("YYYY/MM/DD HH:mm:ss"),b.updatedAt=r.format("YYYY/MM/DD HH:mm:ss"),b.thinoType=t?"JOURNAL":"TASK-TODO",b.pinned=!1,b.visibility="PUBLIC",b.rowStatus="NORMAL"}),c}async function FM({content:e,isList:t}){const n=xe.getState().dailyNotesState.settings,r=F.moment(),a=Ue.randomId(16),i=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",s={id:a,content:e,deletedAt:"",path:i,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE"},c=ct.getState().app,{vault:d}=c;let h=d.getAbstractFileByPath(i);(!h||!(h instanceof F.TFile))&&(new F.Notice(O("File not found for the given thino path, is creating a new file")),h=await d.create(i,""));let g="";try{g=await d.read(h)||await d.cachedRead(h)}catch(k){console.error(k),new F.Notice(O("Failed to read current daily note, check if it exists."))}const m=g.indexOf(`# ${r.format("YYYY-MM-DD")}`);let w=g.indexOf(`
#`,m+1);w===-1&&(w=g.length);const b=`> [!thino] ${r.format("YYYY/MM/DD HH:mm:ss")} %% [id::${a}] [thinoType::${t?"JOURNAL":"TASK-TODO"}] %%`,T=e.replace(/\n/g,`
> `),E=`
${b}
> ${T}
`;let M;if(m===-1){const k=`# ${r.format("YYYY-MM-DD")}`;M=`${g.substring(0,w)}
${k}${E}
${g.substring(w)}`}else M=`${g.substring(0,w)}${E}${g.substring(w)}`;return setTimeout(async()=>{rt.setChangedByMemos(!0),await d.modify(h,M)},200),s}async function Ib(e){const t=xe.getState().dailyNotesState.settings,n=F.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),r=e.id,a=(t==null?void 0:t.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",i={id:r,content:e.content,deletedAt:e.deletedAt??"",path:a,createdAt:n.format("YYYY/MM/DD HH:mm:ss"),updatedAt:n.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",hasId:"",linkId:"",pinned:e.pinned,visibility:"PUBLIC",rowStatus:e.rowStatus??"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE",webId:e.id},s=ct.getState().app,{vault:c}=s;let d=c.getAbstractFileByPath(a);(!d||!(d instanceof F.TFile))&&(new F.Notice(O("File not found for the given thino path, is creating a new file")),d=await c.create(a,""));let h="";try{h=await c.read(d)||await c.cachedRead(d)}catch(M){console.error(M),new F.Notice(O("Failed to read current daily note, check if it exists."))}const g=h.indexOf(`# ${n.format("YYYY-MM-DD")}`);let m=h.indexOf(`
#`,g+1);m===-1&&(m=h.length);const w=`> [!thino] ${n.format("YYYY/MM/DD HH:mm:ss")} %% [id::${r}] [thinoType::JOURNAL]${e.rowStatus==="ARCHIVED"?" [archived::true]":""}${e.pinned===!0?" [pinned::true]":""}${e.deletedAt?` [deleted::${e.deletedAt}]`:""}${e.id?` [webId::${e.id}]`:""}  %%`,b=e.content.replace(/\n/g,`
> `),T=`
${w}
> ${b}
`;let E;if(g===-1){const M=`# ${n.format("YYYY-MM-DD")}`;E=`${h.substring(0,m)}
${M}${T}
${h.substring(m)}`}else E=`${h.substring(0,m)}${T}${h.substring(m)}`;return rt.setChangedByMemos(!0),await c.modify(d,E),i}async function NM({content:e,isList:t}){const n=xe.getState().dailyNotesState.settings,r=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultCanvasPath)||"basic.thino.canvas",a=F.moment(),i=Ue.randomId(16),s={id:i,content:e,deletedAt:"",path:r,createdAt:a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:a.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"CANVAS"},c=ct.getState().app,{vault:d}=c,h=await uM(r,c);if(!h||!(h instanceof F.TFile)){new F.Notice(O("File not found for the given thino path, is creating a new file"));return}const g=await d.read(h),m=JSON.parse(g);if(m.nodes.find(M=>M.id===s.id))return;let b;m.nodes.length>0&&(b=[...m.nodes].reduce((M,k)=>{if(!M.createdAt)return k;const I=F.moment(M.createdAt,"YYYY/MM/DD HH:mm:ss"),B=F.moment(k.createdAt,"YYYY/MM/DD HH:mm:ss");return I.isAfter(B)?M:k}));const T=b?{x:b.x,y:b.y+100,width:b.width,height:b.height}:{x:0,y:0,width:200,height:100};m.nodes.push({...T,type:"text",id:i,text:e,deletedAt:"",createdAt:a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:a.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[]}),rt.setChangedByMemos(!0);const E=JSON.stringify(m,null,2);return await d.modify(h,E),s}async function Ab(e,t,n){var I;const{vault:r}=xe.getState().dailyNotesState.app??app,a=xe.getState().dailyNotesState.settings,i=e.replace(/\n/g,"<br>"),s=n??F.moment(),c=s.format("HH"),d=s.format("mm"),h=`${c}:${d}`,g=t?"- ":"- [ ] ",m=a!=null&&a.DefaultMemoComposition?`${g}${(I=a==null?void 0:a.DefaultMemoComposition)==null?void 0:I.replace(/{TIME}/g,h).replace(/{CONTENT}/g,i)}`:`${g}${h} ${i}`,w=Au(),b=Sv(s,w);let T;if(b?T=b:T=await Ue.createDailyNoteCheck(s),!T){new F.Notice(O("Failed to create daily note, check if it exists."));return}b||await ct.fechLocalDailyNotes();let E="";try{E=await r.read(T)||await r.cachedRead(T)}catch(B){console.error(B),new F.Notice(O("Failed to read current daily note, check if it exists."))}const M=await pE(a==null?void 0:a.InsertAfter,m,E);n?await r.modify(T,M.content):setTimeout(async()=>{await r.modify(T,M.content)},200);const k=M.posNum===-1?hE(M.content).length-1:M.posNum+1;return rt.setChangedByMemos(!0),{id:s.format("YYYYMMDDHHmm")+"00"+k,content:e,deletedAt:"",createdAt:s.format("YYYY/MM/DD HH:mm:ss"),updatedAt:s.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"":"TASK-TODO",path:T.path,hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function IM(e){const{vault:t}=xe.getState().dailyNotesState.app??app,{DefaultMemoComposition:n,InsertAfter:r}=xe.getState().dailyNotesState.settings;let a=(e.pinned?" [pinned::true]":"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.visibility==="PRIVATE"?' [visibility::"PRIVATE"]':"");if(e.id){const B=" [webId::"+e.id+"]";a+=B}const i=F.moment();if(e.deletedAt){const B=" [deleted::"+i.format("YYYYMMDDHHmmss")+"]";a+=B}const s=e.content.replace(/\n/g,"<br>")+a,c=F.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),d=c.format("HH"),h=c.format("mm"),g=`${d}:${h}`,m=e.thinoType?"- [ ] ":"- ",w=n?`${m}${n==null?void 0:n.replace(/{TIME}/g,g).replace(/{CONTENT}/g,s)}`:`${m}${g} ${s}`,b=Au(),T=Sv(c,b);let E;if(T?E=T:E=await Ue.createDailyNoteCheck(c),!E){new F.Notice(O("Failed to create daily note, check if it exists."));return}T||await ct.fechLocalDailyNotes();let M="";try{M=await t.read(E)||await t.cachedRead(E)}catch(B){console.error(B),new F.Notice(O("Failed to read current daily note, check if it exists."))}const k=await pE(r,w,M);await t.modify(E,k.content);const I=k.posNum===-1?hE(k.content).length-1:k.posNum+1;return rt.setChangedByMemos(!0),{id:c.format("YYYYMMDDHHmm")+"00"+I,content:e.content,deletedAt:e.deletedAt??"",createdAt:c.format("YYYY/MM/DD HH:mm:ss"),updatedAt:c.format("YYYY/MM/DD HH:mm:ss"),thinoType:e.thinoType??"JOURNAL",path:E.path,hasId:"",linkId:"",pinned:e.pinned??!1,visibility:"PUBLIC",rowStatus:e.rowStatus??"NORMAL",webId:e.id,creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function pE(e,t,n){const r=new RegExp(`s*${await xM(e)}s*`),a=MM(n),i=a.findIndex(h=>r.test(h)),s=(e==null?void 0:e.trim())===""?!0:i===-1,c=a.slice(i+1).findIndex(h=>/^#+ |---/.test(h)),d=c!==-1;if(d){let h;for(let g=c+i;g>i;g--)if(!/^[\s\n ]*$/.test(a[g])){h=g;break}return h||(h=i),await Ob(t,n,s?-1:h,d)}else return await Ob(t,n,a.length-1,d)}async function Ob(e,t,n,r){if(n<-1)throw new Error("Invalid position");if(n===-1)return{content:`${t}
${e}`,posNum:-1};const a=t.split(`
`),i=a.slice(0,n+1).join(`
`),s=a.slice(n+1).join(`
`),c=s.trim().length>0;return{content:`${i}${!c&&!r||!i.endsWith(`
`)?`
`:""}${e}${(c||r?`
`:"")+s}`,posNum:n}}const hE=e=>e.split(/\r?\n/);async function AM(e){const t=xe.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof F.TFile)){new F.Notice(O("File not found for the given thino path"));return}await t.vault.delete(n)}async function OM(e){const t=xe.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof F.TFile)){new F.Notice(O("File not found for the given thino path"));return}const a=(await t.vault.read(n)).split(`
`),i=a.findIndex(d=>d.includes(e.id));if(i===-1){new F.Notice(O("Thino not found"));return}const s=a.findIndex((d,h)=>h>i&&d.trim()==="");s===-1?a.splice(i,a.length-i):a.splice(i,s-i);const c=a.join(`
`);if(!c){new F.Notice(O("Thino not found"));return}rt.setChangedByMemos(!0),await t.vault.modify(n,c)}async function RM(e){const t=xe.getState().dailyNotesState.app,n=t.metadataCache.getFirstLinkpathDest("",e.path);if(!n){new F.Notice(O("File not found for the given thino path"));return}const r=await t.vault.read(n),a=JSON.parse(r),i=a.nodes,s=i.findIndex(g=>g.id===e.id);if(s===-1){new F.Notice(O("Thino not found"));return}i.splice(s,1);const c=a.edges;c.filter(g=>g.fromNode===e.id||g.toNode===e.id).forEach(g=>{const m=c.findIndex(w=>w.id===g.id);m!==-1&&c.splice(m,1)}),rt.setChangedByMemos(!0);const h=JSON.stringify(a,null,2);await t.vault.modify(n,h)}async function LM(e){fE()||new F.Notice(O("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."),5e3);const{vault:t}=xe.getState().dailyNotesState.app,n=e.id.toString().slice(0,14),r=F.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(F.moment(n,"YYYYMMDDHHmmss"))?F.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):F.moment(n,"YYYYMMDDHHmmss"),a=F.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(r,"day"),i=e.path,s=t.getAbstractFileByPath(i);if(!s){new F.Notice(O("Please check your daily note plugin OR periodic notes plugin settings"));return}const c=await t.read(s),d=c.split(`
`),h=a?F.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm"):(parseInt(e.id.toString().slice(10,12))+24).toString()+":"+e.id.toString().slice(12,14),g=d.findIndex(T=>T.includes(e.content.replace(/\n/g,"<br>").trim())&&T.includes(h)),m=parseInt(e.id.slice(14));let w=g;g===-1&&(w=m-1);const b=d[g]||d[m-1];if(!c){new F.Notice(O("Thino not found"));return}if(b===d[w]){rt.setChangedByMemos(!0),d.splice(w,1),await t.modify(s,d.join(`
`));return}}async function _M(){const{vault:e,metadataCache:t}=xe.getState().dailyNotesState.app,n=xe.getState().dailyNotesState.settings,a=iE()+"/"+n.DeleteFileName+".md",i=[],s=t.getFirstLinkpathDest("",a);if(s instanceof F.TFile){let c=await e.read(s),d=PM(c);if(d.length===0)return i;for(let h=0;h<d.length;h++){const g=d[h];if(/- /.test(g)){const w=jM(g).slice(0,13),b=F.moment(w,"YYYYMMDDHHmmss"),T=YM(d[h]),E=F.moment(T.slice(0,13),"YYYYMMDDHHmmss"),M=BM(d[h]);i.push({id:T,content:M,user_id:1,createdAt:b.format("YYYY/MM/DD HH:mm:SS"),updatedAt:b.format("YYYY/MM/DD HH:mm:SS"),deletedAt:E})}else continue}d=null,c=null}return i}const PM=e=>e.split(/\r?\n/),jM=e=>{var t;return(t=/^- (\d{14})(\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[1]},BM=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[2]},YM=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[4]};async function HM(e){const t=await _f(xe.getState().dailyNotesState.app)||[],n=t.findIndex(r=>r.id===e);t.splice(n,1),await gh(xe.getState().dailyNotesState.app,t)}const UM=async e=>{const{app:t}=xe.getState().dailyNotesState,n=await _f(t)||[],r=n.find(a=>a.id===e);if(r){const a=F.moment().format("YYYY/MM/DD HH:mm:ss");return r.pinnedAt=a,await gh(t,n),a}else{new F.Notice(O("Query not found"));return}},VM=async e=>{const{app:t}=xe.getState().dailyNotesState,n=await _f(t)||[],r=n.find(a=>a.id===e);if(r){r.pinnedAt="",await gh(t,n);return}else{new F.Notice(O("Query not found"));return}};function zM(e,t){const n=/%%(.*?)%%/,r=e.match(n);if(!r)return e;const a=r[1].trim(),i={};a.split(" ").forEach(c=>{const[d,h]=c.slice(1,-1).split("::");i[d]=h});for(const c of Object.keys(t))if(c!=="id"&&c!=="content"){if(c==="rowStatus"&&t.rowStatus==="ARCHIVED"){i.archived="true";continue}else if(c==="rowStatus"&&t.rowStatus==="NORMAL"){delete i.archived;continue}if(c==="deleted"&&t.deleted){const d=F.moment().format("YYYYMMDDHHmmss");i.deleted=d}else typeof t[c]=="boolean"?t[c]?i[c]="true":delete i[c]:t[c]&&(i[c]=t[c])}const s=Object.entries(i).map(([c,d])=>`[${c}::${d}]`).join(" ");return e.replace(n,`%% ${s} %%`)}async function as(e,t){if(!e.sourceType||e.sourceType!=="MULTI")return e;const{vault:n,fileManager:r}=xe.getState().dailyNotesState.app,a=n.getAbstractFileByPath(e.path);if(!a)return e;const i=F.moment();if(await r.processFrontMatter(a,s=>{(t.pinned||t.thinoType||t.rowStatus||t.visibility||t.deleted)&&rt.setChangedByMemos(!0),t.id&&(s.id=t.id),t.thinoType&&(s.thinoType=t.thinoType),t.rowStatus&&(s.rowStatus=t.rowStatus),t.visibility&&(s.visibility=t.visibility),t.webId&&(s.webId=t.webId),t.pinned!==void 0&&(s.pinned=t.pinned),t.deleted!==void 0&&(s.deletedAt=t.deleted?i.format("YYYY/MM/DD HH:mm:ss"):""),s.createdAt||(s.createdAt=i.format("YYYY/MM/DD HH:mm:ss")),s.updatedAt=i.format("YYYY/MM/DD HH:mm:ss")}),t.content){const s=await n.read(a);let c=s;const d=t.content.replace(/\$/g,"$$$$");c=s.replace(e.content,d),await n.modify(a,c)}return rt.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||i.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?i.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function cl(e,t){if(!e.sourceType||e.sourceType!=="FILE")return e;const{vault:n}=xe.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const a=F.moment();let i="";try{i=await n.read(r)}catch(k){console.error(k),i=await n.cachedRead(r)}const s=i.split(/\r?\n/),c=s.findIndex(k=>k.includes(e.id)||e.webId&&k.includes(e.webId)),d=s[c];if(!d)return e;const h=zM(d,t);if(!d)return e;const g=h+`
`,m=s.findIndex((k,I)=>I>c&&k.trim()==="");let w="";m===-1&&(w=s.slice(c+1).join(`
`)),m!==-1&&(w=s.slice(c+1,m).join(`
`));let b=w;t!=null&&t.content&&(b=t.content.split(/\r?\n/).map(N=>"> "+N).join(`
`));const E=(g+b).split(/\r?\n/);s.splice(c,m?m-c:s.length-c,...E);const M=s.join(`
`);return await n.modify(r,M),rt.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?a.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function fl(e,t){if(!e.sourceType||e.sourceType!=="CANVAS")return e;const{vault:n}=xe.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const a=await n.read(r),i=JSON.parse(a),s=i.nodes.find(h=>h.id===e.id);if(!s)return e;t.content&&(s.text=t.content),t.thinoType&&(s.thinoType=t.thinoType),t.rowStatus&&(s.rowStatus=t.rowStatus),t.visibility&&(s.visibility=t.visibility),t.pinned!==void 0&&(s.pinned=t.pinned),t.webId&&(s.webId=t.webId);const c=F.moment();t.deleted!==void 0&&(s.deletedAt=t.deleted?c.format("YYYY/MM/DD HH:mm:ss"):""),s.updatedAt=c.format("YYYY/MM/DD HH:mm:ss");const d=JSON.stringify(i,null,2);return await n.modify(r,d),rt.setChangedByMemos(!0),{...e,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?c.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function dl(e,t){fE()||new F.Notice(O("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."));const{vault:n}=xe.getState().dailyNotesState.app,r=e.id.toString().slice(0,14),a=F.moment(e.createdAt,"YYYY-MM-DD HH:mm:ss").isSame(F.moment(r,"YYYYMMDDHHmmss"))?F.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):F.moment(r,"YYYYMMDDHHmmss"),i=F.moment(e.createdAt,"YYYY-MM-DD HH:mm:ss").isSame(a,"day"),s=e.path,c=n.getAbstractFileByPath(s)||n.getAbstractFileByPath(e.path);if(!c)return new F.Notice(O("Please check your daily note plugin OR periodic notes plugin settings")),e;const h=(await n.read(c)).split(`
`),g=i?F.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm"):(parseInt(e.id.toString().slice(10,12))+24).toString()+":"+e.id.toString().slice(12,14);let m,w,b;try{m=h.findIndex(k=>{const I=k.replace(/^(-|\*|\d\.|-\s\[.?\])\s\d{2}:\d{2}/,"").trim(),B=e.content.replace(/\n/g,"<br>").trim(),N=k.includes(g),j=I.includes(B);return N&&(j||I===B)}),b=!1,w=parseInt(e.id.slice(14))}catch(k){console.error(k)}let T=m!==-1&&m===w?m:w;m===-1&&(T=w,h[w-1]&&(b=!0));let E=h[w]||h[m];if(E=E.replace(/\s\^([0-9a-zA-Z-]+)$/g,""),!E)return new F.Notice(O("Thino not found")),e;if(t.content)if(b){const k=e.thinoType==="TASK-TODO"?"- [ ] ":e.thinoType==="TASK-DONE"?"- [x] ":e.thinoType.startsWith("TASK")?`- [${e.thinoType.slice(5)}] `:"- ",I=(e.pinned?" [pinned::true]":"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.visibility==="PUBLIC"?' [visibility::"PUBLIC"]':"");E=`${k}${g} ${t.content.trim()} ${I}`}else{const k=/^(((-|\*)|(\d\.)|(-\s\[.?\]))\s\d{2}:\d{2})/.exec(E)[1];E=E.replace(/^(((-|\*)|(\d\.)|(-\s\[.?\]))\s\d{2}:\d{2})/,"").replace(e.content.trim().replace(/\n/g,"<br>"),t.content.trim().replace(/\n/g,"<br>")).trim(),E=k+" "+E}if(t.thinoType){const k=t.thinoType==="TASK-TODO"?"- [ ] ":t.thinoType==="TASK-DONE"?"- [x] ":t.thinoType.startsWith("TASK")?`- [${t.thinoType.slice(5)}] `:"- ";E=E.replace(/^((- \[.\] )|((-|\*) ))/,k)}if(t.rowStatus){const k=t.rowStatus==="ARCHIVED"?"[archived::"+(t.rowStatus==="ARCHIVED"?"true":"false")+"]":"";E=E.includes("[archived::")?E.replace(/\[archived::(true|false)\]/,k):E+" "+k}if(t.visibility){const k='[visibility::"'+t.visibility+'"]';E=E.includes("[visibility::")?E.replace(/\[visibility::"(PUBLIC|PROTECTED)"\]/g,k):E+" "+k}if(t.pinned!==void 0){const k=t.pinned?"[pinned::"+(t.pinned?"true":"false")+"]":"";E=E.includes("[pinned::")?E.replace(/\[pinned::(true|false)\]/,t.pinned===!1?"":k):E+" "+k}if(t.webId!==void 0){const k="[webId::"+t.webId+"]";E=E.includes("[webId::")?E.replace(/\[webId::([^\]]+)\]/,t.webId===""?"":k):E+" "+k}const M=F.moment();if(t.deleted!==void 0){const k="[deleted::"+M.format("YYYYMMDDHHmmss")+"]";t.deleted?(E=E.replace(/\[deleted::([^\]]+)\]/,""),E=E+" "+k):t.deleted===!1&&(E=E.replace(/\[deleted::([^\]]+)\]/,""))}if(e.hasId){const k=" ^"+e.hasId;E=E.replace(/\s\^([0-9a-zA-Z-]+)$/g,"")+k}return E!==h[T]?(h.splice(T,1,E),await n.modify(c,h.join(`
`)),rt.setChangedByMemos(!0),{...e,thinoType:t.thinoType??e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?M.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}):e}const $M=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return fl(e,{id:e.id,pinned:!0});case"DAILY":return dl(e,{id:e.id,pinned:!0});case"MULTI":return as(e,{id:e.id,pinned:!0});case"FILE":return cl(e,{id:e.id,pinned:!0})}},qM=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return fl(e,{id:e.id,pinned:!1});case"DAILY":return dl(e,{id:e.id,pinned:!1});case"MULTI":return as(e,{id:e.id,pinned:!1});case"FILE":return cl(e,{id:e.id,pinned:!1})}};var i1;(e=>{async function t(E){return await Nb(E)}e.getMyMemos=t;async function n(E){return await Nb([E])}e.updateSpecificTypeMemo=n;function r(){return _M()}e.getMyDeletedMemos=r;function a(E){const M=Me.getMemoById(E);if(M)switch(M==null?void 0:M.sourceType){case"DAILY":return dl(M,{id:M.id,deleted:!1});case"CANVAS":return fl(M,{id:M.id,deleted:!1});case"MULTI":return as(M,{id:M.id,deleted:!1});case"FILE":return cl(M,{id:M.id,deleted:!1})}}e.restoreMemo=a;function i(E){return OM(E)}e.deleteMemoInSingleFile=i;function s(E){return AM(E)}e.deleteMemoInMultiFiles=s;function c(E){return LM(E)}e.deleteMemoInDailyNote=c;function d(E){return RM(E)}e.deleteMemoInCanvas=d;function h(){return aM()}e.getMyQueries=h;async function g(E,M){return await iM(E,M)}e.createQuery=g;function m(E,M,k){return CM(E,M,k)}e.updateQuery=m;function w(E){return HM(E)}e.deleteQueryById=w;function b(E){return UM(E)}e.pinQuery=b;function T(E){return VM(E)}e.unpinQuery=T})(i1||(i1={}));const da=i1;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});class Ru extends Error{}class WM extends Ru{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class GM extends Ru{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class KM extends Ru{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Lp extends Ru{}class mE extends Ru{constructor(t){super(`Invalid unit ${t}`)}}class to extends Ru{}class nl extends Ru{constructor(){super("Zone is an abstract class")}}const $e="numeric",Ao="short",_a="long",Zg={year:$e,month:$e,day:$e},gE={year:$e,month:Ao,day:$e},QM={year:$e,month:Ao,day:$e,weekday:Ao},vE={year:$e,month:_a,day:$e},yE={year:$e,month:_a,day:$e,weekday:_a},wE={hour:$e,minute:$e},bE={hour:$e,minute:$e,second:$e},DE={hour:$e,minute:$e,second:$e,timeZoneName:Ao},SE={hour:$e,minute:$e,second:$e,timeZoneName:_a},EE={hour:$e,minute:$e,hourCycle:"h23"},TE={hour:$e,minute:$e,second:$e,hourCycle:"h23"},CE={hour:$e,minute:$e,second:$e,hourCycle:"h23",timeZoneName:Ao},xE={hour:$e,minute:$e,second:$e,hourCycle:"h23",timeZoneName:_a},ME={year:$e,month:$e,day:$e,hour:$e,minute:$e},kE={year:$e,month:$e,day:$e,hour:$e,minute:$e,second:$e},FE={year:$e,month:Ao,day:$e,hour:$e,minute:$e},NE={year:$e,month:Ao,day:$e,hour:$e,minute:$e,second:$e},ZM={year:$e,month:Ao,day:$e,weekday:Ao,hour:$e,minute:$e},IE={year:$e,month:_a,day:$e,hour:$e,minute:$e,timeZoneName:Ao},AE={year:$e,month:_a,day:$e,hour:$e,minute:$e,second:$e,timeZoneName:Ao},OE={year:$e,month:_a,day:$e,weekday:_a,hour:$e,minute:$e,timeZoneName:_a},RE={year:$e,month:_a,day:$e,weekday:_a,hour:$e,minute:$e,second:$e,timeZoneName:_a};class vh{get type(){throw new nl}get name(){throw new nl}get ianaName(){return this.name}get isUniversal(){throw new nl}offsetName(t,n){throw new nl}formatOffset(t,n){throw new nl}offset(t){throw new nl}equals(t){throw new nl}get isValid(){throw new nl}}let f0=null;class Ev extends vh{static get instance(){return f0===null&&(f0=new Ev),f0}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return _E(t,n,r)}formatOffset(t,n){return Hp(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let jg={};function JM(e){return jg[e]||(jg[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),jg[e]}const XM={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ek(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,a,i,s,c,d,h,g]=r;return[s,a,i,c,d,h,g]}function tk(e,t){const n=e.formatToParts(t),r=[];for(let a=0;a<n.length;a++){const{type:i,value:s}=n[a],c=XM[i];i==="era"?r[c]=s:_t(c)||(r[c]=parseInt(s,10))}return r}let gg={};class ss extends vh{static create(t){return gg[t]||(gg[t]=new ss(t)),gg[t]}static resetCache(){gg={},jg={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=ss.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return _E(t,n,r,this.name)}formatOffset(t,n){return Hp(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const r=JM(this.name);let[a,i,s,c,d,h,g]=r.formatToParts?tk(r,n):ek(r,n);c==="BC"&&(a=-Math.abs(a)+1);const w=G1({year:a,month:i,day:s,hour:d===24?0:d,minute:h,second:g,millisecond:0});let b=+n;const T=b%1e3;return b-=T>=0?T:1e3+T,(w-b)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Rb={};function nk(e,t={}){const n=JSON.stringify([e,t]);let r=Rb[n];return r||(r=new Intl.ListFormat(e,t),Rb[n]=r),r}let s1={};function l1(e,t={}){const n=JSON.stringify([e,t]);let r=s1[n];return r||(r=new Intl.DateTimeFormat(e,t),s1[n]=r),r}let u1={};function rk(e,t={}){const n=JSON.stringify([e,t]);let r=u1[n];return r||(r=new Intl.NumberFormat(e,t),u1[n]=r),r}let c1={};function ak(e,t={}){const{base:n,...r}=t,a=JSON.stringify([e,r]);let i=c1[a];return i||(i=new Intl.RelativeTimeFormat(e,t),c1[a]=i),i}let _p=null;function ok(){return _p||(_p=new Intl.DateTimeFormat().resolvedOptions().locale,_p)}function ik(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(n===-1)return[e];{let r,a;try{r=l1(e).resolvedOptions(),a=e}catch{const d=e.substring(0,n);r=l1(d).resolvedOptions(),a=d}const{numberingSystem:i,calendar:s}=r;return[a,i,s]}}function sk(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function lk(e){const t=[];for(let n=1;n<=12;n++){const r=ot.utc(2016,n,1);t.push(e(r))}return t}function uk(e){const t=[];for(let n=1;n<=7;n++){const r=ot.utc(2016,11,13+n);t.push(e(r))}return t}function vg(e,t,n,r,a){const i=e.listingMode(n);return i==="error"?null:i==="en"?r(t):a(t)}function ck(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class fk{constructor(t,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:a,floor:i,...s}=r;if(!n||Object.keys(s).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=rk(t,c)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):W1(t,3);return Bn(n,this.padTo)}}}class dk{constructor(t,n,r){this.opts=r;let a;if(t.zone.isUniversal){const s=-1*(t.offset/60),c=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;t.offset!==0&&ss.create(c).valid?(a=c,this.dt=t):(a="UTC",r.timeZoneName?this.dt=t:this.dt=t.offset===0?t:ot.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,a=t.zone.name);const i={...this.opts};i.timeZone=i.timeZone||a,this.dtf=l1(n,i)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class pk{constructor(t,n,r){this.opts={style:"long",...r},!n&&LE()&&(this.rtf=ak(t,r))}format(t,n){return this.rtf?this.rtf.format(t,n):Nk(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}class un{static fromOpts(t){return un.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,n,r,a=!1){const i=t||jn.defaultLocale,s=i||(a?"en-US":ok()),c=n||jn.defaultNumberingSystem,d=r||jn.defaultOutputCalendar;return new un(s,c,d,i)}static resetCache(){_p=null,s1={},u1={},c1={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:r}={}){return un.create(t,n,r)}constructor(t,n,r,a){const[i,s,c]=ik(t);this.locale=i,this.numberingSystem=n||s||null,this.outputCalendar=r||c||null,this.intl=sk(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ck(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&n?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:un.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,n=!1,r=!0){return vg(this,t,r,BE,()=>{const a=n?{month:t,day:"numeric"}:{month:t},i=n?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=lk(s=>this.extract(s,a,"month"))),this.monthsCache[i][t]})}weekdays(t,n=!1,r=!0){return vg(this,t,r,UE,()=>{const a=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=n?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=uk(s=>this.extract(s,a,"weekday"))),this.weekdaysCache[i][t]})}meridiems(t=!0){return vg(this,void 0,t,()=>VE,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ot.utc(2016,11,13,9),ot.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(t,n=!0){return vg(this,t,n,zE,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[ot.utc(-40,1,1),ot.utc(2017,1,1)].map(a=>this.extract(a,r,"era"))),this.eraCache[t]})}extract(t,n,r){const a=this.dtFormatter(t,n),i=a.formatToParts(),s=i.find(c=>c.type.toLowerCase()===r);return s?s.value:null}numberFormatter(t={}){return new fk(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new dk(t,this.intl,n)}relFormatter(t={}){return new pk(this.intl,this.isEnglish(),t)}listFormatter(t={}){return nk(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let d0=null;class Wr extends vh{static get utcInstance(){return d0===null&&(d0=new Wr(0)),d0}static instance(t){return t===0?Wr.utcInstance:new Wr(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Wr(Cv(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Hp(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Hp(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return Hp(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class hk extends vh{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function pl(e,t){if(_t(e)||e===null)return t;if(e instanceof vh)return e;if(mk(e)){const n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?Ev.instance:n==="utc"||n==="gmt"?Wr.utcInstance:Wr.parseSpecifier(n)||ss.create(e)}else return Su(e)?Wr.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new hk(e)}let Lb=()=>Date.now(),_b="system",Pb=null,jb=null,Bb=null,Yb=60,Hb;class jn{static get now(){return Lb}static set now(t){Lb=t}static set defaultZone(t){_b=t}static get defaultZone(){return pl(_b,Ev.instance)}static get defaultLocale(){return Pb}static set defaultLocale(t){Pb=t}static get defaultNumberingSystem(){return jb}static set defaultNumberingSystem(t){jb=t}static get defaultOutputCalendar(){return Bb}static set defaultOutputCalendar(t){Bb=t}static get twoDigitCutoffYear(){return Yb}static set twoDigitCutoffYear(t){Yb=t%100}static get throwOnInvalid(){return Hb}static set throwOnInvalid(t){Hb=t}static resetCaches(){un.resetCache(),ss.resetCache()}}function _t(e){return typeof e>"u"}function Su(e){return typeof e=="number"}function Tv(e){return typeof e=="number"&&e%1===0}function mk(e){return typeof e=="string"}function gk(e){return Object.prototype.toString.call(e)==="[object Date]"}function LE(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function vk(e){return Array.isArray(e)?e:[e]}function Ub(e,t,n){if(e.length!==0)return e.reduce((r,a)=>{const i=[t(a),a];return r&&n(r[0],i[0])===r[0]?r:i},null)[1]}function yk(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function Sf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function is(e,t,n){return Tv(e)&&e>=t&&e<=n}function wk(e,t){return e-t*Math.floor(e/t)}function Bn(e,t=2){const n=e<0;let r;return n?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function ul(e){if(!(_t(e)||e===null||e===""))return parseInt(e,10)}function mu(e){if(!(_t(e)||e===null||e===""))return parseFloat(e)}function q1(e){if(!(_t(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function W1(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function yh(e){return e%4===0&&(e%100!==0||e%400===0)}function Yp(e){return yh(e)?366:365}function Jg(e,t){const n=wk(t-1,12)+1,r=e+(t-n)/12;return n===2?yh(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function G1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function Xg(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return t===4||r===3?53:52}function f1(e){return e>99?e:e>jn.twoDigitCutoffYear?1900+e:2e3+e}function _E(e,t,n,r=null){const a=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const s={timeZoneName:t,...i},c=new Intl.DateTimeFormat(n,s).formatToParts(a).find(d=>d.type.toLowerCase()==="timezonename");return c?c.value:null}function Cv(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0,a=n<0||Object.is(n,-0)?-r:r;return n*60+a}function PE(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new to(`Invalid unit value ${e}`);return t}function ev(e,t){const n={};for(const r in e)if(Sf(e,r)){const a=e[r];if(a==null)continue;n[t(r)]=PE(a)}return n}function Hp(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),a=e>=0?"+":"-";switch(t){case"short":return`${a}${Bn(n,2)}:${Bn(r,2)}`;case"narrow":return`${a}${n}${r>0?`:${r}`:""}`;case"techie":return`${a}${Bn(n,2)}${Bn(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function xv(e){return yk(e,["hour","minute","second","millisecond"])}const bk=["January","February","March","April","May","June","July","August","September","October","November","December"],jE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Dk=["J","F","M","A","M","J","J","A","S","O","N","D"];function BE(e){switch(e){case"narrow":return[...Dk];case"short":return[...jE];case"long":return[...bk];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const YE=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],HE=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Sk=["M","T","W","T","F","S","S"];function UE(e){switch(e){case"narrow":return[...Sk];case"short":return[...HE];case"long":return[...YE];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const VE=["AM","PM"],Ek=["Before Christ","Anno Domini"],Tk=["BC","AD"],Ck=["B","A"];function zE(e){switch(e){case"narrow":return[...Ck];case"short":return[...Tk];case"long":return[...Ek];default:return null}}function xk(e){return VE[e.hour<12?0:1]}function Mk(e,t){return UE(t)[e.weekday-1]}function kk(e,t){return BE(t)[e.month-1]}function Fk(e,t){return zE(t)[e.year<0?0:1]}function Nk(e,t,n="always",r=!1){const a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&i){const m=e==="days";switch(t){case 1:return m?"tomorrow":`next ${a[e][0]}`;case-1:return m?"yesterday":`last ${a[e][0]}`;case 0:return m?"today":`this ${a[e][0]}`}}const s=Object.is(t,-0)||t<0,c=Math.abs(t),d=c===1,h=a[e],g=r?d?h[1]:h[2]||h[1]:d?a[e][0]:e;return s?`${c} ${g} ago`:`in ${c} ${g}`}function Vb(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const Ik={D:Zg,DD:gE,DDD:vE,DDDD:yE,t:wE,tt:bE,ttt:DE,tttt:SE,T:EE,TT:TE,TTT:CE,TTTT:xE,f:ME,ff:FE,fff:IE,ffff:OE,F:kE,FF:NE,FFF:AE,FFFF:RE};class Rr{static create(t,n={}){return new Rr(t,n)}static parseFormat(t){let n=null,r="",a=!1;const i=[];for(let s=0;s<t.length;s++){const c=t.charAt(s);c==="'"?(r.length>0&&i.push({literal:a,val:r}),n=null,r="",a=!a):a||c===n?r+=c:(r.length>0&&i.push({literal:!1,val:r}),r=c,n=c)}return r.length>0&&i.push({literal:a,val:r}),i}static macroTokenToFormatOpts(t){return Ik[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTime(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTimeParts(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).formatToParts()}formatInterval(t,n={}){return this.loc.dtFormatter(t.start,{...this.opts,...n}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return Bn(t,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,n){const r=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(b,T)=>this.loc.extract(t,b,T),s=b=>t.isOffsetFixed&&t.offset===0&&b.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,b.format):"",c=()=>r?xk(t):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(b,T)=>r?kk(t,b):i(T?{month:b}:{month:b,day:"numeric"},"month"),h=(b,T)=>r?Mk(t,b):i(T?{weekday:b}:{weekday:b,month:"long",day:"numeric"},"weekday"),g=b=>{const T=Rr.macroTokenToFormatOpts(b);return T?this.formatWithSystemDefault(t,T):b},m=b=>r?Fk(t,b):i({era:b},"era"),w=b=>{switch(b){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return c();case"d":return a?i({day:"numeric"},"day"):this.num(t.day);case"dd":return a?i({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return a?i({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return a?i({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return a?i({month:"numeric"},"month"):this.num(t.month);case"MM":return a?i({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return a?i({year:"numeric"},"year"):this.num(t.year);case"yy":return a?i({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return a?i({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return a?i({year:"numeric"},"year"):this.num(t.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return g(b)}};return Vb(Rr.parseFormat(n),w)}formatDurationFromString(t,n){const r=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=d=>h=>{const g=r(h);return g?this.num(d.get(g),h.length):h},i=Rr.parseFormat(n),s=i.reduce((d,{literal:h,val:g})=>h?d:d.concat(g),[]),c=t.shiftTo(...s.map(r).filter(d=>d));return Vb(i,a(c))}}class Fo{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const $E=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Pf(...e){const t=e.reduce((n,r)=>n+r.source,"");return RegExp(`^${t}$`)}function jf(...e){return t=>e.reduce(([n,r,a],i)=>{const[s,c,d]=i(t,a);return[{...n,...s},c||r,d]},[{},null,1]).slice(0,2)}function Bf(e,...t){if(e==null)return[null,null];for(const[n,r]of t){const a=n.exec(e);if(a)return r(a)}return[null,null]}function qE(...e){return(t,n)=>{const r={};let a;for(a=0;a<e.length;a++)r[e[a]]=ul(t[n+a]);return[r,null,n+a]}}const WE=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ak=`(?:${WE.source}?(?:\\[(${$E.source})\\])?)?`,K1=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,GE=RegExp(`${K1.source}${Ak}`),Q1=RegExp(`(?:T${GE.source})?`),Ok=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Rk=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Lk=/(\d{4})-?(\d{3})/,_k=qE("weekYear","weekNumber","weekDay"),Pk=qE("year","ordinal"),jk=/(\d{4})-(\d\d)-(\d\d)/,KE=RegExp(`${K1.source} ?(?:${WE.source}|(${$E.source}))?`),Bk=RegExp(`(?: ${KE.source})?`);function wf(e,t,n){const r=e[t];return _t(r)?n:ul(r)}function Yk(e,t){return[{year:wf(e,t),month:wf(e,t+1,1),day:wf(e,t+2,1)},null,t+3]}function Yf(e,t){return[{hours:wf(e,t,0),minutes:wf(e,t+1,0),seconds:wf(e,t+2,0),milliseconds:q1(e[t+3])},null,t+4]}function wh(e,t){const n=!e[t]&&!e[t+1],r=Cv(e[t+1],e[t+2]),a=n?null:Wr.instance(r);return[{},a,t+3]}function bh(e,t){const n=e[t]?ss.create(e[t]):null;return[{},n,t+1]}const Hk=RegExp(`^T?${K1.source}$`),Uk=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Vk(e){const[t,n,r,a,i,s,c,d,h]=e,g=t[0]==="-",m=d&&d[0]==="-",w=(b,T=!1)=>b!==void 0&&(T||b&&g)?-b:b;return[{years:w(mu(n)),months:w(mu(r)),weeks:w(mu(a)),days:w(mu(i)),hours:w(mu(s)),minutes:w(mu(c)),seconds:w(mu(d),d==="-0"),milliseconds:w(q1(h),m)}]}const zk={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Z1(e,t,n,r,a,i,s){const c={year:t.length===2?f1(ul(t)):ul(t),month:jE.indexOf(n)+1,day:ul(r),hour:ul(a),minute:ul(i)};return s&&(c.second=ul(s)),e&&(c.weekday=e.length>3?YE.indexOf(e)+1:HE.indexOf(e)+1),c}const $k=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function qk(e){const[,t,n,r,a,i,s,c,d,h,g,m]=e,w=Z1(t,a,r,n,i,s,c);let b;return d?b=zk[d]:h?b=0:b=Cv(g,m),[w,new Wr(b)]}function Wk(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Gk=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Kk=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Qk=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function zb(e){const[,t,n,r,a,i,s,c]=e;return[Z1(t,a,r,n,i,s,c),Wr.utcInstance]}function Zk(e){const[,t,n,r,a,i,s,c]=e;return[Z1(t,c,n,r,a,i,s),Wr.utcInstance]}const Jk=Pf(Ok,Q1),Xk=Pf(Rk,Q1),e5=Pf(Lk,Q1),t5=Pf(GE),QE=jf(Yk,Yf,wh,bh),n5=jf(_k,Yf,wh,bh),r5=jf(Pk,Yf,wh,bh),a5=jf(Yf,wh,bh);function o5(e){return Bf(e,[Jk,QE],[Xk,n5],[e5,r5],[t5,a5])}function i5(e){return Bf(Wk(e),[$k,qk])}function s5(e){return Bf(e,[Gk,zb],[Kk,zb],[Qk,Zk])}function l5(e){return Bf(e,[Uk,Vk])}const u5=jf(Yf);function c5(e){return Bf(e,[Hk,u5])}const f5=Pf(jk,Bk),d5=Pf(KE),p5=jf(Yf,wh,bh);function h5(e){return Bf(e,[f5,QE],[d5,p5])}const m5="Invalid Duration",ZE={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},g5={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...ZE},eo=146097/400,ff=146097/4800,v5={years:{quarters:4,months:12,weeks:eo/7,days:eo,hours:eo*24,minutes:eo*24*60,seconds:eo*24*60*60,milliseconds:eo*24*60*60*1e3},quarters:{months:3,weeks:eo/28,days:eo/4,hours:eo*24/4,minutes:eo*24*60/4,seconds:eo*24*60*60/4,milliseconds:eo*24*60*60*1e3/4},months:{weeks:ff/7,days:ff,hours:ff*24,minutes:ff*24*60,seconds:ff*24*60*60,milliseconds:ff*24*60*60*1e3},...ZE},gu=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],y5=gu.slice(0).reverse();function rl(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Ze(r)}function w5(e){return e<0?Math.floor(e):Math.ceil(e)}function JE(e,t,n,r,a){const i=e[a][n],s=t[n]/i,c=Math.sign(s)===Math.sign(r[a]),d=!c&&r[a]!==0&&Math.abs(s)<=1?w5(s):Math.trunc(s);r[a]+=d,t[n]-=d*i}function b5(e,t){y5.reduce((n,r)=>_t(t[r])?n:(n&&JE(e,t,n,t,r),r),null)}function D5(e){const t={};for(const[n,r]of Object.entries(e))r!==0&&(t[n]=r);return t}class Ze{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;let r=n?v5:g5;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||un.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,n){return Ze.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(t==null||typeof t!="object")throw new to(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Ze({values:ev(t,Ze.normalizeUnit),loc:un.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(Su(t))return Ze.fromMillis(t);if(Ze.isDuration(t))return t;if(typeof t=="object")return Ze.fromObject(t);throw new to(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){const[r]=l5(t);return r?Ze.fromObject(r,n):Ze.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[r]=c5(t);return r?Ze.fromObject(r,n):Ze.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new to("need to specify a reason the Duration is invalid");const r=t instanceof Fo?t:new Fo(t,n);if(jn.throwOnInvalid)throw new KM(r);return new Ze({invalid:r})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new mE(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Rr.create(this.loc,r).formatDurationFromString(this,t):m5}toHuman(t={}){const n=gu.map(r=>{const a=this.values[r];return _t(a)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(a)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=W1(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let a=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(a+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||r.milliseconds!==0)&&(a+=".SSS"));let i=r.toFormat(a);return t.includePrefix&&(i="T"+i),i}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=Ze.fromDurationLike(t),r={};for(const a of gu)(Sf(n.values,a)||Sf(this.values,a))&&(r[a]=n.get(a)+this.get(a));return rl(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const n=Ze.fromDurationLike(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=PE(t(this.values[r],r));return rl(this,{values:n},!0)}get(t){return this[Ze.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n={...this.values,...ev(t,Ze.normalizeUnit)};return rl(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:r,matrix:a}={}){const s={loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:a,conversionAccuracy:r};return rl(this,s)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return b5(this.matrix,t),rl(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=D5(this.normalize().shiftToAll().toObject());return rl(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(s=>Ze.normalizeUnit(s));const n={},r={},a=this.toObject();let i;for(const s of gu)if(t.indexOf(s)>=0){i=s;let c=0;for(const h in r)c+=this.matrix[h][s]*r[h],r[h]=0;Su(a[s])&&(c+=a[s]);const d=Math.trunc(c);n[s]=d,r[s]=(c*1e3-d*1e3)/1e3;for(const h in a)gu.indexOf(h)>gu.indexOf(s)&&JE(this.matrix,a,h,n,s)}else Su(a[s])&&(r[s]=a[s]);for(const s in r)r[s]!==0&&(n[i]+=s===i?r[s]:r[s]/this.matrix[i][s]);return rl(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=this.values[n]===0?0:-this.values[n];return rl(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(r,a){return r===void 0||r===0?a===void 0||a===0:r===a}for(const r of gu)if(!n(this.values[r],t.values[r]))return!1;return!0}}const df="Invalid Interval";function S5(e,t){return!e||!e.isValid?Tn.invalid("missing or invalid start"):!t||!t.isValid?Tn.invalid("missing or invalid end"):t<e?Tn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Tn{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new to("need to specify a reason the Interval is invalid");const r=t instanceof Fo?t:new Fo(t,n);if(jn.throwOnInvalid)throw new GM(r);return new Tn({invalid:r})}static fromDateTimes(t,n){const r=xp(t),a=xp(n),i=S5(r,a);return i??new Tn({start:r,end:a})}static after(t,n){const r=Ze.fromDurationLike(n),a=xp(t);return Tn.fromDateTimes(a,a.plus(r))}static before(t,n){const r=Ze.fromDurationLike(n),a=xp(t);return Tn.fromDateTimes(a.minus(r),a)}static fromISO(t,n){const[r,a]=(t||"").split("/",2);if(r&&a){let i,s;try{i=ot.fromISO(r,n),s=i.isValid}catch{s=!1}let c,d;try{c=ot.fromISO(a,n),d=c.isValid}catch{d=!1}if(s&&d)return Tn.fromDateTimes(i,c);if(s){const h=Ze.fromISO(a,n);if(h.isValid)return Tn.after(i,h)}else if(d){const h=Ze.fromISO(r,n);if(h.isValid)return Tn.before(c,h)}}return Tn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(t),r=this.end.startOf(t);return Math.floor(r.diff(n,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?Tn.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(xp).filter(s=>this.contains(s)).sort(),r=[];let{s:a}=this,i=0;for(;a<this.e;){const s=n[i]||this.e,c=+s>+this.e?this.e:s;r.push(Tn.fromDateTimes(a,c)),a=c,i+=1}return r}splitBy(t){const n=Ze.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,a=1,i;const s=[];for(;r<this.e;){const c=this.start.plus(n.mapUnits(d=>d*a));i=+c>+this.e?this.e:c,s.push(Tn.fromDateTimes(r,i)),r=i,a+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:Tn.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return Tn.fromDateTimes(n,r)}static merge(t){const[n,r]=t.sort((a,i)=>a.s-i.s).reduce(([a,i],s)=>i?i.overlaps(s)||i.abutsStart(s)?[a,i.union(s)]:[a.concat([i]),s]:[a,s],[[],null]);return r&&n.push(r),n}static xor(t){let n=null,r=0;const a=[],i=t.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),s=Array.prototype.concat(...i),c=s.sort((d,h)=>d.time-h.time);for(const d of c)r+=d.type==="s"?1:-1,r===1?n=d.time:(n&&+n!=+d.time&&a.push(Tn.fromDateTimes(n,d.time)),n=null);return Tn.merge(a)}difference(...t){return Tn.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:df}toLocaleString(t=Zg,n={}){return this.isValid?Rr.create(this.s.loc.clone(n),t).formatInterval(this):df}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:df}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:df}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:df}toFormat(t,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:df}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):Ze.invalid(this.invalidReason)}mapEndpoints(t){return Tn.fromDateTimes(t(this.s),t(this.e))}}class yg{static hasDST(t=jn.defaultZone){const n=ot.now().setZone(t).set({month:12});return!t.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return ss.isValidZone(t)}static normalizeZone(t){return pl(t,jn.defaultZone)}static months(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null,outputCalendar:i="gregory"}={}){return(a||un.create(n,r,i)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null,outputCalendar:i="gregory"}={}){return(a||un.create(n,r,i)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null}={}){return(a||un.create(n,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null}={}){return(a||un.create(n,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return un.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return un.create(n,null,"gregory").eras(t)}static features(){return{relative:LE()}}}function $b(e,t){const n=a=>a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(Ze.fromMillis(r).as("days"))}function E5(e,t,n){const r=[["years",(d,h)=>h.year-d.year],["quarters",(d,h)=>h.quarter-d.quarter+(h.year-d.year)*4],["months",(d,h)=>h.month-d.month+(h.year-d.year)*12],["weeks",(d,h)=>{const g=$b(d,h);return(g-g%7)/7}],["days",$b]],a={},i=e;let s,c;for(const[d,h]of r)n.indexOf(d)>=0&&(s=d,a[d]=h(e,t),c=i.plus(a),c>t?(a[d]--,e=i.plus(a)):e=c);return[e,a,c,s]}function T5(e,t,n,r){let[a,i,s,c]=E5(e,t,n);const d=t-a,h=n.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);h.length===0&&(s<t&&(s=a.plus({[c]:1})),s!==a&&(i[c]=(i[c]||0)+d/(s-a)));const g=Ze.fromObject(i,r);return h.length>0?Ze.fromMillis(d,r).shiftTo(...h).plus(g):g}const J1={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},qb={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},C5=J1.hanidec.replace(/[\[|\]]/g,"").split("");function x5(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(e[n].search(J1.hanidec)!==-1)t+=C5.indexOf(e[n]);else for(const a in qb){const[i,s]=qb[a];r>=i&&r<=s&&(t+=r-i)}}return parseInt(t,10)}else return t}function Co({numberingSystem:e},t=""){return new RegExp(`${J1[e||"latn"]}${t}`)}const M5="missing Intl.DateTimeFormat.formatToParts support";function Ut(e,t=n=>n){return{regex:e,deser:([n])=>t(x5(n))}}const k5=" ",XE=`[ ${k5}]`,e3=new RegExp(XE,"g");function F5(e){return e.replace(/\./g,"\\.?").replace(e3,XE)}function Wb(e){return e.replace(/\./g,"").replace(e3," ").toLowerCase()}function xo(e,t){return e===null?null:{regex:RegExp(e.map(F5).join("|")),deser:([n])=>e.findIndex(r=>Wb(n)===Wb(r))+t}}function Gb(e,t){return{regex:e,deser:([,n,r])=>Cv(n,r),groups:t}}function p0(e){return{regex:e,deser:([t])=>t}}function N5(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function I5(e,t){const n=Co(t),r=Co(t,"{2}"),a=Co(t,"{3}"),i=Co(t,"{4}"),s=Co(t,"{6}"),c=Co(t,"{1,2}"),d=Co(t,"{1,3}"),h=Co(t,"{1,6}"),g=Co(t,"{1,9}"),m=Co(t,"{2,4}"),w=Co(t,"{4,6}"),b=M=>({regex:RegExp(N5(M.val)),deser:([k])=>k,literal:!0}),E=(M=>{if(e.literal)return b(M);switch(M.val){case"G":return xo(t.eras("short",!1),0);case"GG":return xo(t.eras("long",!1),0);case"y":return Ut(h);case"yy":return Ut(m,f1);case"yyyy":return Ut(i);case"yyyyy":return Ut(w);case"yyyyyy":return Ut(s);case"M":return Ut(c);case"MM":return Ut(r);case"MMM":return xo(t.months("short",!0,!1),1);case"MMMM":return xo(t.months("long",!0,!1),1);case"L":return Ut(c);case"LL":return Ut(r);case"LLL":return xo(t.months("short",!1,!1),1);case"LLLL":return xo(t.months("long",!1,!1),1);case"d":return Ut(c);case"dd":return Ut(r);case"o":return Ut(d);case"ooo":return Ut(a);case"HH":return Ut(r);case"H":return Ut(c);case"hh":return Ut(r);case"h":return Ut(c);case"mm":return Ut(r);case"m":return Ut(c);case"q":return Ut(c);case"qq":return Ut(r);case"s":return Ut(c);case"ss":return Ut(r);case"S":return Ut(d);case"SSS":return Ut(a);case"u":return p0(g);case"uu":return p0(c);case"uuu":return Ut(n);case"a":return xo(t.meridiems(),0);case"kkkk":return Ut(i);case"kk":return Ut(m,f1);case"W":return Ut(c);case"WW":return Ut(r);case"E":case"c":return Ut(n);case"EEE":return xo(t.weekdays("short",!1,!1),1);case"EEEE":return xo(t.weekdays("long",!1,!1),1);case"ccc":return xo(t.weekdays("short",!0,!1),1);case"cccc":return xo(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Gb(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return Gb(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return p0(/[a-z_+-/]{1,256}?/i);default:return b(M)}})(e)||{invalidReason:M5};return E.token=e,E}const A5={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function O5(e,t){const{type:n,value:r}=e;if(n==="literal")return{literal:!0,val:r};const a=t[n];let i=A5[n];if(typeof i=="object"&&(i=i[a]),i)return{literal:!1,val:i}}function R5(e){return[`^${e.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,e]}function L5(e,t,n){const r=e.match(t);if(r){const a={};let i=1;for(const s in n)if(Sf(n,s)){const c=n[s],d=c.groups?c.groups+1:1;!c.literal&&c.token&&(a[c.token.val[0]]=c.deser(r.slice(i,i+d))),i+=d}return[r,a]}else return[r,{}]}function _5(e){const t=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return _t(e.z)||(n=ss.create(e.z)),_t(e.Z)||(n||(n=new Wr(e.Z)),r=e.Z),_t(e.q)||(e.M=(e.q-1)*3+1),_t(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),_t(e.u)||(e.S=q1(e.u)),[Object.keys(e).reduce((i,s)=>{const c=t(s);return c&&(i[c]=e[s]),i},{}),n,r]}let h0=null;function P5(){return h0||(h0=ot.fromMillis(1555555555555)),h0}function j5(e,t){if(e.literal)return e;const n=Rr.macroTokenToFormatOpts(e.val),r=r3(n,t);return r==null||r.includes(void 0)?e:r}function t3(e,t){return Array.prototype.concat(...e.map(n=>j5(n,t)))}function n3(e,t,n){const r=t3(Rr.parseFormat(n),e),a=r.map(s=>I5(s,e)),i=a.find(s=>s.invalidReason);if(i)return{input:t,tokens:r,invalidReason:i.invalidReason};{const[s,c]=R5(a),d=RegExp(s,"i"),[h,g]=L5(t,d,c),[m,w,b]=g?_5(g):[null,null,void 0];if(Sf(g,"a")&&Sf(g,"H"))throw new Lp("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:d,rawMatches:h,matches:g,result:m,zone:w,specificOffset:b}}}function B5(e,t,n){const{result:r,zone:a,specificOffset:i,invalidReason:s}=n3(e,t,n);return[r,a,i,s]}function r3(e,t){return e?Rr.create(t,e).formatDateTimeParts(P5()).map(a=>O5(a,e)):null}const a3=[0,31,59,90,120,151,181,212,243,273,304,334],o3=[0,31,60,91,121,152,182,213,244,274,305,335];function no(e,t){return new Fo("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function i3(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const a=r.getUTCDay();return a===0?7:a}function s3(e,t,n){return n+(yh(e)?o3:a3)[t-1]}function l3(e,t){const n=yh(e)?o3:a3,r=n.findIndex(i=>i<t),a=t-n[r];return{month:r+1,day:a}}function d1(e){const{year:t,month:n,day:r}=e,a=s3(t,n,r),i=i3(t,n,r);let s=Math.floor((a-i+10)/7),c;return s<1?(c=t-1,s=Xg(c)):s>Xg(t)?(c=t+1,s=1):c=t,{weekYear:c,weekNumber:s,weekday:i,...xv(e)}}function Kb(e){const{weekYear:t,weekNumber:n,weekday:r}=e,a=i3(t,1,4),i=Yp(t);let s=n*7+r-a-3,c;s<1?(c=t-1,s+=Yp(c)):s>i?(c=t+1,s-=Yp(t)):c=t;const{month:d,day:h}=l3(c,s);return{year:c,month:d,day:h,...xv(e)}}function m0(e){const{year:t,month:n,day:r}=e,a=s3(t,n,r);return{year:t,ordinal:a,...xv(e)}}function Qb(e){const{year:t,ordinal:n}=e,{month:r,day:a}=l3(t,n);return{year:t,month:r,day:a,...xv(e)}}function Y5(e){const t=Tv(e.weekYear),n=is(e.weekNumber,1,Xg(e.weekYear)),r=is(e.weekday,1,7);return t?n?r?!1:no("weekday",e.weekday):no("week",e.week):no("weekYear",e.weekYear)}function H5(e){const t=Tv(e.year),n=is(e.ordinal,1,Yp(e.year));return t?n?!1:no("ordinal",e.ordinal):no("year",e.year)}function u3(e){const t=Tv(e.year),n=is(e.month,1,12),r=is(e.day,1,Jg(e.year,e.month));return t?n?r?!1:no("day",e.day):no("month",e.month):no("year",e.year)}function c3(e){const{hour:t,minute:n,second:r,millisecond:a}=e,i=is(t,0,23)||t===24&&n===0&&r===0&&a===0,s=is(n,0,59),c=is(r,0,59),d=is(a,0,999);return i?s?c?d?!1:no("millisecond",a):no("second",r):no("minute",n):no("hour",t)}const g0="Invalid DateTime",Zb=864e13;function wg(e){return new Fo("unsupported zone",`the zone "${e.name}" is not supported`)}function v0(e){return e.weekData===null&&(e.weekData=d1(e.c)),e.weekData}function Tp(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new ot({...n,...t,old:n})}function f3(e,t,n){let r=e-t*60*1e3;const a=n.offset(r);if(t===a)return[r,t];r-=(a-t)*60*1e3;const i=n.offset(r);return a===i?[r,a]:[e-Math.min(a,i)*60*1e3,Math.max(a,i)]}function Jb(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Bg(e,t,n){return f3(G1(e),t,n)}function Xb(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),a=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,i={...e.c,year:r,month:a,day:Math.min(e.c.day,Jg(r,a))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},s=Ze.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),c=G1(i);let[d,h]=f3(c,n,e.zone);return s!==0&&(d+=s,h=e.zone.offset(d)),{ts:d,o:h}}function Cp(e,t,n,r,a,i){const{setZone:s,zone:c}=n;if(e&&Object.keys(e).length!==0){const d=t||c,h=ot.fromObject(e,{...n,zone:d,specificOffset:i});return s?h:h.setZone(c)}else return ot.invalid(new Fo("unparsable",`the input "${a}" can't be parsed as ${r}`))}function bg(e,t,n=!0){return e.isValid?Rr.create(un.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function y0(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=Bn(e.c.year,n?6:4),t?(r+="-",r+=Bn(e.c.month),r+="-",r+=Bn(e.c.day)):(r+=Bn(e.c.month),r+=Bn(e.c.day)),r}function eD(e,t,n,r,a,i){let s=Bn(e.c.hour);return t?(s+=":",s+=Bn(e.c.minute),(e.c.second!==0||!n)&&(s+=":")):s+=Bn(e.c.minute),(e.c.second!==0||!n)&&(s+=Bn(e.c.second),(e.c.millisecond!==0||!r)&&(s+=".",s+=Bn(e.c.millisecond,3))),a&&(e.isOffsetFixed&&e.offset===0&&!i?s+="Z":e.o<0?(s+="-",s+=Bn(Math.trunc(-e.o/60)),s+=":",s+=Bn(Math.trunc(-e.o%60))):(s+="+",s+=Bn(Math.trunc(e.o/60)),s+=":",s+=Bn(Math.trunc(e.o%60)))),i&&(s+="["+e.zone.ianaName+"]"),s}const d3={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},U5={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},V5={ordinal:1,hour:0,minute:0,second:0,millisecond:0},p3=["year","month","day","hour","minute","second","millisecond"],z5=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],$5=["year","ordinal","hour","minute","second","millisecond"];function tD(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new mE(e);return t}function nD(e,t){const n=pl(t.zone,jn.defaultZone),r=un.fromObject(t),a=jn.now();let i,s;if(_t(e.year))i=a;else{for(const h of p3)_t(e[h])&&(e[h]=d3[h]);const c=u3(e)||c3(e);if(c)return ot.invalid(c);const d=n.offset(a);[i,s]=Bg(e,d,n)}return new ot({ts:i,zone:n,loc:r,o:s})}function rD(e,t,n){const r=_t(n.round)?!0:n.round,a=(s,c)=>(s=W1(s,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(s,c)),i=s=>n.calendary?t.hasSame(e,s)?0:t.startOf(s).diff(e.startOf(s),s).get(s):t.diff(e,s).get(s);if(n.unit)return a(i(n.unit),n.unit);for(const s of n.units){const c=i(s);if(Math.abs(c)>=1)return a(c,s)}return a(e>t?-0:0,n.units[n.units.length-1])}function aD(e){let t={},n;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}class ot{constructor(t){const n=t.zone||jn.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new Fo("invalid input"):null)||(n.isValid?null:wg(n));this.ts=_t(t.ts)?jn.now():t.ts;let a=null,i=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[a,i]=[t.old.c,t.old.o];else{const c=n.offset(this.ts);a=Jb(this.ts,c),r=Number.isNaN(a.year)?new Fo("invalid input"):null,a=r?null:a,i=r?null:c}this._zone=n,this.loc=t.loc||un.create(),this.invalid=r,this.weekData=null,this.c=a,this.o=i,this.isLuxonDateTime=!0}static now(){return new ot({})}static local(){const[t,n]=aD(arguments),[r,a,i,s,c,d,h]=n;return nD({year:r,month:a,day:i,hour:s,minute:c,second:d,millisecond:h},t)}static utc(){const[t,n]=aD(arguments),[r,a,i,s,c,d,h]=n;return t.zone=Wr.utcInstance,nD({year:r,month:a,day:i,hour:s,minute:c,second:d,millisecond:h},t)}static fromJSDate(t,n={}){const r=gk(t)?t.valueOf():NaN;if(Number.isNaN(r))return ot.invalid("invalid input");const a=pl(n.zone,jn.defaultZone);return a.isValid?new ot({ts:r,zone:a,loc:un.fromObject(n)}):ot.invalid(wg(a))}static fromMillis(t,n={}){if(Su(t))return t<-Zb||t>Zb?ot.invalid("Timestamp out of range"):new ot({ts:t,zone:pl(n.zone,jn.defaultZone),loc:un.fromObject(n)});throw new to(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(Su(t))return new ot({ts:t*1e3,zone:pl(n.zone,jn.defaultZone),loc:un.fromObject(n)});throw new to("fromSeconds requires a numerical input")}static fromObject(t,n={}){t=t||{};const r=pl(n.zone,jn.defaultZone);if(!r.isValid)return ot.invalid(wg(r));const a=jn.now(),i=_t(n.specificOffset)?r.offset(a):n.specificOffset,s=ev(t,tD),c=!_t(s.ordinal),d=!_t(s.year),h=!_t(s.month)||!_t(s.day),g=d||h,m=s.weekYear||s.weekNumber,w=un.fromObject(n);if((g||c)&&m)throw new Lp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&c)throw new Lp("Can't mix ordinal dates with month/day");const b=m||s.weekday&&!g;let T,E,M=Jb(a,i);b?(T=z5,E=U5,M=d1(M)):c?(T=$5,E=V5,M=m0(M)):(T=p3,E=d3);let k=!1;for(const $ of T){const q=s[$];_t(q)?k?s[$]=E[$]:s[$]=M[$]:k=!0}const I=b?Y5(s):c?H5(s):u3(s),B=I||c3(s);if(B)return ot.invalid(B);const N=b?Kb(s):c?Qb(s):s,[j,R]=Bg(N,i,r),_=new ot({ts:j,zone:r,o:R,loc:w});return s.weekday&&g&&t.weekday!==_.weekday?ot.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${_.toISO()}`):_}static fromISO(t,n={}){const[r,a]=o5(t);return Cp(r,a,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[r,a]=i5(t);return Cp(r,a,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[r,a]=s5(t);return Cp(r,a,n,"HTTP",n)}static fromFormat(t,n,r={}){if(_t(t)||_t(n))throw new to("fromFormat requires an input string and a format");const{locale:a=null,numberingSystem:i=null}=r,s=un.fromOpts({locale:a,numberingSystem:i,defaultToEN:!0}),[c,d,h,g]=B5(s,t,n);return g?ot.invalid(g):Cp(c,d,r,`format ${n}`,t,h)}static fromString(t,n,r={}){return ot.fromFormat(t,n,r)}static fromSQL(t,n={}){const[r,a]=h5(t);return Cp(r,a,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new to("need to specify a reason the DateTime is invalid");const r=t instanceof Fo?t:new Fo(t,n);if(jn.throwOnInvalid)throw new WM(r);return new ot({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,n={}){const r=r3(t,un.fromObject(n));return r?r.map(a=>a?a.val:null).join(""):null}static expandFormat(t,n={}){return t3(Rr.parseFormat(t),un.fromObject(n)).map(a=>a.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?v0(this).weekYear:NaN}get weekNumber(){return this.isValid?v0(this).weekNumber:NaN}get weekday(){return this.isValid?v0(this).weekday:NaN}get ordinal(){return this.isValid?m0(this.c).ordinal:NaN}get monthShort(){return this.isValid?yg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?yg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?yg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?yg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return yh(this.year)}get daysInMonth(){return Jg(this.year,this.month)}get daysInYear(){return this.isValid?Yp(this.year):NaN}get weeksInWeekYear(){return this.isValid?Xg(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:n,numberingSystem:r,calendar:a}=Rr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:a}}toUTC(t=0,n={}){return this.setZone(Wr.instance(t),n)}toLocal(){return this.setZone(jn.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(t=pl(t,jn.defaultZone),t.equals(this.zone))return this;if(t.isValid){let a=this.ts;if(n||r){const i=t.offset(this.ts),s=this.toObject();[a]=Bg(s,i,t)}return Tp(this,{ts:a,zone:t})}else return ot.invalid(wg(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:r}={}){const a=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r});return Tp(this,{loc:a})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=ev(t,tD),r=!_t(n.weekYear)||!_t(n.weekNumber)||!_t(n.weekday),a=!_t(n.ordinal),i=!_t(n.year),s=!_t(n.month)||!_t(n.day),c=i||s,d=n.weekYear||n.weekNumber;if((c||a)&&d)throw new Lp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&a)throw new Lp("Can't mix ordinal dates with month/day");let h;r?h=Kb({...d1(this.c),...n}):_t(n.ordinal)?(h={...this.toObject(),...n},_t(n.day)&&(h.day=Math.min(Jg(h.year,h.month),h.day))):h=Qb({...m0(this.c),...n});const[g,m]=Bg(h,this.o,this.zone);return Tp(this,{ts:g,o:m})}plus(t){if(!this.isValid)return this;const n=Ze.fromDurationLike(t);return Tp(this,Xb(this,n))}minus(t){if(!this.isValid)return this;const n=Ze.fromDurationLike(t).negate();return Tp(this,Xb(this,n))}startOf(t){if(!this.isValid)return this;const n={},r=Ze.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const a=Math.ceil(this.month/3);n.month=(a-1)*3+1}return this.set(n)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,n={}){return this.isValid?Rr.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):g0}toLocaleString(t=Zg,n={}){return this.isValid?Rr.create(this.loc.clone(n),t).formatDateTime(this):g0}toLocaleParts(t={}){return this.isValid?Rr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:a=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const s=t==="extended";let c=y0(this,s);return c+="T",c+=eD(this,s,n,r,a,i),c}toISODate({format:t="extended"}={}){return this.isValid?y0(this,t==="extended"):null}toISOWeekDate(){return bg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:a=!1,extendedZone:i=!1,format:s="extended"}={}){return this.isValid?(a?"T":"")+eD(this,s==="extended",n,t,r,i):null}toRFC2822(){return bg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return bg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?y0(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let a="HH:mm:ss.SSS";return(n||t)&&(r&&(a+=" "),n?a+="z":t&&(a+="ZZ")),bg(this,a,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():g0}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n={...this.c};return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",r={}){if(!this.isValid||!t.isValid)return Ze.invalid("created by diffing an invalid DateTime");const a={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=vk(n).map(Ze.normalizeUnit),s=t.valueOf()>this.valueOf(),c=s?this:t,d=s?t:this,h=T5(c,d,i,a);return s?h.negate():h}diffNow(t="milliseconds",n={}){return this.diff(ot.now(),t,n)}until(t){return this.isValid?Tn.fromDateTimes(this,t):this}hasSame(t,n){if(!this.isValid)return!1;const r=t.valueOf(),a=this.setZone(t.zone,{keepLocalTime:!0});return a.startOf(n)<=r&&r<=a.endOf(n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||ot.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;let a=["years","months","days","hours","minutes","seconds"],i=t.unit;return Array.isArray(t.unit)&&(a=t.unit,i=void 0),rD(n,this.plus(r),{...t,numeric:"always",units:a,unit:i})}toRelativeCalendar(t={}){return this.isValid?rD(t.base||ot.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(ot.isDateTime))throw new to("min requires all arguments be DateTimes");return Ub(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(ot.isDateTime))throw new to("max requires all arguments be DateTimes");return Ub(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,r={}){const{locale:a=null,numberingSystem:i=null}=r,s=un.fromOpts({locale:a,numberingSystem:i,defaultToEN:!0});return n3(s,t,n)}static fromStringExplain(t,n,r={}){return ot.fromFormatExplain(t,n,r)}static get DATE_SHORT(){return Zg}static get DATE_MED(){return gE}static get DATE_MED_WITH_WEEKDAY(){return QM}static get DATE_FULL(){return vE}static get DATE_HUGE(){return yE}static get TIME_SIMPLE(){return wE}static get TIME_WITH_SECONDS(){return bE}static get TIME_WITH_SHORT_OFFSET(){return DE}static get TIME_WITH_LONG_OFFSET(){return SE}static get TIME_24_SIMPLE(){return EE}static get TIME_24_WITH_SECONDS(){return TE}static get TIME_24_WITH_SHORT_OFFSET(){return CE}static get TIME_24_WITH_LONG_OFFSET(){return xE}static get DATETIME_SHORT(){return ME}static get DATETIME_SHORT_WITH_SECONDS(){return kE}static get DATETIME_MED(){return FE}static get DATETIME_MED_WITH_SECONDS(){return NE}static get DATETIME_MED_WITH_WEEKDAY(){return ZM}static get DATETIME_FULL(){return IE}static get DATETIME_FULL_WITH_SECONDS(){return AE}static get DATETIME_HUGE(){return OE}static get DATETIME_HUGE_WITH_SECONDS(){return RE}}function xp(e){if(ot.isDateTime(e))return e;if(e&&e.valueOf&&Su(e.valueOf()))return ot.fromJSDate(e);if(e&&typeof e=="object")return ot.fromObject(e);throw new to(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const X1={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},q5={allowHtml:!0};({...X1,...q5});class ew{constructor(t){this.value=t,this.successful=!0}map(t){return new ew(t(this.value))}flatMap(t){return t(this.value)}mapErr(t){return this}bimap(t,n){return this.map(t)}orElse(t){return this.value}cast(){return this}orElseThrow(t){return this.value}}class tw{constructor(t){this.error=t,this.successful=!1}map(t){return this}flatMap(t){return this}mapErr(t){return new tw(t(this.error))}bimap(t,n){return this.mapErr(n)}orElse(t){return t}cast(){return this}orElseThrow(t){throw t?new Error(t(this.error)):new Error(""+this.error)}}var tv;(function(e){function t(i){return new ew(i)}e.success=t;function n(i){return new tw(i)}e.failure=n;function r(i,s,c){return i.successful?s.successful?c(i.value,s.value):n(s.error):n(i.error)}e.flatMap2=r;function a(i,s,c){return r(i,s,(d,h)=>t(c(d,h)))}e.map2=a})(tv||(tv={}));var W5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Vn<"u"?Vn:typeof self<"u"?self:{},Z={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:W5,function(){return function(n){var r={};function a(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(i,s,c){a.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:c})},a.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s=0)}([function(n,r,a){function i(U){if(!(this instanceof i))return new i(U);this._=U}var s=i.prototype;function c(U,ne){for(var pe=0;pe<U;pe++)ne(pe)}function d(U,ne,pe){return function(Ce,Le){c(Le.length,function(je){Ce(Le[je],je,Le)})}(function(Ce,Le,je){ne=U(ne,Ce,Le,je)},pe),ne}function h(U,ne){return d(function(pe,Ce,Le,je){return pe.concat([U(Ce,Le,je)])},[],ne)}function g(U,ne){var pe={v:0,buf:ne};return c(U,function(){var Ce;pe={v:pe.v<<1|(Ce=pe.buf,Ce[0]>>7),buf:function(Le){var je=d(function(He,mt,Yt,xn){return He.concat(Yt===xn.length-1?Buffer.from([mt,0]).readUInt16BE(0):xn.readUInt16BE(Yt))},[],Le);return Buffer.from(h(function(He){return(He<<1&65535)>>8},je))}(pe.buf)}}),pe}function m(){return typeof Buffer<"u"}function w(){if(!m())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function b(U){w();var ne=d(function(je,He){return je+He},0,U);if(ne%8!=0)throw new Error("The bits ["+U.join(", ")+"] add up to "+ne+" which is not an even number of bytes; the total should be divisible by 8");var pe,Ce=ne/8,Le=(pe=function(je){return je>48},d(function(je,He){return je||(pe(He)?He:je)},null,U));if(Le)throw new Error(Le+" bit range requested exceeds 48 bit (6 byte) Number max.");return new i(function(je,He){var mt=Ce+He;return mt>je.length?$(He,Ce.toString()+" bytes"):_(mt,d(function(Yt,xn){var mn=g(xn,Yt.buf);return{coll:Yt.coll.concat(mn.v),buf:mn.buf}},{coll:[],buf:je.slice(He,mt)},U).coll)})}function T(U,ne){return new i(function(pe,Ce){return w(),Ce+ne>pe.length?$(Ce,ne+" bytes for "+U):_(Ce+ne,pe.slice(Ce,Ce+ne))})}function E(U,ne){if(typeof(pe=ne)!="number"||Math.floor(pe)!==pe||ne<0||ne>6)throw new Error(U+" requires integer length in range [0, 6].");var pe}function M(U){return E("uintBE",U),T("uintBE("+U+")",U).map(function(ne){return ne.readUIntBE(0,U)})}function k(U){return E("uintLE",U),T("uintLE("+U+")",U).map(function(ne){return ne.readUIntLE(0,U)})}function I(U){return E("intBE",U),T("intBE("+U+")",U).map(function(ne){return ne.readIntBE(0,U)})}function B(U){return E("intLE",U),T("intLE("+U+")",U).map(function(ne){return ne.readIntLE(0,U)})}function N(U){return U instanceof i}function j(U){return{}.toString.call(U)==="[object Array]"}function R(U){return m()&&Buffer.isBuffer(U)}function _(U,ne){return{status:!0,index:U,value:ne,furthest:-1,expected:[]}}function $(U,ne){return j(ne)||(ne=[ne]),{status:!1,index:-1,value:null,furthest:U,expected:ne}}function q(U,ne){if(!ne||U.furthest>ne.furthest)return U;var pe=U.furthest===ne.furthest?function(Ce,Le){if(function(){if(i._supportsSet!==void 0)return i._supportsSet;var ur=typeof Set<"u";return i._supportsSet=ur,ur}()&&Array.from){for(var je=new Set(Ce),He=0;He<Le.length;He++)je.add(Le[He]);var mt=Array.from(je);return mt.sort(),mt}for(var Yt={},xn=0;xn<Ce.length;xn++)Yt[Ce[xn]]=!0;for(var mn=0;mn<Le.length;mn++)Yt[Le[mn]]=!0;var Zr=[];for(var Mn in Yt)({}).hasOwnProperty.call(Yt,Mn)&&Zr.push(Mn);return Zr.sort(),Zr}(U.expected,ne.expected):ne.expected;return{status:U.status,index:U.index,value:U.value,furthest:ne.furthest,expected:pe}}var z={};function ee(U,ne){if(R(U))return{offset:ne,line:-1,column:-1};U in z||(z[U]={});for(var pe=z[U],Ce=0,Le=0,je=0,He=ne;He>=0;){if(He in pe){Ce=pe[He].line,je===0&&(je=pe[He].lineStart);break}(U.charAt(He)===`
`||U.charAt(He)==="\r"&&U.charAt(He+1)!==`
`)&&(Le++,je===0&&(je=He+1)),He--}var mt=Ce+Le,Yt=ne-je;return pe[ne]={line:mt,lineStart:je},{offset:ne,line:mt+1,column:Yt+1}}function ie(U){if(!N(U))throw new Error("not a parser: "+U)}function ae(U,ne){return typeof U=="string"?U.charAt(ne):U[ne]}function me(U){if(typeof U!="number")throw new Error("not a number: "+U)}function fe(U){if(typeof U!="function")throw new Error("not a function: "+U)}function be(U){if(typeof U!="string")throw new Error("not a string: "+U)}var Te=2,J=3,ve=8,V=5*ve,G=4*ve,le="  ";function we(U,ne){return new Array(ne+1).join(U)}function ue(U,ne,pe){var Ce=ne-U.length;return Ce<=0?U:we(pe,Ce)+U}function De(U,ne,pe,Ce){return{from:U-ne>0?U-ne:0,to:U+pe>Ce?Ce:U+pe}}function Re(U,ne){var pe,Ce,Le,je,He,mt=ne.index,Yt=mt.offset,xn=1;if(Yt===U.length)return"Got the end of the input";if(R(U)){var mn=Yt-Yt%ve,Zr=Yt-mn,Mn=De(mn,V,G+ve,U.length),ur=h(function(Gt){return h(function(ya){return ue(ya.toString(16),2,"0")},Gt)},function(Gt,ya){var wa=Gt.length,ba=[],jo=0;if(wa<=ya)return[Gt.slice()];for(var Bo=0;Bo<wa;Bo++)ba[jo]||ba.push([]),ba[jo].push(Gt[Bo]),(Bo+1)%ya==0&&jo++;return ba}(U.slice(Mn.from,Mn.to).toJSON().data,ve));je=function(Gt){return Gt.from===0&&Gt.to===1?{from:Gt.from,to:Gt.to}:{from:Gt.from/ve,to:Math.floor(Gt.to/ve)}}(Mn),Ce=mn/ve,pe=3*Zr,Zr>=4&&(pe+=1),xn=2,Le=h(function(Gt){return Gt.length<=4?Gt.join(" "):Gt.slice(0,4).join(" ")+"  "+Gt.slice(4).join(" ")},ur),(He=(8*(je.to>0?je.to-1:je.to)).toString(16).length)<2&&(He=2)}else{var Jr=U.split(/\r\n|[\n\r\u2028\u2029]/);pe=mt.column-1,Ce=mt.line-1,je=De(Ce,Te,J,Jr.length),Le=Jr.slice(je.from,je.to),He=je.to.toString().length}var Cl=Ce-je.from;return R(U)&&(He=(8*(je.to>0?je.to-1:je.to)).toString(16).length)<2&&(He=2),d(function(Gt,ya,wa){var ba,jo=wa===Cl,Bo=jo?"> ":le;return ba=R(U)?ue((8*(je.from+wa)).toString(16),He,"0"):ue((je.from+wa+1).toString(),He," "),[].concat(Gt,[Bo+ba+" | "+ya],jo?[le+we(" ",He)+" | "+ue("",pe," ")+we("^",xn)]:[])},[],Le).join(`
`)}function Ye(U,ne){return[`
`,"-- PARSING FAILED "+we("-",50),`

`,Re(U,ne),`

`,(pe=ne.expected,pe.length===1?`Expected:

`+pe[0]:`Expected one of the following: 

`+pe.join(", ")),`
`].join("");var pe}function Be(U){return U.flags!==void 0?U.flags:[U.global?"g":"",U.ignoreCase?"i":"",U.multiline?"m":"",U.unicode?"u":"",U.sticky?"y":""].join("")}function yt(){for(var U=[].slice.call(arguments),ne=U.length,pe=0;pe<ne;pe+=1)ie(U[pe]);return i(function(Ce,Le){for(var je,He=new Array(ne),mt=0;mt<ne;mt+=1){if(!(je=q(U[mt]._(Ce,Le),je)).status)return je;He[mt]=je.value,Le=je.index}return q(_(Le,He),je)})}function Se(){var U=[].slice.call(arguments);if(U.length===0)throw new Error("seqMap needs at least one argument");var ne=U.pop();return fe(ne),yt.apply(null,U).map(function(pe){return ne.apply(null,pe)})}function Ve(){var U=[].slice.call(arguments),ne=U.length;if(ne===0)return dt("zero alternates");for(var pe=0;pe<ne;pe+=1)ie(U[pe]);return i(function(Ce,Le){for(var je,He=0;He<U.length;He+=1)if((je=q(U[He]._(Ce,Le),je)).status)return je;return je})}function Ke(U,ne){return Xe(U,ne).or(Dt([]))}function Xe(U,ne){return ie(U),ie(ne),Se(U,ne.then(U).many(),function(pe,Ce){return[pe].concat(Ce)})}function Ge(U){be(U);var ne="'"+U+"'";return i(function(pe,Ce){var Le=Ce+U.length,je=pe.slice(Ce,Le);return je===U?_(Le,je):$(Ce,ne)})}function tt(U,ne){(function(Le){if(!(Le instanceof RegExp))throw new Error("not a regexp: "+Le);for(var je=Be(Le),He=0;He<je.length;He++){var mt=je.charAt(He);if(mt!=="i"&&mt!=="m"&&mt!=="u"&&mt!=="s")throw new Error('unsupported regexp flag "'+mt+'": '+Le)}})(U),arguments.length>=2?me(ne):ne=0;var pe=function(Le){return RegExp("^(?:"+Le.source+")",Be(Le))}(U),Ce=""+U;return i(function(Le,je){var He=pe.exec(Le.slice(je));if(He){if(0<=ne&&ne<=He.length){var mt=He[0],Yt=He[ne];return _(je+mt.length,Yt)}return $(je,"valid match group (0 to "+He.length+") in "+Ce)}return $(je,Ce)})}function Dt(U){return i(function(ne,pe){return _(pe,U)})}function dt(U){return i(function(ne,pe){return $(pe,U)})}function Vt(U){if(N(U))return i(function(ne,pe){var Ce=U._(ne,pe);return Ce.index=pe,Ce.value="",Ce});if(typeof U=="string")return Vt(Ge(U));if(U instanceof RegExp)return Vt(tt(U));throw new Error("not a string, regexp, or parser: "+U)}function Ba(U){return ie(U),i(function(ne,pe){var Ce=U._(ne,pe),Le=ne.slice(pe,Ce.index);return Ce.status?$(pe,'not "'+Le+'"'):_(pe,null)})}function cn(U){return fe(U),i(function(ne,pe){var Ce=ae(ne,pe);return pe<ne.length&&U(Ce)?_(pe+1,Ce):$(pe,"a character/byte matching "+U)})}function en(U,ne){arguments.length<2&&(ne=U,U=void 0);var pe=i(function(Ce,Le){return pe._=ne()._,pe._(Ce,Le)});return U?pe.desc(U):pe}function br(){return dt("fantasy-land/empty")}s.parse=function(U){if(typeof U!="string"&&!R(U))throw new Error(".parse must be called with a string or Buffer as its argument");var ne,pe=this.skip(so)._(U,0);return ne=pe.status?{status:!0,value:pe.value}:{status:!1,index:ee(U,pe.furthest),expected:pe.expected},delete z[U],ne},s.tryParse=function(U){var ne=this.parse(U);if(ne.status)return ne.value;var pe=Ye(U,ne),Ce=new Error(pe);throw Ce.type="ParsimmonError",Ce.result=ne,Ce},s.assert=function(U,ne){return this.chain(function(pe){return U(pe)?Dt(pe):dt(ne)})},s.or=function(U){return Ve(this,U)},s.trim=function(U){return this.wrap(U,U)},s.wrap=function(U,ne){return Se(U,this,ne,function(pe,Ce){return Ce})},s.thru=function(U){return U(this)},s.then=function(U){return ie(U),yt(this,U).map(function(ne){return ne[1]})},s.many=function(){var U=this;return i(function(ne,pe){for(var Ce=[],Le=void 0;;){if(!(Le=q(U._(ne,pe),Le)).status)return q(_(pe,Ce),Le);if(pe===Le.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");pe=Le.index,Ce.push(Le.value)}})},s.tieWith=function(U){return be(U),this.map(function(ne){if(function(Le){if(!j(Le))throw new Error("not an array: "+Le)}(ne),ne.length){be(ne[0]);for(var pe=ne[0],Ce=1;Ce<ne.length;Ce++)be(ne[Ce]),pe+=U+ne[Ce];return pe}return""})},s.tie=function(){return this.tieWith("")},s.times=function(U,ne){var pe=this;return arguments.length<2&&(ne=U),me(U),me(ne),i(function(Ce,Le){for(var je=[],He=void 0,mt=void 0,Yt=0;Yt<U;Yt+=1){if(mt=q(He=pe._(Ce,Le),mt),!He.status)return mt;Le=He.index,je.push(He.value)}for(;Yt<ne&&(mt=q(He=pe._(Ce,Le),mt),He.status);Yt+=1)Le=He.index,je.push(He.value);return q(_(Le,je),mt)})},s.result=function(U){return this.map(function(){return U})},s.atMost=function(U){return this.times(0,U)},s.atLeast=function(U){return Se(this.times(U),this.many(),function(ne,pe){return ne.concat(pe)})},s.map=function(U){fe(U);var ne=this;return i(function(pe,Ce){var Le=ne._(pe,Ce);return Le.status?q(_(Le.index,U(Le.value)),Le):Le})},s.contramap=function(U){fe(U);var ne=this;return i(function(pe,Ce){var Le=ne.parse(U(pe.slice(Ce)));return Le.status?_(Ce+pe.length,Le.value):Le})},s.promap=function(U,ne){return fe(U),fe(ne),this.contramap(U).map(ne)},s.skip=function(U){return yt(this,U).map(function(ne){return ne[0]})},s.mark=function(){return Se(Dr,this,Dr,function(U,ne,pe){return{start:U,value:ne,end:pe}})},s.node=function(U){return Se(Dr,this,Dr,function(ne,pe,Ce){return{name:U,value:pe,start:ne,end:Ce}})},s.sepBy=function(U){return Ke(this,U)},s.sepBy1=function(U){return Xe(this,U)},s.lookahead=function(U){return this.skip(Vt(U))},s.notFollowedBy=function(U){return this.skip(Ba(U))},s.desc=function(U){j(U)||(U=[U]);var ne=this;return i(function(pe,Ce){var Le=ne._(pe,Ce);return Le.status||(Le.expected=U),Le})},s.fallback=function(U){return this.or(Dt(U))},s.ap=function(U){return Se(U,this,function(ne,pe){return ne(pe)})},s.chain=function(U){var ne=this;return i(function(pe,Ce){var Le=ne._(pe,Ce);return Le.status?q(U(Le.value)._(pe,Le.index),Le):Le})},s.concat=s.or,s.empty=br,s.of=Dt,s["fantasy-land/ap"]=s.ap,s["fantasy-land/chain"]=s.chain,s["fantasy-land/concat"]=s.concat,s["fantasy-land/empty"]=s.empty,s["fantasy-land/of"]=s.of,s["fantasy-land/map"]=s.map;var Dr=i(function(U,ne){return _(ne,ee(U,ne))}),_o=i(function(U,ne){return ne>=U.length?$(ne,"any character/byte"):_(ne+1,ae(U,ne))}),va=i(function(U,ne){return _(U.length,U.slice(ne))}),so=i(function(U,ne){return ne<U.length?$(ne,"EOF"):_(ne,null)}),Qr=tt(/[0-9]/).desc("a digit"),Sr=tt(/[0-9]*/).desc("optional digits"),gs=tt(/[a-z]/i).desc("a letter"),lo=tt(/[a-z]*/i).desc("optional letters"),uo=tt(/\s*/).desc("optional whitespace"),Tl=tt(/\s+/).desc("whitespace"),Mi=Ge("\r"),ki=Ge(`
`),vs=Ge(`\r
`),Po=Ve(vs,ki,Mi).desc("newline"),Fi=Ve(Po,so);i.all=va,i.alt=Ve,i.any=_o,i.cr=Mi,i.createLanguage=function(U){var ne={};for(var pe in U)({}).hasOwnProperty.call(U,pe)&&function(Ce){ne[Ce]=en(function(){return U[Ce](ne)})}(pe);return ne},i.crlf=vs,i.custom=function(U){return i(U(_,$))},i.digit=Qr,i.digits=Sr,i.empty=br,i.end=Fi,i.eof=so,i.fail=dt,i.formatError=Ye,i.index=Dr,i.isParser=N,i.lazy=en,i.letter=gs,i.letters=lo,i.lf=ki,i.lookahead=Vt,i.makeFailure=$,i.makeSuccess=_,i.newline=Po,i.noneOf=function(U){return cn(function(ne){return U.indexOf(ne)<0}).desc("none of '"+U+"'")},i.notFollowedBy=Ba,i.of=Dt,i.oneOf=function(U){for(var ne=U.split(""),pe=0;pe<ne.length;pe++)ne[pe]="'"+ne[pe]+"'";return cn(function(Ce){return U.indexOf(Ce)>=0}).desc(ne)},i.optWhitespace=uo,i.Parser=i,i.range=function(U,ne){return cn(function(pe){return U<=pe&&pe<=ne}).desc(U+"-"+ne)},i.regex=tt,i.regexp=tt,i.sepBy=Ke,i.sepBy1=Xe,i.seq=yt,i.seqMap=Se,i.seqObj=function(){for(var U,ne={},pe=0,Ce=(U=arguments,Array.prototype.slice.call(U)),Le=Ce.length,je=0;je<Le;je+=1){var He=Ce[je];if(!N(He)){if(j(He)&&He.length===2&&typeof He[0]=="string"&&N(He[1])){var mt=He[0];if(Object.prototype.hasOwnProperty.call(ne,mt))throw new Error("seqObj: duplicate key "+mt);ne[mt]=!0,pe++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(pe===0)throw new Error("seqObj expects at least one named parser, found zero");return i(function(Yt,xn){for(var mn,Zr={},Mn=0;Mn<Le;Mn+=1){var ur,Jr;if(j(Ce[Mn])?(ur=Ce[Mn][0],Jr=Ce[Mn][1]):(ur=null,Jr=Ce[Mn]),!(mn=q(Jr._(Yt,xn),mn)).status)return mn;ur&&(Zr[ur]=mn.value),xn=mn.index}return q(_(xn,Zr),mn)})},i.string=Ge,i.succeed=Dt,i.takeWhile=function(U){return fe(U),i(function(ne,pe){for(var Ce=pe;Ce<ne.length&&U(ae(ne,Ce));)Ce++;return _(Ce,ne.slice(pe,Ce))})},i.test=cn,i.whitespace=Tl,i["fantasy-land/empty"]=br,i["fantasy-land/of"]=Dt,i.Binary={bitSeq:b,bitSeqObj:function(U){w();var ne={},pe=0,Ce=h(function(je){if(j(je)){var He=je;if(He.length!==2)throw new Error("["+He.join(", ")+"] should be length 2, got length "+He.length);if(be(He[0]),me(He[1]),Object.prototype.hasOwnProperty.call(ne,He[0]))throw new Error("duplicate key in bitSeqObj: "+He[0]);return ne[He[0]]=!0,pe++,He}return me(je),[null,je]},U);if(pe<1)throw new Error("bitSeqObj expects at least one named pair, got ["+U.join(", ")+"]");var Le=h(function(je){return je[0]},Ce);return b(h(function(je){return je[1]},Ce)).map(function(je){return d(function(He,mt){return mt[0]!==null&&(He[mt[0]]=mt[1]),He},{},h(function(He,mt){return[He,je[mt]]},Le))})},byte:function(U){if(w(),me(U),U>255)throw new Error("Value specified to byte constructor ("+U+"=0x"+U.toString(16)+") is larger in value than a single byte.");var ne=(U>15?"0x":"0x0")+U.toString(16);return i(function(pe,Ce){var Le=ae(pe,Ce);return Le===U?_(Ce+1,Le):$(Ce,ne)})},buffer:function(U){return T("buffer",U).map(function(ne){return Buffer.from(ne)})},encodedString:function(U,ne){return T("string",ne).map(function(pe){return pe.toString(U)})},uintBE:M,uint8BE:M(1),uint16BE:M(2),uint32BE:M(4),uintLE:k,uint8LE:k(1),uint16LE:k(2),uint32LE:k(4),intBE:I,int8BE:I(1),int16BE:I(2),int32BE:I(4),intLE:B,int8LE:B(1),int16LE:B(2),int32LE:B(4),floatBE:T("floatBE",4).map(function(U){return U.readFloatBE(0)}),floatLE:T("floatLE",4).map(function(U){return U.readFloatLE(0)}),doubleBE:T("doubleBE",8).map(function(U){return U.readDoubleBE(0)}),doubleLE:T("doubleLE",8).map(function(U){return U.readDoubleLE(0)})},n.exports=i}])})})(Z);var nw=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function h3(e){return e==null?e:e.shiftToAll().normalize()}function oD(e){return e.includes("/")&&(e=e.substring(e.lastIndexOf("/")+1)),e.endsWith(".md")&&(e=e.substring(0,e.length-3)),e}Z.exports.alt(Z.exports.regex(new RegExp(nw(),"")),Z.exports.regex(/[0-9\p{Letter}_-]+/u).map(e=>e.toLocaleLowerCase()),Z.exports.whitespace.map(e=>"-"),Z.exports.any.map(e=>"")).many().map(e=>e.join(""));const G5=Z.exports.alt(Z.exports.regex(new RegExp(nw(),"")),Z.exports.regex(/[0-9\p{Letter}_-]+/u),Z.exports.whitespace.map(e=>" "),Z.exports.any.map(e=>" ")).many().map(e=>e.join("").split(/\s+/).join(" ").trim());function K5(e){return G5.tryParse(e)}function Q5(e){return e=h3(e),e=Ze.fromObject(Object.fromEntries(Object.entries(e.toObject()).filter(([,t])=>t>0))),e.toHuman()}var Gp;(function(e){function t(N,j=X1,R=!1){let _=n(N);if(!_)return j.renderNullAs;switch(_.type){case"null":return j.renderNullAs;case"string":return _.value;case"number":case"boolean":return""+_.value;case"html":return _.value.outerHTML;case"widget":return _.value.markdown();case"link":return _.value.markdown();case"function":return"<function>";case"array":let $="";return R&&($+="["),$+=_.value.map(q=>t(q,j,!0)).join(", "),R&&($+="]"),$;case"object":return"{ "+Object.entries(_.value).map(q=>q[0]+": "+t(q[1],j,!0)).join(", ")+" }";case"date":return _.value.second==0&&_.value.hour==0&&_.value.minute==0?_.value.toFormat(j.defaultDateFormat):_.value.toFormat(j.defaultDateTimeFormat);case"duration":return Q5(_.value)}}e.toString=t;function n(N){return w(N)?{type:"null",value:N}:h(N)?{type:"number",value:N}:d(N)?{type:"string",value:N}:T(N)?{type:"boolean",value:N}:m(N)?{type:"duration",value:N}:g(N)?{type:"date",value:N}:M(N)?{type:"widget",value:N}:b(N)?{type:"array",value:N}:E(N)?{type:"link",value:N}:B(N)?{type:"function",value:N}:k(N)?{type:"html",value:N}:I(N)?{type:"object",value:N}:void 0}e.wrapValue=n;function r(N,j){if(I(N)){let R={};for(let[_,$]of Object.entries(N))R[_]=r($,j);return R}else if(b(N)){let R=[];for(let _ of N)R.push(r(_,j));return R}else return j(N)}e.mapLeaves=r;function a(N,j,R){var _,$;if(N===void 0&&(N=null),j===void 0&&(j=null),N===null&&j===null)return 0;if(N===null)return-1;if(j===null)return 1;let q=n(N),z=n(j);if(q===void 0&&z===void 0)return 0;if(q===void 0)return-1;if(z===void 0)return 1;if(q.type!=z.type)return q.type.localeCompare(z.type);if(q.value===z.value)return 0;switch(q.type){case"string":return q.value.localeCompare(z.value);case"number":return q.value<z.value?-1:q.value==z.value?0:1;case"null":return 0;case"boolean":return q.value==z.value?0:q.value?1:-1;case"link":let ee=q.value,ie=z.value,ae=R??(we=>we),me=ae(ee.path).localeCompare(ae(ie.path));if(me!=0)return me;let fe=ee.type.localeCompare(ie.type);return fe!=0?fe:ee.subpath&&!ie.subpath?1:!ee.subpath&&ie.subpath?-1:!ee.subpath&&!ie.subpath?0:((_=ee.subpath)!==null&&_!==void 0?_:"").localeCompare(($=ie.subpath)!==null&&$!==void 0?$:"");case"date":return q.value<z.value?-1:q.value.equals(z.value)?0:1;case"duration":return q.value<z.value?-1:q.value.equals(z.value)?0:1;case"array":let be=q.value,Te=z.value;for(let we=0;we<Math.min(be.length,Te.length);we++){let ue=a(be[we],Te[we]);if(ue!=0)return ue}return be.length-Te.length;case"object":let J=q.value,ve=z.value,V=Array.from(Object.keys(J)),G=Array.from(Object.keys(ve));V.sort(),G.sort();let le=a(V,G);if(le!=0)return le;for(let we of V){let ue=a(J[we],ve[we]);if(ue!=0)return ue}return 0;case"widget":case"html":case"function":return 0}}e.compareValue=a;function i(N){var j;return(j=n(N))===null||j===void 0?void 0:j.type}e.typeOf=i;function s(N){let j=n(N);if(!j)return!1;switch(j.type){case"number":return j.value!=0;case"string":return j.value.length>0;case"boolean":return j.value;case"link":return!!j.value.path;case"date":return j.value.toMillis()!=0;case"duration":return j.value.as("seconds")!=0;case"object":return Object.keys(j.value).length>0;case"array":return j.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}e.isTruthy=s;function c(N){if(N==null)return N;if(e.isArray(N))return[].concat(N.map(j=>c(j)));if(e.isObject(N)){let j={};for(let[R,_]of Object.entries(N))j[R]=c(_);return j}else return N}e.deepCopy=c;function d(N){return typeof N=="string"}e.isString=d;function h(N){return typeof N=="number"}e.isNumber=h;function g(N){return N instanceof ot}e.isDate=g;function m(N){return N instanceof Ze}e.isDuration=m;function w(N){return N==null}e.isNull=w;function b(N){return Array.isArray(N)}e.isArray=b;function T(N){return typeof N=="boolean"}e.isBoolean=T;function E(N){return N instanceof Ir}e.isLink=E;function M(N){return N instanceof rw}e.isWidget=M;function k(N){return typeof HTMLElement<"u"?N instanceof HTMLElement:!1}e.isHtml=k;function I(N){return typeof N=="object"&&!k(N)&&!M(N)&&!b(N)&&!m(N)&&!g(N)&&!E(N)&&N!==void 0&&!w(N)}e.isObject=I;function B(N){return typeof N=="function"}e.isFunction=B})(Gp||(Gp={}));var iD;(function(e){function t(a){return Gp.isObject(a)&&Object.keys(a).length==2&&"key"in a&&"rows"in a}e.isElementGroup=t;function n(a){for(let i of a)if(!t(i))return!1;return!0}e.isGrouping=n;function r(a){if(n(a)){let i=0;for(let s of a)i+=r(s.rows);return i}else return a.length}e.count=r})(iD||(iD={}));class Ir{constructor(t){Object.assign(this,t)}static file(t,n=!1,r){return new Ir({path:t,embed:n,display:r,subpath:void 0,type:"file"})}static infer(t,n=!1,r){if(t.includes("#^")){let a=t.split("#^");return Ir.block(a[0],a[1],n,r)}else if(t.includes("#")){let a=t.split("#");return Ir.header(a[0],a[1],n,r)}else return Ir.file(t,n,r)}static header(t,n,r,a){return new Ir({path:t,embed:r,display:a,subpath:K5(n),type:"header"})}static block(t,n,r,a){return new Ir({path:t,embed:r,display:a,subpath:n,type:"block"})}static fromObject(t){return new Ir(t)}equals(t){return t==null||t==null?!1:this.path==t.path&&this.type==t.type&&this.subpath==t.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(t){return new Ir(Object.assign({},this,{path:t}))}withDisplay(t){return new Ir(Object.assign({},this,{display:t}))}withHeader(t){return Ir.header(this.path,t,this.embed,this.display)}toFile(){return Ir.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let t=new Ir(this);return t.embed=!0,t}}fromEmbed(){if(this.embed){let t=new Ir(this);return t.embed=!1,t}else return this}markdown(){let t=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?t+="|"+this.display:(t+="|"+oD(this.path),(this.type=="header"||this.type=="block")&&(t+=" > "+this.subpath)),t+="]]",t}obsidianLink(){var t,n;const r=this.path.replace("|","\\|");return this.type=="header"?r+"#"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):this.type=="block"?r+"#^"+((n=this.subpath)===null||n===void 0?void 0:n.replace("|","\\|")):r}fileName(){return oD(this.path).replace(".md","")}}class rw{constructor(t){this.$widget=t}}class Z5 extends rw{constructor(t,n){super("dataview:list-pair"),this.key=t,this.value=n}markdown(){return`${Gp.toString(this.key)}: ${Gp.toString(this.value)}`}}class J5 extends rw{constructor(t,n){super("dataview:external-link"),this.url=t,this.display=n}markdown(){var t;return`[${(t=this.display)!==null&&t!==void 0?t:this.url}](${this.url})`}}var sD;(function(e){function t(s,c){return new Z5(s,c)}e.listPair=t;function n(s,c){return new J5(s,c)}e.externalLink=n;function r(s){return s.$widget==="dataview:list-pair"}e.isListPair=r;function a(s){return s.$widget==="dataview:external-link"}e.isExternalLink=a;function i(s){return r(s)||a(s)}e.isBuiltin=i})(sD||(sD={}));var En;(function(e){function t(w){return{type:"variable",name:w}}e.variable=t;function n(w){return{type:"literal",value:w}}e.literal=n;function r(w,b,T){return{type:"binaryop",left:w,op:b,right:T}}e.binaryOp=r;function a(w,b){return{type:"index",object:w,index:b}}e.index=a;function i(w){let b=w.split("."),T=e.variable(b[0]);for(let E=1;E<b.length;E++)T=e.index(T,e.literal(b[E]));return T}e.indexVariable=i;function s(w,b){return{type:"lambda",arguments:w,value:b}}e.lambda=s;function c(w,b){return{type:"function",func:w,arguments:b}}e.func=c;function d(w){return{type:"list",values:w}}e.list=d;function h(w){return{type:"object",values:w}}e.object=h;function g(w){return{type:"negated",child:w}}e.negate=g;function m(w){return w=="<="||w=="<"||w==">"||w==">="||w=="!="||w=="="}e.isCompareOp=m,e.NULL=e.literal(null)})(En||(En={}));var yi;(function(e){function t(g){return{type:"tag",tag:g}}e.tag=t;function n(g){return{type:"csv",path:g}}e.csv=n;function r(g){return{type:"folder",folder:g}}e.folder=r;function a(g,m){return{type:"link",file:g,direction:m?"incoming":"outgoing"}}e.link=a;function i(g,m,w){return{type:"binaryop",left:g,op:m,right:w}}e.binaryOp=i;function s(g,m){return{type:"binaryop",left:g,op:"&",right:m}}e.and=s;function c(g,m){return{type:"binaryop",left:g,op:"|",right:m}}e.or=c;function d(g){return{type:"negate",child:g}}e.negate=d;function h(){return{type:"empty"}}e.empty=h})(yi||(yi={}));const lD=new RegExp(nw(),""),p1={year:Ze.fromObject({years:1}),years:Ze.fromObject({years:1}),yr:Ze.fromObject({years:1}),yrs:Ze.fromObject({years:1}),month:Ze.fromObject({months:1}),months:Ze.fromObject({months:1}),mo:Ze.fromObject({months:1}),mos:Ze.fromObject({months:1}),week:Ze.fromObject({weeks:1}),weeks:Ze.fromObject({weeks:1}),wk:Ze.fromObject({weeks:1}),wks:Ze.fromObject({weeks:1}),w:Ze.fromObject({weeks:1}),day:Ze.fromObject({days:1}),days:Ze.fromObject({days:1}),d:Ze.fromObject({days:1}),hour:Ze.fromObject({hours:1}),hours:Ze.fromObject({hours:1}),hr:Ze.fromObject({hours:1}),hrs:Ze.fromObject({hours:1}),h:Ze.fromObject({hours:1}),minute:Ze.fromObject({minutes:1}),minutes:Ze.fromObject({minutes:1}),min:Ze.fromObject({minutes:1}),mins:Ze.fromObject({minutes:1}),m:Ze.fromObject({minutes:1}),second:Ze.fromObject({seconds:1}),seconds:Ze.fromObject({seconds:1}),sec:Ze.fromObject({seconds:1}),secs:Ze.fromObject({seconds:1}),s:Ze.fromObject({seconds:1})},h1={now:()=>ot.local(),today:()=>ot.local().startOf("day"),yesterday:()=>ot.local().startOf("day").minus(Ze.fromObject({days:1})),tomorrow:()=>ot.local().startOf("day").plus(Ze.fromObject({days:1})),sow:()=>ot.local().startOf("week"),"start-of-week":()=>ot.local().startOf("week"),eow:()=>ot.local().endOf("week"),"end-of-week":()=>ot.local().endOf("week"),soy:()=>ot.local().startOf("year"),"start-of-year":()=>ot.local().startOf("year"),eoy:()=>ot.local().endOf("year"),"end-of-year":()=>ot.local().endOf("year"),som:()=>ot.local().startOf("month"),"start-of-month":()=>ot.local().startOf("month"),eom:()=>ot.local().endOf("month"),"end-of-month":()=>ot.local().endOf("month")},m1=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function X5(e){let t=-1;for(;(t=e.indexOf("|",t+1))>=0;)if(!(t>0&&e[t-1]=="\\"))return[e.substring(0,t).replace(/\\\|/g,"|"),e.substring(t+1)];return[e.replace(/\\\|/g,"|"),void 0]}function e7(e){let[t,n]=X5(e);return Ir.infer(t,!1,n)}function Mp(e,t,n){return Z.exports.seqMap(e,Z.exports.seq(Z.exports.optWhitespace,t,Z.exports.optWhitespace,e).many(),(r,a)=>{if(a.length==0)return r;let i=n(r,a[0][1],a[0][3]);for(let s=1;s<a.length;s++)i=n(i,a[s][1],a[s][3]);return i})}function t7(e,...t){return Z.exports.custom((n,r)=>(a,i)=>{let s=e._(a,i);if(!s.status)return s;for(let c of t){let d=c(s.value)._(a,s.index);if(!d.status)return s;s=d}return s})}const ko=Z.exports.createLanguage({number:e=>Z.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(t=>Number.parseFloat(t)).desc("number"),string:e=>Z.exports.string('"').then(Z.exports.alt(e.escapeCharacter,Z.exports.noneOf('"\\')).atLeast(0).map(t=>t.join(""))).skip(Z.exports.string('"')).desc("string"),escapeCharacter:e=>Z.exports.string("\\").then(Z.exports.any).map(t=>t==='"'?'"':t==="\\"?"\\":"\\"+t),bool:e=>Z.exports.regexp(/true|false|True|False/).map(t=>t.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:e=>Z.exports.seqMap(Z.exports.string("#"),Z.exports.alt(Z.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(t,n)=>t+n.join("")).desc("tag ('#hello/stuff')"),identifier:e=>Z.exports.seqMap(Z.exports.alt(Z.exports.regexp(new RegExp("\\p{Letter}","u")),Z.exports.regexp(lD).desc("text")),Z.exports.alt(Z.exports.regexp(/[0-9\p{Letter}_-]/u),Z.exports.regexp(lD).desc("text")).many(),(t,n)=>t+n.join("")).desc("variable identifier"),link:e=>Z.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(t=>e7(t)).desc("file link"),embedLink:e=>Z.exports.seqMap(Z.exports.string("!").atMost(1),e.link,(t,n)=>(t.length>0&&(n.embed=!0),n)).desc("file link"),binaryPlusMinus:e=>Z.exports.regexp(/\+|-/).map(t=>t).desc("'+' or '-'"),binaryMulDiv:e=>Z.exports.regexp(/\*|\/|%/).map(t=>t).desc("'*' or '/' or '%'"),binaryCompareOp:e=>Z.exports.regexp(/>=|<=|!=|>|<|=/).map(t=>t).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:e=>Z.exports.regexp(/and|or|&|\|/i).map(t=>t.toLowerCase()=="and"?"&":t.toLowerCase()=="or"?"|":t).desc("'and' or 'or'"),rootDate:e=>Z.exports.seqMap(Z.exports.regexp(/\d{4}/),Z.exports.string("-"),Z.exports.regexp(/\d{2}/),(t,n,r)=>ot.fromObject({year:Number.parseInt(t),month:Number.parseInt(r)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:e=>Z.exports.alt(...Object.keys(h1).sort((t,n)=>n.length-t.length).map(Z.exports.string)),date:e=>t7(e.rootDate,t=>Z.exports.seqMap(Z.exports.string("-"),Z.exports.regexp(/\d{2}/),(n,r)=>t.set({day:Number.parseInt(r)})),t=>Z.exports.seqMap(Z.exports.string("T"),Z.exports.regexp(/\d{2}/),(n,r)=>t.set({hour:Number.parseInt(r)})),t=>Z.exports.seqMap(Z.exports.string(":"),Z.exports.regexp(/\d{2}/),(n,r)=>t.set({minute:Number.parseInt(r)})),t=>Z.exports.seqMap(Z.exports.string(":"),Z.exports.regexp(/\d{2}/),(n,r)=>t.set({second:Number.parseInt(r)})),t=>Z.exports.alt(Z.exports.seqMap(Z.exports.string("."),Z.exports.regexp(/\d{3}/),(n,r)=>t.set({millisecond:Number.parseInt(r)})),Z.exports.succeed(t)),t=>Z.exports.alt(Z.exports.seqMap(Z.exports.string("+").or(Z.exports.string("-")),Z.exports.regexp(/\d{1,2}(:\d{2})?/),(n,r)=>t.setZone("UTC"+n+r,{keepLocalTime:!0})),Z.exports.seqMap(Z.exports.string("Z"),()=>t.setZone("utc",{keepLocalTime:!0})),Z.exports.seqMap(Z.exports.string("["),Z.exports.regexp(/[0-9A-Za-z+-\/]+/u),Z.exports.string("]"),(n,r,a)=>t.setZone(r,{keepLocalTime:!0})))).assert(t=>t.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:e=>Z.exports.alt(e.dateShorthand.map(t=>h1[t]()),e.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:e=>Z.exports.alt(...Object.keys(p1).sort((t,n)=>n.length-t.length).map(Z.exports.string)),duration:e=>Z.exports.seqMap(e.number,Z.exports.optWhitespace,e.durationType,(t,n,r)=>p1[r].mapUnits(a=>a*t)).sepBy1(Z.exports.string(",").trim(Z.exports.optWhitespace).or(Z.exports.optWhitespace)).map(t=>t.reduce((n,r)=>n.plus(r))).desc("duration like 4hr2min"),rawNull:e=>Z.exports.string("null"),tagSource:e=>e.tag.map(t=>yi.tag(t)),csvSource:e=>Z.exports.seqMap(Z.exports.string("csv(").skip(Z.exports.optWhitespace),e.string,Z.exports.string(")"),(t,n,r)=>yi.csv(n)),linkIncomingSource:e=>e.link.map(t=>yi.link(t.path,!0)),linkOutgoingSource:e=>Z.exports.seqMap(Z.exports.string("outgoing(").skip(Z.exports.optWhitespace),e.link,Z.exports.string(")"),(t,n,r)=>yi.link(n.path,!1)),folderSource:e=>e.string.map(t=>yi.folder(t)),parensSource:e=>Z.exports.seqMap(Z.exports.string("("),Z.exports.optWhitespace,e.source,Z.exports.optWhitespace,Z.exports.string(")"),(t,n,r,a,i)=>r),negateSource:e=>Z.exports.seqMap(Z.exports.alt(Z.exports.string("-"),Z.exports.string("!")),e.atomSource,(t,n)=>yi.negate(n)),atomSource:e=>Z.exports.alt(e.parensSource,e.negateSource,e.linkOutgoingSource,e.linkIncomingSource,e.folderSource,e.tagSource,e.csvSource),binaryOpSource:e=>Mp(e.atomSource,e.binaryBooleanOp.map(t=>t),yi.binaryOp),source:e=>e.binaryOpSource,variableField:e=>e.identifier.chain(t=>m1.includes(t.toUpperCase())?Z.exports.fail("Variable fields cannot be a keyword ("+m1.join(" or ")+")"):Z.exports.succeed(En.variable(t))).desc("variable"),numberField:e=>e.number.map(t=>En.literal(t)).desc("number"),stringField:e=>e.string.map(t=>En.literal(t)).desc("string"),boolField:e=>e.bool.map(t=>En.literal(t)).desc("boolean"),dateField:e=>Z.exports.seqMap(Z.exports.string("date("),Z.exports.optWhitespace,e.datePlus,Z.exports.optWhitespace,Z.exports.string(")"),(t,n,r,a,i)=>En.literal(r)).desc("date"),durationField:e=>Z.exports.seqMap(Z.exports.string("dur("),Z.exports.optWhitespace,e.duration,Z.exports.optWhitespace,Z.exports.string(")"),(t,n,r,a,i)=>En.literal(r)).desc("duration"),nullField:e=>e.rawNull.map(t=>En.NULL),linkField:e=>e.link.map(t=>En.literal(t)),listField:e=>e.field.sepBy(Z.exports.string(",").trim(Z.exports.optWhitespace)).wrap(Z.exports.string("[").skip(Z.exports.optWhitespace),Z.exports.optWhitespace.then(Z.exports.string("]"))).map(t=>En.list(t)).desc("list ('[1, 2, 3]')"),objectField:e=>Z.exports.seqMap(e.identifier.or(e.string),Z.exports.string(":").trim(Z.exports.optWhitespace),e.field,(t,n,r)=>({name:t,value:r})).sepBy(Z.exports.string(",").trim(Z.exports.optWhitespace)).wrap(Z.exports.string("{").skip(Z.exports.optWhitespace),Z.exports.optWhitespace.then(Z.exports.string("}"))).map(t=>{let n={};for(let r of t)n[r.name]=r.value;return En.object(n)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:e=>Z.exports.alt(e.date,e.duration.map(t=>h3(t)),e.string,e.tag,e.embedLink,e.bool,e.number,e.rawNull),inlineFieldList:e=>e.atomInlineField.sepBy(Z.exports.string(",").trim(Z.exports.optWhitespace).lookahead(e.atomInlineField)),inlineField:e=>Z.exports.alt(Z.exports.seqMap(e.atomInlineField,Z.exports.string(",").trim(Z.exports.optWhitespace),e.inlineFieldList,(t,n,r)=>[t].concat(r)),e.atomInlineField),atomField:e=>Z.exports.alt(e.embedLink.map(t=>En.literal(t)),e.negatedField,e.linkField,e.listField,e.objectField,e.lambdaField,e.parensField,e.boolField,e.numberField,e.stringField,e.dateField,e.durationField,e.nullField,e.variableField),indexField:e=>Z.exports.seqMap(e.atomField,Z.exports.alt(e.dotPostfix,e.indexPostfix,e.functionPostfix).many(),(t,n)=>{let r=t;for(let a of n)switch(a.type){case"dot":r=En.index(r,En.literal(a.field));break;case"index":r=En.index(r,a.field);break;case"function":r=En.func(r,a.fields);break}return r}),negatedField:e=>Z.exports.seqMap(Z.exports.string("!"),e.indexField,(t,n)=>En.negate(n)).desc("negated field"),parensField:e=>Z.exports.seqMap(Z.exports.string("("),Z.exports.optWhitespace,e.field,Z.exports.optWhitespace,Z.exports.string(")"),(t,n,r,a,i)=>r),lambdaField:e=>Z.exports.seqMap(e.identifier.sepBy(Z.exports.string(",").trim(Z.exports.optWhitespace)).wrap(Z.exports.string("(").trim(Z.exports.optWhitespace),Z.exports.string(")").trim(Z.exports.optWhitespace)),Z.exports.string("=>").trim(Z.exports.optWhitespace),e.field,(t,n,r)=>({type:"lambda",arguments:t,value:r})),dotPostfix:e=>Z.exports.seqMap(Z.exports.string("."),e.identifier,(t,n)=>({type:"dot",field:n})),indexPostfix:e=>Z.exports.seqMap(Z.exports.string("["),Z.exports.optWhitespace,e.field,Z.exports.optWhitespace,Z.exports.string("]"),(t,n,r,a,i)=>({type:"index",field:r})),functionPostfix:e=>Z.exports.seqMap(Z.exports.string("("),Z.exports.optWhitespace,e.field.sepBy(Z.exports.string(",").trim(Z.exports.optWhitespace)),Z.exports.optWhitespace,Z.exports.string(")"),(t,n,r,a,i)=>({type:"function",fields:r})),binaryMulDivField:e=>Mp(e.indexField,e.binaryMulDiv,En.binaryOp),binaryPlusMinusField:e=>Mp(e.binaryMulDivField,e.binaryPlusMinus,En.binaryOp),binaryCompareField:e=>Mp(e.binaryPlusMinusField,e.binaryCompareOp,En.binaryOp),binaryBooleanField:e=>Mp(e.binaryCompareField,e.binaryBooleanOp,En.binaryOp),binaryOpField:e=>e.binaryBooleanField,field:e=>e.binaryOpField});function n7(e){try{return tv.success(ko.field.tryParse(e))}catch(t){return tv.failure(""+t)}}var nv;(function(e){function t(r,a){return{name:r,field:a}}e.named=t;function n(r,a){return{field:r,direction:a}}e.sortBy=n})(nv||(nv={}));function r7(e){return Z.exports.custom((t,n)=>(r,a)=>{let i=e._(r,a);return i.status?Object.assign({},i,{value:[i.value,r.substring(a,i.index)]}):i})}function a7(e){return e.split(/[\r\n]+/).map(t=>t.trim()).join("")}const o7=Z.exports.createLanguage({queryType:e=>Z.exports.alt(Z.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(t=>t.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:e=>Z.exports.seqMap(ko.field.skip(Z.exports.whitespace),Z.exports.regexp(/AS/i).skip(Z.exports.whitespace),ko.identifier.or(ko.string),(t,n,r)=>nv.named(r,t)),namedField:e=>Z.exports.alt(e.explicitNamedField,r7(ko.field).map(([t,n])=>nv.named(a7(n),t))),sortField:e=>Z.exports.seqMap(ko.field.skip(Z.exports.optWhitespace),Z.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(t,n)=>{let r=n.length==0?"ascending":n[0].toLowerCase();return r=="desc"&&(r="descending"),r=="asc"&&(r="ascending"),{field:t,direction:r}}),headerClause:e=>e.queryType.skip(Z.exports.whitespace).chain(t=>{switch(t){case"table":return Z.exports.seqMap(Z.exports.regexp(/WITHOUT\s+ID/i).skip(Z.exports.optWhitespace).atMost(1),Z.exports.sepBy(e.namedField,Z.exports.string(",").trim(Z.exports.optWhitespace)),(n,r)=>({type:"table",fields:r,showId:n.length==0}));case"list":return Z.exports.seqMap(Z.exports.regexp(/WITHOUT\s+ID/i).skip(Z.exports.optWhitespace).atMost(1),ko.field.atMost(1),(n,r)=>({type:"list",format:r.length==1?r[0]:void 0,showId:n.length==0}));case"task":return Z.exports.succeed({type:"task"});case"calendar":return Z.exports.seqMap(e.namedField,n=>({type:"calendar",showId:!0,field:n}));default:return Z.exports.fail(`Unrecognized query type '${t}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:e=>Z.exports.seqMap(Z.exports.regexp(/FROM/i),Z.exports.whitespace,ko.source,(t,n,r)=>r),whereClause:e=>Z.exports.seqMap(Z.exports.regexp(/WHERE/i),Z.exports.whitespace,ko.field,(t,n,r)=>({type:"where",clause:r})).desc("WHERE <expression>"),sortByClause:e=>Z.exports.seqMap(Z.exports.regexp(/SORT/i),Z.exports.whitespace,e.sortField.sepBy1(Z.exports.string(",").trim(Z.exports.optWhitespace)),(t,n,r)=>({type:"sort",fields:r})).desc("SORT field [ASC/DESC]"),limitClause:e=>Z.exports.seqMap(Z.exports.regexp(/LIMIT/i),Z.exports.whitespace,ko.field,(t,n,r)=>({type:"limit",amount:r})).desc("LIMIT <value>"),flattenClause:e=>Z.exports.seqMap(Z.exports.regexp(/FLATTEN/i).skip(Z.exports.whitespace),e.namedField,(t,n)=>({type:"flatten",field:n})).desc("FLATTEN <value> [AS <name>]"),groupByClause:e=>Z.exports.seqMap(Z.exports.regexp(/GROUP BY/i).skip(Z.exports.whitespace),e.namedField,(t,n)=>({type:"group",field:n})).desc("GROUP BY <value> [AS <name>]"),clause:e=>Z.exports.alt(e.fromClause,e.whereClause,e.sortByClause,e.limitClause,e.groupByClause,e.flattenClause),query:e=>Z.exports.seqMap(e.headerClause.trim(Z.exports.optWhitespace),e.fromClause.trim(Z.exports.optWhitespace).atMost(1),e.clause.trim(Z.exports.optWhitespace).many(),(t,n,r)=>({header:t,source:n.length==0?yi.folder(""):n[0],operations:r,settings:X1}))}),i7=e=>{var t;return e?(t=e.plugins.plugins.dataview)===null||t===void 0?void 0:t.api:window.DataviewAPI},s7=e=>e.plugins.enabledPlugins.has("dataview");hs.DATE_SHORTHANDS=h1;hs.DURATION_TYPES=p1;hs.EXPRESSION=ko;hs.KEYWORDS=m1;hs.QUERY_LANGUAGE=o7;var l7=hs.getAPI=i7;hs.isPluginEnabled=s7;hs.parseField=n7;async function u7(e,t,n,r,a){var M,k;const{vault:i,metadataCache:s}=xe.getState().dailyNotesState.app===void 0?app:xe.getState().dailyNotesState.app,c=xe.getState().dailyNotesState.settings,d=e.replace(/\n/g,"<br>");if(n===void 0)return;const h=s.getFirstLinkpathDest("",n),g=F.moment(),m=g.format("YYYYMMDDHHmmss"),w=r.slice(14),b="    ",T=m+" "+d.trim(),E=b+"- "+m+" "+d.trim();if(h){let I;if(c!=null&&c.CommentOnMemos&&(c!=null&&c.CommentsInOriginalNotes)){const R=l7();if(R!==void 0)try{I=(k=(M=R.page(h.path))==null?void 0:M.file.lists.values)==null?void 0:k.filter(_=>_.line===parseInt(w))}catch(_){console.error(_)}}const B=await i.read(h);let N=0;I[0].children.values.length>0?N=I[0].children.values[I[0].children.values.length-1].line:N=I[0].line;const j=await c7(E,B,N);if(await i.modify(h,j.content),t)return{id:m+(N+1),content:T,deletedAt:"",createdAt:g.format("YYYY/MM/DD HH:mm:ss"),updatedAt:g.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",path:h.path,hasId:"",linkId:a}}}async function c7(e,t,n){if(n===-1)return{content:`${t}
${e}`,posNum:-1};const r=t.split(`
`),a=r.slice(0,n+1).join(`
`),i=r.slice(n+1).join(`
`);return/^\s*$/g.test(r[n+1])?{content:`${a}
${e}
${i}`,posNum:n}:{content:`${a}
${e}
${i}`,posNum:n}}const aw=async e=>{const t=ct.getState().app,n=t.metadataCache.getFirstLinkpathDest("",e);if(!n){new F.Notice(O("File not found for the given thino path"));return}await t.workspace.getLeaf("split").openFile(n)},ow=async(e,t)=>{const{app:n}=ct.getState(),r=parseInt(e.slice(14)),a=n.metadataCache.getFirstLinkpathDest("",t);if(!F.Platform.isMobile)await n.workspace.getLeaf("split").openFile(a,{eState:{line:r}});else{let i=n.workspace.activeLeaf;i===null&&(i=n.workspace.getLeaf(!1)),await i.openFile(a,{eState:{line:r}})}},iw=async(e,t)=>{var d;const n=ct.getState().app,r=n.metadataCache.getFirstLinkpathDest("",t);if(!r){new F.Notice(O("File not found for the given thino path"));return}let a="";try{a=await n.vault.read(r)}catch(h){console.error(h),a=await n.vault.cachedRead(r)}const s=a.split(/\r?\n/).findIndex(h=>h.contains(e)),c=n.workspace.getLeaf("split");await c.openFile(r,{eState:{line:s}});try{(d=c.view.editor)==null||d.setCursor({line:s,ch:1})}catch(h){console.error(h)}},sw=async(e,t)=>{var c;const n=ct.getState().app,r=(d,h)=>{var m;const g=(m=Array.from(d.nodes.values()))==null?void 0:m.find(w=>w.id===h);return g?(d.selectOnly(g),d.zoomToSelection(),!0):!1},a=n.workspace.getLeavesOfType("canvas");for(const d of a){const h=d.view;if(((c=h==null?void 0:h.file)==null?void 0:c.path)===t&&r(h.canvas,e))return}const i=n.metadataCache.getFirstLinkpathDest("",t);if(!i){new F.Notice(O("File not found for the given thino path"));return}const s=n.workspace.getLeaf("split");await s.openFile(i),setTimeout(()=>{var d;r((d=s.view)==null?void 0:d.canvas,e)},10)},f7="https://api.thino.pkmer.cn/test",Hf=f7,d7="unknown",p7=/!\[(?<content>[^\]]+)\]\((?<link>[^)]+)\)/g;function h7(e){return e.substring(e.lastIndexOf(".")+1)}function m7(e){return{id:e.id,createdAt:Date.now().toString(),filename:e.id,type:`${h7(e.id)}`,size:e.size.toString()}}function g7(e){const t=e==null?void 0:e.matchAll(p7);return t?Array.from(t).map(n=>{var r;return m7({url:(r=n.groups)==null?void 0:r.link,id:d7,size:0,mtime:""})}).filter(n=>n.type!="html"):[]}function Dh(e){var t;return{id:e.id,createdAt:F.moment(e.ctime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"),updatedAt:F.moment(e.mtime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"),deletedAt:(t=e.ttime)!=null&&t.toString()?F.moment(e.ttime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"):"",rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,resourceList:g7(e.content),creatorName:"thino",sourceType:(e==null?void 0:e.thinoType)||"FILE",visibility:"PUBLIC",localId:e.originalId,deleted:!!e.dtime}}async function v7(e){const n={url:`${Hf}/thino/getThinos${e?`?since=${e}&includeDeleted=true`:""}`,method:"GET",headers:{Authorization:`Bearer ${Uf()}`}};return F.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to fetch memos: ${r.status}`);try{return r.json.payload.map(i=>Dh(i))}catch(a){console.error(`Error processing memo response: ${a}`)}}).catch(r=>(console.error(r),[]))}function Uf(){const e=xe.getState().dailyNotesState.app||app;return(e==null?void 0:e.loadLocalStorage("tokenForSync"))||""}async function m3(e){const t=`${Hf}/thino/createThino`,n={content:e.content,thinoType:(e==null?void 0:e.thinoType)||"FILE",pinned:!1,rowStatus:"NORMAL",encrypted:!1},r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Uf()}`}};return F.requestUrl(r).then(a=>{a.status>=400&&console.error(`Failed to create memo: ${a.status}`);try{const i=a.json;return Dh(i.payload)}catch(i){console.error(`Error processing memo creation response: ${i}`)}}).catch(a=>(console.error(a),null))}function y7(e){return{id:e.id,ctime:F.moment(e.createdAt,"YYYY-MM-DD HH:mm:ss").valueOf(),mtime:F.moment(e.updatedAt,"YYYY-MM-DD HH:mm:ss").valueOf(),ttime:e.deletedAt?F.moment(e.deletedAt,"YYYY-MM-DD HH:mm:ss").valueOf():void 0,rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,encrypted:!1,thinoType:e.sourceType==="DAILY"?"DAILY":"FILE",tags:[]}}async function w7(e){const t=`${Hf}/thino/createThinosByData`,n=e.map(a=>y7(a)),r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Uf()}`}};return F.requestUrl(r).then(a=>{a.status>=400&&console.error(`Failed to create thinos: ${a.status}`);try{return a.json.payload.map(c=>Dh(c))}catch(i){console.error(`Error processing thinos creation response: ${i}`)}}).catch(a=>(console.error(a),[]))}async function w0(e){const n={url:`${Hf}/thino/updateThinoById/${e.id}`,method:"POST",contentType:"application/json",body:JSON.stringify(e),headers:{Authorization:`Bearer ${Uf()}`}};return F.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to update memo: ${r.status}`);try{const a=r.json;return Dh(a.payload)}catch(a){console.error(`Error processing memo update response: ${a}`)}}).catch(r=>(console.error(r),null))}async function b7(e){const n={url:`${Hf}/thino/recoverThinoFromTrash/${e}`,method:"POST",headers:{Authorization:`Bearer ${Uf()}`}};return F.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to recover memo: ${r.status}`);try{const a=r.json;return Dh(a.payload)}catch(a){console.error(`Error processing memo recovery response: ${a}`)}}).catch(r=>(console.error(r),null))}async function D7(e){const n={url:`${Hf}/thino/deleteThinoById/${e}`,method:"DELETE",headers:{Authorization:`Bearer ${Uf()}`}};return F.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to delete memo: ${r.status}`)}).catch(r=>(console.error(r),null))}class S7{constructor(){ye(this,"initialized",!1)}getState(){return xe.getState().memoState}async fetchAllMemos(){const t=ct.getState().settings,n=await da.getMyMemos(t.EnabledLocationList.map(i=>i.value)),r=[...n.memos],a=[...n.commentMemos];return xe.dispatch({type:"SET_MEMOS",payload:{memos:r}}),xe.dispatch({type:"SET_COMMENT_MEMOS",payload:{commentMemos:a}}),this.initialized||(this.initialized=!0,rt.setLoaded(!0)),r}async updateTypeMemos(t){const n=await da.updateSpecificTypeMemo(t),r=this.getState().memos.filter(a=>a.sourceType!==t);xe.dispatch({type:"SET_MEMOS",payload:{memos:[...r,...n.memos]}})}async removeTypeMemos(t){const n=this.getState().memos.filter(r=>r.sourceType!==t);xe.dispatch({type:"SET_MEMOS",payload:{memos:[...n]}})}async fetchDeletedMemos(){const t=await da.getMyDeletedMemos();return t.sort((n,r)=>Ue.getTimeStampByDate(r.deletedAt)-Ue.getTimeStampByDate(n.deletedAt)),t}pushMemo(t){xe.dispatch({type:"INSERT_MEMO",payload:{memo:{...t}}})}pushCommentMemo(t){xe.dispatch({type:"INSERT_COMMENT_MEMO",payload:{memo:{...t}}})}getMemoById(t){for(const n of this.getState().memos)if(n.id===t)return n;return null}getCommentMemoById(t){for(const n of this.getState().commentMemos)if(n.id===t)return n;return null}getMemoByWebId(t){for(const n of this.getState().memos)if(n.webId===t||n.id===t)return n;return null}async updateMemoById(t,n,r){const a=this.getMemoByWebId(t);if(!a)return;let i=null;const s=r?{}:{content:n.content,rowStatus:n.rowStatus,pinned:n.pinned,deleted:!!n.deletedAt,thinoType:n.thinoType??""};switch(a.sourceType){case"DAILY":i=await dl(a,{id:a.id,webId:n.id,...s});break;case"CANVAS":i=await fl(a,{id:a.id,webId:n.id,...s});break;case"MULTI":i=await as(a,{id:a.id,webId:n.id,...s});break;case"FILE":i=await cl(a,{id:a.id,webId:n.id,...s});break}if(!i)return a;xe.dispatch({type:"EDIT_MEMO",payload:i})}async archiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await dl(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"CANVAS":n=await fl(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"MULTI":n=await as(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"FILE":n=await cl(t,{id:t.id,rowStatus:"ARCHIVED"});break}return n?(xe.dispatch({type:"ARCHIVE_MEMO_BY_ID",payload:n}),n):t}async unarchiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await dl(t,{id:t.id,rowStatus:"NORMAL"});break;case"CANVAS":n=await fl(t,{id:t.id,rowStatus:"NORMAL"});break;case"MULTI":n=await as(t,{id:t.id,rowStatus:"NORMAL"});break;case"FILE":n=await cl(t,{id:t.id,rowStatus:"NORMAL"});break}return xe.dispatch({type:"UNARCHIVE_MEMO_BY_ID",payload:n}),n}async hideMemoById(t){const n=this.getMemoById(t);if(!n)return n;let r=null;switch(n.sourceType){case"DAILY":r=await dl(n,{id:n.id,deleted:!0});break;case"CANVAS":r=await fl(n,{id:n.id,deleted:!0});break;case"MULTI":r=await as(n,{id:n.id,deleted:!0});break;case"FILE":r=await cl(n,{id:n.id,deleted:!0});break}if(!r)return n;if(r)return r}async restoreMemoById(t){return await da.restoreMemo(t)}async deleteMemoById(t,n){const r=this.getMemoById(t);try{switch(r.sourceType){case"DAILY":await da.deleteMemoInDailyNote(r);break;case"CANVAS":await da.deleteMemoInCanvas(r);break;case"MULTI":await da.deleteMemoInMultiFiles(r);break;case"FILE":await da.deleteMemoInSingleFile(r);break}xe.dispatch({type:"DELETE_MEMO_BY_ID",payload:{id:t}})}catch(c){console.error(c),new F.Notice(O("Failed to delete memo"))}if(n&&n==="local")return;const a=ct.getState().settings,i=ct.getState().app;!(i!=null&&i.loadLocalStorage("tokenForSync"))||!a.startSync||r.webId&&await D7(r.webId)}async removeMemosInFile(t,n){var a,i;const r=[];try{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n)await a1(t,r);else if(t.path.contains("thino.canvas"))await o1(t,r);else if((a=t==null?void 0:t.parent)!=null&&a.path.contains(n)||!(t!=null&&t.parent)&&!((i=t==null?void 0:t.parent)!=null&&i.path)){const c=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());c.length>0&&r.push(...c)}else t.path.endsWith(".md")&&t.path.contains(".thino")&&await r1(t,r);const s=r.map(c=>c.id);xe.dispatch({type:"DELETE_MEMO_BY_ID_BATCH",payload:{ids:s}})}catch(s){console.error(s)}}async updateMemosInFile(t,n){const r=[],a=async()=>{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){await a1(t,r);return}else if(t.path.contains("thino.canvas")){await o1(t,r);return}else if(t!=null&&t.parent.path.contains(n)){await dE(t,r);return}else if(t.path.endsWith(".md")&&t.path.contains(".thino")){await r1(t,r);return}};try{await a(),xe.dispatch({type:"UPDATE_MEMO_BATCH",payload:{memos:r,path:t.path}})}catch(i){console.error(i)}}async updateMemoProperty(t){const n=Ue.randomId(16),r=await as(t,{id:n});xe.dispatch({type:"EDIT_MEMO_PATH",payload:r})}editMemo(t){const n=t.webId;xe.dispatch({type:"EDIT_MEMO",payload:t});const r=ct.getState().settings,a=ct.getState().app;if(!(!(a!=null&&a.loadLocalStorage("tokenForSync"))||!r.startSync))try{t&&n&&w0({id:n,content:t.content,rowStatus:t.rowStatus,pinned:t.pinned,ttime:t.deletedAt?F.moment(t.deletedAt,"YYYY-MM-DD HH:mm:ss").valueOf():0,thinoType:t.sourceType==="DAILY"?"DAILY":"FILE"})}catch(s){console.error(s)}}editCommentMemo(t){xe.dispatch({type:"EDIT_COMMENT_MEMO",payload:t})}getThinoViaKeyword(t){const{memos:n}=this.getState();return n.filter(a=>a.content.toLowerCase().includes(t==null?void 0:t.toLowerCase()))}updateTagsState(){const{memos:t}=this.getState(),n=new Set,r={};for(const a of t){const i=a.content.replace(/<br>/g," ").replace(/<[^>]*>/g,"").replace(/\`\`\`[a-z]*\n[\s\S]*?\n\`\`\`/g,"").replace(/\`([^\`].*?)\`/g,"");if(a.deletedAt!==""&&a.deletedAt)continue;[...Array.from(i.match(ir)??[]),...Array.from(i.match(Lr)??[]),...Array.from(i.match(La)??[])].forEach(c=>{const d=c.replace(ir,"$1").replace(Lr,"$1").replace(La,"$2").trim();/^\d+$/.test(d)||(n.add(d),r[d]=(r[d]||0)+1)})}xe.dispatch({type:"SET_TAGS",payload:{tags:Array.from(n),tagsNum:r}})}clearMemos(){xe.dispatch({type:"SET_MEMOS",payload:{memos:[]}})}async getLinkedMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes(t))}async getCommentMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes("comment: "+t))}async createMemoMultiFile({content:t,isList:n}){return await kM({content:t,isList:n})}async createMemoSingleFile({content:t,isList:n}){return await FM({content:t,isList:n})}async createOrPatchThinoFromWeb(t){const n=this.getState().memos;if(t.localId&&(n!=null&&n.some(i=>i.id===t.localId)))return await this.updateMemoById(t.localId,t,!0),null;if(n!=null&&n.some(i=>i.id===t.id)||n!=null&&n.some(i=>i.webId===t.id))return await this.updateMemoById(t.id,t,!1),null;let r=t.sourceType;const a=ct.getState().settings;switch(a&&(a!=null&&a.saveThinoType)&&(r=a.saveThinoType!=="FILE"?a.saveThinoType:t.sourceType),r){case"FILE":case"MULTI":case"CANVAS":return await Ib(t);case"DAILY":return await IM(t);default:return await Ib(t)}}async initSync(){const n=this.getState().memos.filter(a=>!a.webId),r=await w7(n);for(const a of r)await this.createOrPatchThinoFromWeb(a)}async createMemoCanvas({text:t,isList:n}){return await NM({content:t,isList:n})}async createMemoDaily(t,n){return await Ab(t,n)}async pinMemoById(t){const n=this.getMemoById(t),r=await $M(n);xe.dispatch({type:"PIN_MEMO",payload:r});try{const a=ct.getState().settings,i=ct.getState().app;if((i==null?void 0:i.loadLocalStorage("tokenForSync"))&&a.startSync){const c=await w0({id:r.webId,pinned:!0});this.editMemo(c)}}catch(a){console.error(a)}}async unpinMemoById(t){const n=this.getMemoById(t),r=await qM(n);xe.dispatch({type:"PIN_MEMO",payload:r});try{const a=ct.getState().settings,i=ct.getState().app;if((i==null?void 0:i.loadLocalStorage("tokenForSync"))&&a.startSync){const c=await w0({id:r.webId,pinned:!1});this.editMemo(c)}}catch(a){console.error(a)}}async createCommentMemo(t,n,r,a,i){return await u7(t,n,r,a,i)}async importMemos(t,n,r){return await Ab(t,n,r)}async createThino({content:t,isList:n,type:r}){let a=null;switch(r.toLowerCase()){case"canvas":a=await Me.createMemoCanvas({text:t,isList:n});break;case"multi":a=await Me.createMemoMultiFile({content:t,isList:n});break;case"daily":a=await Me.createMemoDaily(t,n);break;case"file":a=await Me.createMemoSingleFile({content:t,isList:n});break;default:a=await Me.createMemoDaily(t,n);break}const i=ct.getState().settings,s=ct.getState().app,c=s==null?void 0:s.loadLocalStorage("tokenForSync");if(a&&c&&i.startSync){const d=await m3({content:t,thinoType:r==="DAILY"?"DAILY":"FILE"});await this.updateMemoById(a.id,d,!0)}return a}async openThinoByID(t){const n=this.getMemoById(t);if(n)switch(n.sourceType){case"DAILY":await ow(n.id,n.path);break;case"CANVAS":await sw(n.id,n.path);break;case"MULTI":await aw(n.path);break;case"FILE":await iw(n.id,n.path);break}}async updateMemo(t,n,r){const a=this.getMemoById(t);if(a){let i=null;switch(a.sourceType){case"DAILY":i=await dl(a,{id:a.id,content:n,thinoType:r||""});break;case"CANVAS":i=await fl(a,{id:a.id,content:n,thinoType:r||""});break;case"MULTI":i=await as(a,{id:a.id,content:n,thinoType:r||""});break;case"FILE":i=await cl(a,{id:a.id,content:n,thinoType:r||""})}if(i)return i}return a}}const Me=new S7;class E7{getState(){return xe.getState().queryState}async getMyAllQueries(){const t=it.getState().query.filter,n=this.getQueryById(t),r=await da.getMyQueries();return xe.dispatch({type:"SET_QUERIES",payload:{queries:[...r,...n?[n]:[]]}}),r}getQueryById(t){return this.getState().queries.find(n=>n.id===t)}pushQuery(t){xe.dispatch({type:"INSERT_QUERY",payload:{query:{...t}}})}editQuery(t){xe.dispatch({type:"UPDATE_QUERY",payload:t})}async deleteQuery(t){await da.deleteQueryById(t),xe.dispatch({type:"DELETE_QUERY_BY_ID",payload:{id:t}})}async createQuery(t,n){return await da.createQuery(t,n)}createTempQuery(t,n){return oM(t,n)}async updateQuery(t,n,r){return await da.updateQuery(t,n,r)}async pinQuery(t){await da.pinQuery(t)}async unpinQuery(t){await da.unpinQuery(t)}}const ln=new E7;class T7{async upload(t){const{vault:n,fileManager:r}=xe.getState().dailyNotesState.app,a=await t.arrayBuffer(),i=C7(t.type),s=Au(),c=F.moment(),d=Sv(c,s);let h;if(d)d instanceof F.TFile&&(h=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${F.moment().format("YYYYMMDDHHmmss")}`,i,d),a));else{const g=await rE(c);h=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${F.moment().format("YYYYMMDDHHmmss")}`,i,g),a)}return r.generateMarkdownLink(h,h.path,"","")}async parseHtml(t){const n=await t.text(),r=document.createElement("html");r.innerHTML=n;const a=Array.from(r.getElementsByClassName("memo"));for(const i of a){const s=i.getElementsByClassName("content")[0],c=F.htmlToMarkdown(s.innerHTML),d=await Me.importMemos(c,!0,F.moment(i.getElementsByClassName("time")[0].innerHTML));Me.pushMemo(d)}}}const C7=e=>{var t;return(t=/^image\/(.+)$/.exec(e))==null?void 0:t[1]},lw=new T7;var Lu={},g3={exports:{}},fa={},b0={exports:{}},D0={},uD;function x7(){return uD||(uD=1,function(e){function t(J,ve){var V=J.length;J.push(ve);e:for(;0<V;){var G=V-1>>>1,le=J[G];if(0<a(le,ve))J[G]=ve,J[V]=le,V=G;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ve=J[0],V=J.pop();if(V!==ve){J[0]=V;e:for(var G=0,le=J.length,we=le>>>1;G<we;){var ue=2*(G+1)-1,De=J[ue],Re=ue+1,Ye=J[Re];if(0>a(De,V))Re<le&&0>a(Ye,De)?(J[G]=Ye,J[Re]=V,G=Re):(J[G]=De,J[ue]=V,G=ue);else if(Re<le&&0>a(Ye,V))J[G]=Ye,J[Re]=V,G=Re;else break e}}return ve}function a(J,ve){var V=J.sortIndex-ve.sortIndex;return V!==0?V:J.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],h=[],g=1,m=null,w=3,b=!1,T=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(J){for(var ve=n(h);ve!==null;){if(ve.callback===null)r(h);else if(ve.startTime<=J)r(h),ve.sortIndex=ve.expirationTime,t(d,ve);else break;ve=n(h)}}function N(J){if(E=!1,B(J),!T)if(n(d)!==null)T=!0,be(j);else{var ve=n(h);ve!==null&&Te(N,ve.startTime-J)}}function j(J,ve){T=!1,E&&(E=!1,k($),$=-1),b=!0;var V=w;try{for(B(ve),m=n(d);m!==null&&(!(m.expirationTime>ve)||J&&!ee());){var G=m.callback;if(typeof G=="function"){m.callback=null,w=m.priorityLevel;var le=G(m.expirationTime<=ve);ve=e.unstable_now(),typeof le=="function"?m.callback=le:m===n(d)&&r(d),B(ve)}else r(d);m=n(d)}if(m!==null)var we=!0;else{var ue=n(h);ue!==null&&Te(N,ue.startTime-ve),we=!1}return we}finally{m=null,w=V,b=!1}}var R=!1,_=null,$=-1,q=5,z=-1;function ee(){return!(e.unstable_now()-z<q)}function ie(){if(_!==null){var J=e.unstable_now();z=J;var ve=!0;try{ve=_(!0,J)}finally{ve?ae():(R=!1,_=null)}}else R=!1}var ae;if(typeof I=="function")ae=function(){I(ie)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,fe=me.port2;me.port1.onmessage=ie,ae=function(){fe.postMessage(null)}}else ae=function(){M(ie,0)};function be(J){_=J,R||(R=!0,ae())}function Te(J,ve){$=M(function(){J(e.unstable_now())},ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){T||b||(T=!0,be(j))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ve=3;break;default:ve=w}var V=w;w=ve;try{return J()}finally{w=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,ve){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var V=w;w=J;try{return ve()}finally{w=V}},e.unstable_scheduleCallback=function(J,ve,V){var G=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,J){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=V+le,J={id:g++,callback:ve,priorityLevel:J,startTime:V,expirationTime:le,sortIndex:-1},V>G?(J.sortIndex=V,t(h,J),n(d)===null&&J===n(h)&&(E?(k($),$=-1):E=!0,Te(N,V-G))):(J.sortIndex=le,t(d,J),T||b||(T=!0,be(j))),J},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(J){var ve=w;return function(){var V=w;w=ve;try{return J.apply(this,arguments)}finally{w=V}}}}(D0)),D0}var cD;function M7(){return cD||(cD=1,b0.exports=x7()),b0.exports}var fD;function k7(){if(fD)return fa;fD=1;var e=A,t=M7();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function i(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(a[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function w(o){return d.call(m,o)?!0:d.call(g,o)?!1:h.test(o)?m[o]=!0:(g[o]=!0,!1)}function b(o,l,p,v){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,l,p,v){if(l===null||typeof l>"u"||b(o,l,p,v))return!0;if(v)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(o,l,p,v,S,C,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=p,this.propertyName=o,this.type=l,this.sanitizeURL=C,this.removeEmptyString=P}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){M[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];M[l]=new E(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){M[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){M[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){M[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){M[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){M[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){M[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){M[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function I(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(k,I);M[l]=new E(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(k,I);M[l]=new E(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(k,I);M[l]=new E(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){M[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),M.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){M[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function B(o,l,p,v){var S=M.hasOwnProperty(l)?M[l]:null;(S!==null?S.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(T(l,p,S,v)&&(p=null),v||S===null?w(l)&&(p===null?o.removeAttribute(l):o.setAttribute(l,""+p)):S.mustUseProperty?o[S.propertyName]=p===null?S.type===3?!1:"":p:(l=S.attributeName,v=S.attributeNamespace,p===null?o.removeAttribute(l):(S=S.type,p=S===3||S===4&&p===!0?"":""+p,v?o.setAttributeNS(v,l,p):o.setAttribute(l,p))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),R=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),ee=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),J=Symbol.iterator;function ve(o){return o===null||typeof o!="object"?null:(o=J&&o[J]||o["@@iterator"],typeof o=="function"?o:null)}var V=Object.assign,G;function le(o){if(G===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+o}var we=!1;function ue(o,l){if(!o||we)return"";we=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ge){var v=ge}Reflect.construct(o,[],l)}else{try{l.call()}catch(ge){v=ge}o.call(l.prototype)}else{try{throw Error()}catch(ge){v=ge}o()}}catch(ge){if(ge&&v&&typeof ge.stack=="string"){for(var S=ge.stack.split(`
`),C=v.stack.split(`
`),P=S.length-1,W=C.length-1;1<=P&&0<=W&&S[P]!==C[W];)W--;for(;1<=P&&0<=W;P--,W--)if(S[P]!==C[W]){if(P!==1||W!==1)do if(P--,W--,0>W||S[P]!==C[W]){var X=`
`+S[P].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=P&&0<=W);break}}}finally{we=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?le(o):""}function De(o){switch(o.tag){case 5:return le(o.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return o=ue(o.type,!1),o;case 11:return o=ue(o.type.render,!1),o;case 1:return o=ue(o.type,!0),o;default:return""}}function Re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case R:return"Portal";case q:return"Profiler";case $:return"StrictMode";case ae:return"Suspense";case me:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ee:return(o.displayName||"Context")+".Consumer";case z:return(o._context.displayName||"Context")+".Provider";case ie:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case fe:return l=o.displayName||null,l!==null?l:Re(o.type)||"Memo";case be:l=o._payload,o=o._init;try{return Re(o(l))}catch{}}return null}function Ye(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(l);case 8:return l===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Be(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function yt(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Se(o){var l=yt(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),v=""+o[l];if(!o.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,C=p.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return S.call(this)},set:function(P){v=""+P,C.call(this,P)}}),Object.defineProperty(o,l,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(P){v=""+P},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ve(o){o._valueTracker||(o._valueTracker=Se(o))}function Ke(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var p=l.getValue(),v="";return o&&(v=yt(o)?o.checked?"true":"false":o.value),o=v,o!==p?(l.setValue(o),!0):!1}function Xe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ge(o,l){var p=l.checked;return V({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function tt(o,l){var p=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;p=Be(l.value!=null?l.value:p),o._wrapperState={initialChecked:v,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Dt(o,l){l=l.checked,l!=null&&B(o,"checked",l,!1)}function dt(o,l){Dt(o,l);var p=Be(l.value),v=l.type;if(p!=null)v==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ba(o,l.type,p):l.hasOwnProperty("defaultValue")&&Ba(o,l.type,Be(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Vt(o,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,p||l===o.value||(o.value=l),o.defaultValue=l}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function Ba(o,l,p){(l!=="number"||Xe(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var cn=Array.isArray;function en(o,l,p,v){if(o=o.options,l){l={};for(var S=0;S<p.length;S++)l["$"+p[S]]=!0;for(p=0;p<o.length;p++)S=l.hasOwnProperty("$"+o[p].value),o[p].selected!==S&&(o[p].selected=S),S&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Be(p),l=null,S=0;S<o.length;S++){if(o[S].value===p){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}l!==null||o[S].disabled||(l=o[S])}l!==null&&(l.selected=!0)}}function br(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return V({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Dr(o,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if(cn(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}o._wrapperState={initialValue:Be(p)}}function _o(o,l){var p=Be(l.value),v=Be(l.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),l.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),v!=null&&(o.defaultValue=""+v)}function va(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function so(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qr(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?so(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Sr,gs=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,v,S){MSApp.execUnsafeLocalFunction(function(){return o(l,p,v,S)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Sr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function lo(o,l){if(l){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=l;return}}o.textContent=l}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tl=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(o){Tl.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),uo[l]=uo[o]})});function Mi(o,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||uo.hasOwnProperty(o)&&uo[o]?(""+l).trim():l+"px"}function ki(o,l){o=o.style;for(var p in l)if(l.hasOwnProperty(p)){var v=p.indexOf("--")===0,S=Mi(p,l[p],v);p==="float"&&(p="cssFloat"),v?o.setProperty(p,S):o[p]=S}}var vs=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Po(o,l){if(l){if(vs[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Fi(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U=null;function ne(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var pe=null,Ce=null,Le=null;function je(o){if(o=Kn(o)){if(typeof pe!="function")throw Error(n(280));var l=o.stateNode;l&&(l=fc(l),pe(o.stateNode,o.type,l))}}function He(o){Ce?Le?Le.push(o):Le=[o]:Ce=o}function mt(){if(Ce){var o=Ce,l=Le;if(Le=Ce=null,je(o),l)for(o=0;o<l.length;o++)je(l[o])}}function Yt(o,l){return o(l)}function xn(){}var mn=!1;function Zr(o,l,p){if(mn)return o(l,p);mn=!0;try{return Yt(o,l,p)}finally{mn=!1,(Ce!==null||Le!==null)&&(xn(),mt())}}function Mn(o,l){var p=o.stateNode;if(p===null)return null;var v=fc(p);if(v===null)return null;p=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var ur=!1;if(c)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){ur=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{ur=!1}function Cl(o,l,p,v,S,C,P,W,X){var ge=Array.prototype.slice.call(arguments,3);try{l.apply(p,ge)}catch(Ae){this.onError(Ae)}}var Gt=!1,ya=null,wa=!1,ba=null,jo={onError:function(o){Gt=!0,ya=o}};function Bo(o,l,p,v,S,C,P,W,X){Gt=!1,ya=null,Cl.apply(jo,arguments)}function ly(o,l,p,v,S,C,P,W,X){if(Bo.apply(this,arguments),Gt){if(Gt){var ge=ya;Gt=!1,ya=null}else throw Error(n(198));wa||(wa=!0,ba=ge)}}function Ni(o){var l=o,p=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,l.flags&4098&&(p=l.return),o=l.return;while(o)}return l.tag===3?p:null}function ed(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function jh(o){if(Ni(o)!==o)throw Error(n(188))}function uy(o){var l=o.alternate;if(!l){if(l=Ni(o),l===null)throw Error(n(188));return l!==o?null:o}for(var p=o,v=l;;){var S=p.return;if(S===null)break;var C=S.alternate;if(C===null){if(v=S.return,v!==null){p=v;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===p)return jh(S),o;if(C===v)return jh(S),l;C=C.sibling}throw Error(n(188))}if(p.return!==v.return)p=S,v=C;else{for(var P=!1,W=S.child;W;){if(W===p){P=!0,p=S,v=C;break}if(W===v){P=!0,v=S,p=C;break}W=W.sibling}if(!P){for(W=C.child;W;){if(W===p){P=!0,p=C,v=S;break}if(W===v){P=!0,v=C,p=S;break}W=W.sibling}if(!P)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?o:l}function Bh(o){return o=uy(o),o!==null?Yh(o):null}function Yh(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Yh(o);if(l!==null)return l;o=o.sibling}return null}var Hh=t.unstable_scheduleCallback,Uh=t.unstable_cancelCallback,Pu=t.unstable_shouldYield,cy=t.unstable_requestPaint,tn=t.unstable_now,fy=t.unstable_getCurrentPriorityLevel,td=t.unstable_ImmediatePriority,Vh=t.unstable_UserBlockingPriority,xl=t.unstable_NormalPriority,zh=t.unstable_LowPriority,nd=t.unstable_IdlePriority,ju=null,Ya=null;function dy(o){if(Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(ju,o,void 0,(o.current.flags&128)===128)}catch{}}var Da=Math.clz32?Math.clz32:Wh,$h=Math.log,qh=Math.LN2;function Wh(o){return o>>>=0,o===0?32:31-($h(o)/qh|0)|0}var ys=64,Bu=4194304;function ws(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ii(o,l){var p=o.pendingLanes;if(p===0)return 0;var v=0,S=o.suspendedLanes,C=o.pingedLanes,P=p&268435455;if(P!==0){var W=P&~S;W!==0?v=ws(W):(C&=P,C!==0&&(v=ws(C)))}else P=p&~S,P!==0?v=ws(P):C!==0&&(v=ws(C));if(v===0)return 0;if(l!==0&&l!==v&&!(l&S)&&(S=v&-v,C=l&-l,S>=C||S===16&&(C&4194240)!==0))return l;if(v&4&&(v|=p&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=v;0<l;)p=31-Da(l),S=1<<p,v|=o[p],l&=~S;return v}function Gh(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function py(o,l){for(var p=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,C=o.pendingLanes;0<C;){var P=31-Da(C),W=1<<P,X=S[P];X===-1?(!(W&p)||W&v)&&(S[P]=Gh(W,l)):X<=l&&(o.expiredLanes|=W),C&=~W}}function Yu(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function rd(){var o=ys;return ys<<=1,!(ys&4194240)&&(ys=64),o}function Ml(o){for(var l=[],p=0;31>p;p++)l.push(o);return l}function kl(o,l,p){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Da(l),o[l]=p}function Kh(o,l){var p=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<p;){var S=31-Da(p),C=1<<S;l[S]=0,v[S]=-1,o[S]=-1,p&=~C}}function Fl(o,l){var p=o.entangledLanes|=l;for(o=o.entanglements;p;){var v=31-Da(p),S=1<<v;S&l|o[v]&l&&(o[v]|=l),p&=~S}}var Pt=0;function Ai(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var ad,Hu,Qh,od,id,Uu=!1,Nl=[],Yo=null,Ho=null,Uo=null,bs=new Map,Il=new Map,Vo=[],hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zh(o,l){switch(o){case"focusin":case"focusout":Yo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":bs.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(l.pointerId)}}function Oi(o,l,p,v,S,C){return o===null||o.nativeEvent!==C?(o={blockedOn:l,domEventName:p,eventSystemFlags:v,nativeEvent:C,targetContainers:[S]},l!==null&&(l=Kn(l),l!==null&&Hu(l)),o):(o.eventSystemFlags|=v,l=o.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),o)}function my(o,l,p,v,S){switch(l){case"focusin":return Yo=Oi(Yo,o,l,p,v,S),!0;case"dragenter":return Ho=Oi(Ho,o,l,p,v,S),!0;case"mouseover":return Uo=Oi(Uo,o,l,p,v,S),!0;case"pointerover":var C=S.pointerId;return bs.set(C,Oi(bs.get(C)||null,o,l,p,v,S)),!0;case"gotpointercapture":return C=S.pointerId,Il.set(C,Oi(Il.get(C)||null,o,l,p,v,S)),!0}return!1}function Jh(o){var l=za(o.target);if(l!==null){var p=Ni(l);if(p!==null){if(l=p.tag,l===13){if(l=ed(p),l!==null){o.blockedOn=l,id(o.priority,function(){Qh(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Vu(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var p=qu(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);U=v,p.target.dispatchEvent(v),U=null}else return l=Kn(p),l!==null&&Hu(l),o.blockedOn=p,!1;l.shift()}return!0}function Xh(o,l,p){Vu(o)&&p.delete(l)}function gy(){Uu=!1,Yo!==null&&Vu(Yo)&&(Yo=null),Ho!==null&&Vu(Ho)&&(Ho=null),Uo!==null&&Vu(Uo)&&(Uo=null),bs.forEach(Xh),Il.forEach(Xh)}function Ht(o,l){o.blockedOn===l&&(o.blockedOn=null,Uu||(Uu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gy)))}function jt(o){function l(S){return Ht(S,o)}if(0<Nl.length){Ht(Nl[0],o);for(var p=1;p<Nl.length;p++){var v=Nl[p];v.blockedOn===o&&(v.blockedOn=null)}}for(Yo!==null&&Ht(Yo,o),Ho!==null&&Ht(Ho,o),Uo!==null&&Ht(Uo,o),bs.forEach(l),Il.forEach(l),p=0;p<Vo.length;p++)v=Vo[p],v.blockedOn===o&&(v.blockedOn=null);for(;0<Vo.length&&(p=Vo[0],p.blockedOn===null);)Jh(p),p.blockedOn===null&&Vo.shift()}var Ds=N.ReactCurrentBatchConfig,zu=!0;function vy(o,l,p,v){var S=Pt,C=Ds.transition;Ds.transition=null;try{Pt=1,sd(o,l,p,v)}finally{Pt=S,Ds.transition=C}}function yy(o,l,p,v){var S=Pt,C=Ds.transition;Ds.transition=null;try{Pt=4,sd(o,l,p,v)}finally{Pt=S,Ds.transition=C}}function sd(o,l,p,v){if(zu){var S=qu(o,l,p,v);if(S===null)Td(o,l,v,$u,p),Zh(o,v);else if(my(S,o,l,p,v))v.stopPropagation();else if(Zh(o,v),l&4&&-1<hy.indexOf(o)){for(;S!==null;){var C=Kn(S);if(C!==null&&ad(C),C=qu(o,l,p,v),C===null&&Td(o,l,v,$u,p),C===S)break;S=C}S!==null&&v.stopPropagation()}else Td(o,l,v,null,p)}}var $u=null;function qu(o,l,p,v){if($u=null,o=ne(v),o=za(o),o!==null)if(l=Ni(o),l===null)o=null;else if(p=l.tag,p===13){if(o=ed(l),o!==null)return o;o=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return $u=o,null}function em(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fy()){case td:return 1;case Vh:return 4;case xl:case zh:return 16;case nd:return 536870912;default:return 16}default:return 16}}var nn=null,Al=null,Ha=null;function ld(){if(Ha)return Ha;var o,l=Al,p=l.length,v,S="value"in nn?nn.value:nn.textContent,C=S.length;for(o=0;o<p&&l[o]===S[o];o++);var P=p-o;for(v=1;v<=P&&l[p-v]===S[C-v];v++);return Ha=S.slice(o,1<v?1-v:void 0)}function Ss(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function cr(){return!0}function ud(){return!1}function Er(o){function l(p,v,S,C,P){this._reactName=p,this._targetInst=S,this.type=v,this.nativeEvent=C,this.target=P,this.currentTarget=null;for(var W in o)o.hasOwnProperty(W)&&(p=o[W],this[W]=p?p(C):C[W]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?cr:ud,this.isPropagationStopped=ud,this}return V(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),l}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=Er(Ri),Es=V({},Ri,{view:0,detail:0}),tm=Er(Es),fr,cd,Wn,Gu=V({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:md,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Wn&&(Wn&&o.type==="mousemove"?(fr=o.screenX-Wn.screenX,cd=o.screenY-Wn.screenY):cd=fr=0,Wn=o),fr)},movementY:function(o){return"movementY"in o?o.movementY:cd}}),fd=Er(Gu),zo=V({},Gu,{dataTransfer:0}),Ku=Er(zo),dd=V({},Es,{relatedTarget:0}),qt=Er(dd),$o=V({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),pd=Er($o),wy=V({},Ri,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),hd=Er(wy),by=V({},Ri,{data:0}),nm=Er(by),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ts(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Qu[o])?!!l[o]:!1}function md(){return Ts}var am=V({},Es,{key:function(o){if(o.key){var l=Dy[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Ss(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?rm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:md,charCode:function(o){return o.type==="keypress"?Ss(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ss(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),om=Er(am),gd=V({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zu=Er(gd),im=V({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:md}),Sy=Er(im),vd=V({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),yd=Er(vd),Ey=V({},Gu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),sm=Er(Ey),_r=[9,13,27,32],Ol=c&&"CompositionEvent"in window,co=null;c&&"documentMode"in document&&(co=document.documentMode);var lm=c&&"TextEvent"in window&&!co,wd=c&&(!Ol||co&&8<co&&11>=co),um=" ",cm=!1;function fm(o,l){switch(o){case"keyup":return _r.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Cs=!1;function xs(o,l){switch(o){case"compositionend":return dm(l);case"keypress":return l.which!==32?null:(cm=!0,um);case"textInput":return o=l.data,o===um&&cm?null:o;default:return null}}function Ty(o,l){if(Cs)return o==="compositionend"||!Ol&&fm(o,l)?(o=ld(),Ha=Al=nn=null,Cs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return wd&&l.locale!=="ko"?null:l.data;default:return null}}var Cy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Cy[o.type]:l==="textarea"}function bd(o,l,p,v){He(v),l=sc(l,"onChange"),0<l.length&&(p=new Wu("onChange","change",null,p,v),o.push({event:p,listeners:l}))}var Xr=null,qo=null;function xy(o){wm(o,0)}function Xu(o){var l=St(o);if(Ke(l))return o}function My(o,l){if(o==="change")return l}var Li=!1;if(c){var Pr;if(c){var ec="oninput"in document;if(!ec){var pm=document.createElement("div");pm.setAttribute("oninput","return;"),ec=typeof pm.oninput=="function"}Pr=ec}else Pr=!1;Li=Pr&&(!document.documentMode||9<document.documentMode)}function hm(){Xr&&(Xr.detachEvent("onpropertychange",mm),qo=Xr=null)}function mm(o){if(o.propertyName==="value"&&Xu(qo)){var l=[];bd(l,qo,o,ne(o)),Zr(xy,l)}}function ky(o,l,p){o==="focusin"?(hm(),Xr=l,qo=p,Xr.attachEvent("onpropertychange",mm)):o==="focusout"&&hm()}function Fy(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Xu(qo)}function Ms(o,l){if(o==="click")return Xu(l)}function oe(o,l){if(o==="input"||o==="change")return Xu(l)}function Ee(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var he=typeof Object.is=="function"?Object.is:Ee;function qe(o,l){if(he(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var p=Object.keys(o),v=Object.keys(l);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var S=p[v];if(!d.call(l,S)||!he(o[S],l[S]))return!1}return!0}function bt(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ot(o,l){var p=bt(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=l&&v>=l)return{node:p,offset:l-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=bt(p)}}function wn(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?wn(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function zt(){for(var o=window,l=Xe();l instanceof o.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)o=l.contentWindow;else break;l=Xe(o.document)}return l}function Rl(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function Ny(o){var l=zt(),p=o.focusedElem,v=o.selectionRange;if(l!==p&&p&&p.ownerDocument&&wn(p.ownerDocument.documentElement,p)){if(v!==null&&Rl(p)){if(l=v.start,o=v.end,o===void 0&&(o=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(o,p.value.length);else if(o=(l=p.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var S=p.textContent.length,C=Math.min(v.start,S);v=v.end===void 0?C:Math.min(v.end,S),!o.extend&&C>v&&(S=v,v=C,C=S),S=Ot(p,C);var P=Ot(p,v);S&&P&&(o.rangeCount!==1||o.anchorNode!==S.node||o.anchorOffset!==S.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),o.removeAllRanges(),C>v?(o.addRange(l),o.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),o.addRange(l)))}}for(l=[],o=p;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)o=l[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var ea=c&&"documentMode"in document&&11>=document.documentMode,fo=null,Dd=null,Ua=null,ks=!1;function Ll(o,l,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ks||fo==null||fo!==Xe(v)||(v=fo,"selectionStart"in v&&Rl(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ua&&qe(Ua,v)||(Ua=v,v=sc(Dd,"onSelect"),0<v.length&&(l=new Wu("onSelect","select",null,l,p),o.push({event:l,listeners:v}),l.target=fo)))}function Rt(o,l){var p={};return p[o.toLowerCase()]=l.toLowerCase(),p["Webkit"+o]="webkit"+l,p["Moz"+o]="moz"+l,p}var Fs={animationend:Rt("Animation","AnimationEnd"),animationiteration:Rt("Animation","AnimationIteration"),animationstart:Rt("Animation","AnimationStart"),transitionend:Rt("Transition","TransitionEnd")},tc={},_l={};c&&(_l=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function nc(o){if(tc[o])return tc[o];if(!Fs[o])return o;var l=Fs[o],p;for(p in l)if(l.hasOwnProperty(p)&&p in _l)return tc[o]=l[p];return o}var gm=nc("animationend"),vm=nc("animationiteration"),Pl=nc("animationstart"),po=nc("transitionend"),jl=new Map,Sd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(o,l){jl.set(o,l),i(l,[o])}for(var rc=0;rc<Sd.length;rc++){var ac=Sd[rc],oc=ac.toLowerCase(),ym=ac[0].toUpperCase()+ac.slice(1);Sa(oc,"on"+ym)}Sa(gm,"onAnimationEnd"),Sa(vm,"onAnimationIteration"),Sa(Pl,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(po,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_i=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function Bl(o,l,p){var v=o.type||"unknown-event";o.currentTarget=p,ly(v,l,void 0,o),o.currentTarget=null}function wm(o,l){l=(l&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],S=v.event;v=v.listeners;e:{var C=void 0;if(l)for(var P=v.length-1;0<=P;P--){var W=v[P],X=W.instance,ge=W.currentTarget;if(W=W.listener,X!==C&&S.isPropagationStopped())break e;Bl(S,W,ge),C=X}else for(P=0;P<v.length;P++){if(W=v[P],X=W.instance,ge=W.currentTarget,W=W.listener,X!==C&&S.isPropagationStopped())break e;Bl(S,W,ge),C=X}}}if(wa)throw o=ba,wa=!1,ba=null,o}function Kt(o,l){var p=l[cc];p===void 0&&(p=l[cc]=new Set);var v=o+"__bubble";p.has(v)||(ic(l,o,2,!1),p.add(v))}function Ed(o,l,p){var v=0;l&&(v|=4),ic(p,o,v,l)}var Pi="_reactListening"+Math.random().toString(36).slice(2);function Wo(o){if(!o[Pi]){o[Pi]=!0,r.forEach(function(p){p!=="selectionchange"&&(_i.has(p)||Ed(p,!1,o),Ed(p,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Pi]||(l[Pi]=!0,Ed("selectionchange",!1,l))}}function ic(o,l,p,v){switch(em(l)){case 1:var S=vy;break;case 4:S=yy;break;default:S=sd}p=S.bind(null,l,p,o),S=void 0,!ur||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(l,p,{capture:!0,passive:S}):o.addEventListener(l,p,!0):S!==void 0?o.addEventListener(l,p,{passive:S}):o.addEventListener(l,p,!1)}function Td(o,l,p,v,S){var C=v;if(!(l&1)&&!(l&2)&&v!==null)e:for(;;){if(v===null)return;var P=v.tag;if(P===3||P===4){var W=v.stateNode.containerInfo;if(W===S||W.nodeType===8&&W.parentNode===S)break;if(P===4)for(P=v.return;P!==null;){var X=P.tag;if((X===3||X===4)&&(X=P.stateNode.containerInfo,X===S||X.nodeType===8&&X.parentNode===S))return;P=P.return}for(;W!==null;){if(P=za(W),P===null)return;if(X=P.tag,X===5||X===6){v=C=P;continue e}W=W.parentNode}}v=v.return}Zr(function(){var ge=C,Ae=ne(p),_e=[];e:{var Ie=jl.get(o);if(Ie!==void 0){var We=Wu,Je=o;switch(o){case"keypress":if(Ss(p)===0)break e;case"keydown":case"keyup":We=om;break;case"focusin":Je="focus",We=qt;break;case"focusout":Je="blur",We=qt;break;case"beforeblur":case"afterblur":We=qt;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Sy;break;case gm:case vm:case Pl:We=pd;break;case po:We=yd;break;case"scroll":We=tm;break;case"wheel":We=sm;break;case"copy":case"cut":case"paste":We=hd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=Zu}var et=(l&4)!==0,gn=!et&&o==="scroll",ce=et?Ie!==null?Ie+"Capture":null:Ie;et=[];for(var re=ge,de;re!==null;){de=re;var Pe=de.stateNode;if(de.tag===5&&Pe!==null&&(de=Pe,ce!==null&&(Pe=Mn(re,ce),Pe!=null&&et.push(Ns(re,Pe,de)))),gn)break;re=re.return}0<et.length&&(Ie=new We(Ie,Je,null,p,Ae),_e.push({event:Ie,listeners:et}))}}if(!(l&7)){e:{if(Ie=o==="mouseover"||o==="pointerover",We=o==="mouseout"||o==="pointerout",Ie&&p!==U&&(Je=p.relatedTarget||p.fromElement)&&(za(Je)||Je[jr]))break e;if((We||Ie)&&(Ie=Ae.window===Ae?Ae:(Ie=Ae.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,We?(Je=p.relatedTarget||p.toElement,We=ge,Je=Je?za(Je):null,Je!==null&&(gn=Ni(Je),Je!==gn||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(We=null,Je=ge),We!==Je)){if(et=fd,Pe="onMouseLeave",ce="onMouseEnter",re="mouse",(o==="pointerout"||o==="pointerover")&&(et=Zu,Pe="onPointerLeave",ce="onPointerEnter",re="pointer"),gn=We==null?Ie:St(We),de=Je==null?Ie:St(Je),Ie=new et(Pe,re+"leave",We,p,Ae),Ie.target=gn,Ie.relatedTarget=de,Pe=null,za(Ae)===ge&&(et=new et(ce,re+"enter",Je,p,Ae),et.target=de,et.relatedTarget=gn,Pe=et),gn=Pe,We&&Je)t:{for(et=We,ce=Je,re=0,de=et;de;de=Is(de))re++;for(de=0,Pe=ce;Pe;Pe=Is(Pe))de++;for(;0<re-de;)et=Is(et),re--;for(;0<de-re;)ce=Is(ce),de--;for(;re--;){if(et===ce||ce!==null&&et===ce.alternate)break t;et=Is(et),ce=Is(ce)}et=null}else et=null;We!==null&&bn(_e,Ie,We,et,!1),Je!==null&&gn!==null&&bn(_e,gn,Je,et,!0)}}e:{if(Ie=ge?St(ge):window,We=Ie.nodeName&&Ie.nodeName.toLowerCase(),We==="select"||We==="input"&&Ie.type==="file")var nt=My;else if(Ju(Ie))if(Li)nt=oe;else{nt=Fy;var lt=ky}else(We=Ie.nodeName)&&We.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(nt=Ms);if(nt&&(nt=nt(o,ge))){bd(_e,nt,p,Ae);break e}lt&&lt(o,Ie,ge),o==="focusout"&&(lt=Ie._wrapperState)&&lt.controlled&&Ie.type==="number"&&Ba(Ie,"number",Ie.value)}switch(lt=ge?St(ge):window,o){case"focusin":(Ju(lt)||lt.contentEditable==="true")&&(fo=lt,Dd=ge,Ua=null);break;case"focusout":Ua=Dd=fo=null;break;case"mousedown":ks=!0;break;case"contextmenu":case"mouseup":case"dragend":ks=!1,Ll(_e,p,Ae);break;case"selectionchange":if(ea)break;case"keydown":case"keyup":Ll(_e,p,Ae)}var ft;if(Ol)e:{switch(o){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else Cs?fm(o,p)&&(wt="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(wt="onCompositionStart");wt&&(wd&&p.locale!=="ko"&&(Cs||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Cs&&(ft=ld()):(nn=Ae,Al="value"in nn?nn.value:nn.textContent,Cs=!0)),lt=sc(ge,wt),0<lt.length&&(wt=new nm(wt,o,null,p,Ae),_e.push({event:wt,listeners:lt}),ft?wt.data=ft:(ft=dm(p),ft!==null&&(wt.data=ft)))),(ft=lm?xs(o,p):Ty(o,p))&&(ge=sc(ge,"onBeforeInput"),0<ge.length&&(Ae=new nm("onBeforeInput","beforeinput",null,p,Ae),_e.push({event:Ae,listeners:ge}),Ae.data=ft))}wm(_e,l)})}function Ns(o,l,p){return{instance:o,listener:l,currentTarget:p}}function sc(o,l){for(var p=l+"Capture",v=[];o!==null;){var S=o,C=S.stateNode;S.tag===5&&C!==null&&(S=C,C=Mn(o,p),C!=null&&v.unshift(Ns(o,C,S)),C=Mn(o,l),C!=null&&v.push(Ns(o,C,S))),o=o.return}return v}function Is(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function bn(o,l,p,v,S){for(var C=l._reactName,P=[];p!==null&&p!==v;){var W=p,X=W.alternate,ge=W.stateNode;if(X!==null&&X===v)break;W.tag===5&&ge!==null&&(W=ge,S?(X=Mn(p,C),X!=null&&P.unshift(Ns(p,X,W))):S||(X=Mn(p,C),X!=null&&P.push(Ns(p,X,W)))),p=p.return}P.length!==0&&o.push({event:l,listeners:P})}var Gn=/\r\n?/g,Iy=/\u0000|\uFFFD/g;function bm(o){return(typeof o=="string"?o:""+o).replace(Gn,`
`).replace(Iy,"")}function Yl(o,l,p){if(l=bm(l),bm(o)!==l&&p)throw Error(n(425))}function lc(){}var Hl=null,ji=null;function Ul(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Go=typeof setTimeout=="function"?setTimeout:void 0,Vl=typeof clearTimeout=="function"?clearTimeout:void 0,As=typeof Promise=="function"?Promise:void 0,uc=typeof queueMicrotask=="function"?queueMicrotask:typeof As<"u"?function(o){return As.resolve(null).then(o).catch(Os)}:Go;function Os(o){setTimeout(function(){throw o})}function Cd(o,l){var p=l,v=0;do{var S=p.nextSibling;if(o.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(v===0){o.removeChild(S),jt(l);return}v--}else p!=="$"&&p!=="$?"&&p!=="$!"||v++;p=S}while(p);jt(l)}function Ko(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Dm(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return o;l--}else p==="/$"&&l++}o=o.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),Va="__reactFiber$"+Rs,Qo="__reactProps$"+Rs,jr="__reactContainer$"+Rs,cc="__reactEvents$"+Rs,Y="__reactListeners$"+Rs,Ls="__reactHandles$"+Rs;function za(o){var l=o[Va];if(l)return l;for(var p=o.parentNode;p;){if(l=p[jr]||p[Va]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(o=Dm(o);o!==null;){if(p=o[Va])return p;o=Dm(o)}return l}o=p,p=o.parentNode}return null}function Kn(o){return o=o[Va]||o[jr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function St(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function fc(o){return o[Qo]||null}var xd=[],_s=-1;function Tr(o){return{current:o}}function Qt(o){0>_s||(o.current=xd[_s],xd[_s]=null,_s--)}function Wt(o,l){_s++,xd[_s]=o.current,o.current=l}var Zo={},Qn=Tr(Zo),Cr=Tr(!1),dr=Zo;function Ps(o,l){var p=o.type.contextTypes;if(!p)return Zo;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var S={},C;for(C in p)S[C]=l[C];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=S),S}function xr(o){return o=o.childContextTypes,o!=null}function dc(){Qt(Cr),Qt(Qn)}function Sm(o,l,p){if(Qn.current!==Zo)throw Error(n(168));Wt(Qn,l),Wt(Cr,p)}function Em(o,l,p){var v=o.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return p;v=v.getChildContext();for(var S in v)if(!(S in l))throw Error(n(108,Ye(o)||"Unknown",S));return V({},p,v)}function ta(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Zo,dr=Qn.current,Wt(Qn,o),Wt(Cr,Cr.current),!0}function Tm(o,l,p){var v=o.stateNode;if(!v)throw Error(n(169));p?(o=Em(o,l,dr),v.__reactInternalMemoizedMergedChildContext=o,Qt(Cr),Qt(Qn),Wt(Qn,o)):Qt(Cr),Wt(Cr,p)}var mo=null,pc=!1,Md=!1;function Cm(o){mo===null?mo=[o]:mo.push(o)}function Bi(o){pc=!0,Cm(o)}function Jo(){if(!Md&&mo!==null){Md=!0;var o=0,l=Pt;try{var p=mo;for(Pt=1;o<p.length;o++){var v=p[o];do v=v(!0);while(v!==null)}mo=null,pc=!1}catch(S){throw mo!==null&&(mo=mo.slice(o+1)),Hh(td,Jo),S}finally{Pt=l,Md=!1}}return null}var js=[],Zn=0,hc=null,mc=0,na=[],ra=0,Yi=null,$a=1,qa="";function Hi(o,l){js[Zn++]=mc,js[Zn++]=hc,hc=o,mc=l}function xm(o,l,p){na[ra++]=$a,na[ra++]=qa,na[ra++]=Yi,Yi=o;var v=$a;o=qa;var S=32-Da(v)-1;v&=~(1<<S),p+=1;var C=32-Da(l)+S;if(30<C){var P=S-S%5;C=(v&(1<<P)-1).toString(32),v>>=P,S-=P,$a=1<<32-Da(l)+S|p<<S|v,qa=C+o}else $a=1<<C|p<<S|v,qa=o}function zl(o){o.return!==null&&(Hi(o,1),xm(o,1,0))}function Ui(o){for(;o===hc;)hc=js[--Zn],js[Zn]=null,mc=js[--Zn],js[Zn]=null;for(;o===Yi;)Yi=na[--ra],na[ra]=null,qa=na[--ra],na[ra]=null,$a=na[--ra],na[ra]=null}var Jn=null,Br=null,Zt=!1,Ea=null;function Wa(o,l){var p=zr(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=o,l=o.deletions,l===null?(o.deletions=[p],o.flags|=16):l.push(p)}function gc(o,l){switch(o.tag){case 5:var p=o.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Jn=o,Br=Ko(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Jn=o,Br=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=Yi!==null?{id:$a,overflow:qa}:null,o.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=zr(18,null,null,0),p.stateNode=l,p.return=o,o.child=p,Jn=o,Br=null,!0):!1;default:return!1}}function go(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Mr(o){if(Zt){var l=Br;if(l){var p=l;if(!gc(o,l)){if(go(o))throw Error(n(418));l=Ko(p.nextSibling);var v=Jn;l&&gc(o,l)?Wa(v,p):(o.flags=o.flags&-4097|2,Zt=!1,Jn=o)}}else{if(go(o))throw Error(n(418));o.flags=o.flags&-4097|2,Zt=!1,Jn=o}}}function Mm(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Jn=o}function $l(o){if(o!==Jn)return!1;if(!Zt)return Mm(o),Zt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Ul(o.type,o.memoizedProps)),l&&(l=Br)){if(go(o))throw kd(),Error(n(418));for(;l;)Wa(o,l),l=Ko(l.nextSibling)}if(Mm(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(l===0){Br=Ko(o.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}o=o.nextSibling}Br=null}}else Br=Jn?Ko(o.stateNode.nextSibling):null;return!0}function kd(){for(var o=Br;o;)o=Ko(o.nextSibling)}function Ga(){Br=Jn=null,Zt=!1}function Ka(o){Ea===null?Ea=[o]:Ea.push(o)}var km=N.ReactCurrentBatchConfig;function Ta(o,l){if(o&&o.defaultProps){l=V({},l),o=o.defaultProps;for(var p in o)l[p]===void 0&&(l[p]=o[p]);return l}return l}var Vi=Tr(null),vc=null,zi=null,kn=null;function ql(){kn=zi=vc=null}function yc(o){var l=Vi.current;Qt(Vi),o._currentValue=l}function aa(o,l,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),o===p)break;o=o.return}}function Xo(o,l){vc=o,kn=zi=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&l&&(tr=!0),o.firstContext=null)}function pr(o){var l=o._currentValue;if(kn!==o)if(o={context:o,memoizedValue:l,next:null},zi===null){if(vc===null)throw Error(n(308));zi=o,vc.dependencies={lanes:0,firstContext:o}}else zi=zi.next=o;return l}var Yr=null;function wc(o){Yr===null?Yr=[o]:Yr.push(o)}function Xn(o,l,p,v){var S=l.interleaved;return S===null?(p.next=p,wc(l)):(p.next=S.next,S.next=p),l.interleaved=p,Ca(o,v)}function Ca(o,l){o.lanes|=l;var p=o.alternate;for(p!==null&&(p.lanes|=l),p=o,o=o.return;o!==null;)o.childLanes|=l,p=o.alternate,p!==null&&(p.childLanes|=l),p=o,o=o.return;return p.tag===3?p.stateNode:null}var ei=!1;function Fd(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fm(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function xa(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function ti(o,l,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,It&2){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,Ca(o,p)}return S=v.interleaved,S===null?(l.next=l,wc(v)):(l.next=S.next,S.next=l),v.interleaved=l,Ca(o,p)}function ni(o,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var v=l.lanes;v&=o.pendingLanes,p|=v,l.lanes=p,Fl(o,p)}}function Nd(o,l){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var S=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var P={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};C===null?S=C=P:C=C.next=P,p=p.next}while(p!==null);C===null?S=C=l:C=C.next=l}else S=C=l;p={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:v.shared,effects:v.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=l:o.next=l,p.lastBaseUpdate=l}function bc(o,l,p,v){var S=o.updateQueue;ei=!1;var C=S.firstBaseUpdate,P=S.lastBaseUpdate,W=S.shared.pending;if(W!==null){S.shared.pending=null;var X=W,ge=X.next;X.next=null,P===null?C=ge:P.next=ge,P=X;var Ae=o.alternate;Ae!==null&&(Ae=Ae.updateQueue,W=Ae.lastBaseUpdate,W!==P&&(W===null?Ae.firstBaseUpdate=ge:W.next=ge,Ae.lastBaseUpdate=X))}if(C!==null){var _e=S.baseState;P=0,Ae=ge=X=null,W=C;do{var Ie=W.lane,We=W.eventTime;if((v&Ie)===Ie){Ae!==null&&(Ae=Ae.next={eventTime:We,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Je=o,et=W;switch(Ie=l,We=p,et.tag){case 1:if(Je=et.payload,typeof Je=="function"){_e=Je.call(We,_e,Ie);break e}_e=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=et.payload,Ie=typeof Je=="function"?Je.call(We,_e,Ie):Je,Ie==null)break e;_e=V({},_e,Ie);break e;case 2:ei=!0}}W.callback!==null&&W.lane!==0&&(o.flags|=64,Ie=S.effects,Ie===null?S.effects=[W]:Ie.push(W))}else We={eventTime:We,lane:Ie,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Ae===null?(ge=Ae=We,X=_e):Ae=Ae.next=We,P|=Ie;if(W=W.next,W===null){if(W=S.shared.pending,W===null)break;Ie=W,W=Ie.next,Ie.next=null,S.lastBaseUpdate=Ie,S.shared.pending=null}}while(!0);if(Ae===null&&(X=_e),S.baseState=X,S.firstBaseUpdate=ge,S.lastBaseUpdate=Ae,l=S.shared.interleaved,l!==null){S=l;do P|=S.lane,S=S.next;while(S!==l)}else C===null&&(S.shared.lanes=0);ui|=P,o.lanes=P,o.memoizedState=_e}}function Nm(o,l,p){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var v=o[l],S=v.callback;if(S!==null){if(v.callback=null,v=p,typeof S!="function")throw Error(n(191,S));S.call(v)}}}var Bs=new e.Component().refs;function Id(o,l,p,v){l=o.memoizedState,p=p(v,l),p=p==null?l:V({},l,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var Dc={isMounted:function(o){return(o=o._reactInternals)?Ni(o)===o:!1},enqueueSetState:function(o,l,p){o=o._reactInternals;var v=gr(),S=fi(o),C=xa(v,S);C.payload=l,p!=null&&(C.callback=p),l=ti(o,C,S),l!==null&&(Na(l,o,S,v),ni(l,o,S))},enqueueReplaceState:function(o,l,p){o=o._reactInternals;var v=gr(),S=fi(o),C=xa(v,S);C.tag=1,C.payload=l,p!=null&&(C.callback=p),l=ti(o,C,S),l!==null&&(Na(l,o,S,v),ni(l,o,S))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var p=gr(),v=fi(o),S=xa(p,v);S.tag=2,l!=null&&(S.callback=l),l=ti(o,S,v),l!==null&&(Na(l,o,v,p),ni(l,o,v))}};function Sc(o,l,p,v,S,C,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,C,P):l.prototype&&l.prototype.isPureReactComponent?!qe(p,v)||!qe(S,C):!0}function Ad(o,l,p){var v=!1,S=Zo,C=l.contextType;return typeof C=="object"&&C!==null?C=pr(C):(S=xr(l)?dr:Qn.current,v=l.contextTypes,C=(v=v!=null)?Ps(o,S):Zo),l=new l(p,C),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Dc,o.stateNode=l,l._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=S,o.__reactInternalMemoizedMaskedChildContext=C),l}function Im(o,l,p,v){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,v),l.state!==o&&Dc.enqueueReplaceState(l,l.state,null)}function Od(o,l,p,v){var S=o.stateNode;S.props=p,S.state=o.memoizedState,S.refs=Bs,Fd(o);var C=l.contextType;typeof C=="object"&&C!==null?S.context=pr(C):(C=xr(l)?dr:Qn.current,S.context=Ps(o,C)),S.state=o.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Id(o,l,C,p),S.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&Dc.enqueueReplaceState(S,S.state,null),bc(o,p,S,v),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308)}function Wl(o,l,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var v=p.stateNode}if(!v)throw Error(n(147,o));var S=v,C=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===C?l.ref:(l=function(P){var W=S.refs;W===Bs&&(W=S.refs={}),P===null?delete W[C]:W[C]=P},l._stringRef=C,l)}if(typeof o!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,o))}return o}function Gl(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Ec(o){var l=o._init;return l(o._payload)}function Am(o){function l(ce,re){if(o){var de=ce.deletions;de===null?(ce.deletions=[re],ce.flags|=16):de.push(re)}}function p(ce,re){if(!o)return null;for(;re!==null;)l(ce,re),re=re.sibling;return null}function v(ce,re){for(ce=new Map;re!==null;)re.key!==null?ce.set(re.key,re):ce.set(re.index,re),re=re.sibling;return ce}function S(ce,re){return ce=hi(ce,re),ce.index=0,ce.sibling=null,ce}function C(ce,re,de){return ce.index=de,o?(de=ce.alternate,de!==null?(de=de.index,de<re?(ce.flags|=2,re):de):(ce.flags|=2,re)):(ce.flags|=1048576,re)}function P(ce){return o&&ce.alternate===null&&(ce.flags|=2),ce}function W(ce,re,de,Pe){return re===null||re.tag!==6?(re=gp(de,ce.mode,Pe),re.return=ce,re):(re=S(re,de),re.return=ce,re)}function X(ce,re,de,Pe){var nt=de.type;return nt===_?Ae(ce,re,de.props.children,Pe,de.key):re!==null&&(re.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===be&&Ec(nt)===re.type)?(Pe=S(re,de.props),Pe.ref=Wl(ce,re,de),Pe.return=ce,Pe):(Pe=Jc(de.type,de.key,de.props,null,ce.mode,Pe),Pe.ref=Wl(ce,re,de),Pe.return=ce,Pe)}function ge(ce,re,de,Pe){return re===null||re.tag!==4||re.stateNode.containerInfo!==de.containerInfo||re.stateNode.implementation!==de.implementation?(re=vp(de,ce.mode,Pe),re.return=ce,re):(re=S(re,de.children||[]),re.return=ce,re)}function Ae(ce,re,de,Pe,nt){return re===null||re.tag!==7?(re=Zi(de,ce.mode,Pe,nt),re.return=ce,re):(re=S(re,de),re.return=ce,re)}function _e(ce,re,de){if(typeof re=="string"&&re!==""||typeof re=="number")return re=gp(""+re,ce.mode,de),re.return=ce,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case j:return de=Jc(re.type,re.key,re.props,null,ce.mode,de),de.ref=Wl(ce,null,re),de.return=ce,de;case R:return re=vp(re,ce.mode,de),re.return=ce,re;case be:var Pe=re._init;return _e(ce,Pe(re._payload),de)}if(cn(re)||ve(re))return re=Zi(re,ce.mode,de,null),re.return=ce,re;Gl(ce,re)}return null}function Ie(ce,re,de,Pe){var nt=re!==null?re.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return nt!==null?null:W(ce,re,""+de,Pe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case j:return de.key===nt?X(ce,re,de,Pe):null;case R:return de.key===nt?ge(ce,re,de,Pe):null;case be:return nt=de._init,Ie(ce,re,nt(de._payload),Pe)}if(cn(de)||ve(de))return nt!==null?null:Ae(ce,re,de,Pe,null);Gl(ce,de)}return null}function We(ce,re,de,Pe,nt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ce=ce.get(de)||null,W(re,ce,""+Pe,nt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case j:return ce=ce.get(Pe.key===null?de:Pe.key)||null,X(re,ce,Pe,nt);case R:return ce=ce.get(Pe.key===null?de:Pe.key)||null,ge(re,ce,Pe,nt);case be:var lt=Pe._init;return We(ce,re,de,lt(Pe._payload),nt)}if(cn(Pe)||ve(Pe))return ce=ce.get(de)||null,Ae(re,ce,Pe,nt,null);Gl(re,Pe)}return null}function Je(ce,re,de,Pe){for(var nt=null,lt=null,ft=re,wt=re=0,Pn=null;ft!==null&&wt<de.length;wt++){ft.index>wt?(Pn=ft,ft=null):Pn=ft.sibling;var Lt=Ie(ce,ft,de[wt],Pe);if(Lt===null){ft===null&&(ft=Pn);break}o&&ft&&Lt.alternate===null&&l(ce,ft),re=C(Lt,re,wt),lt===null?nt=Lt:lt.sibling=Lt,lt=Lt,ft=Pn}if(wt===de.length)return p(ce,ft),Zt&&Hi(ce,wt),nt;if(ft===null){for(;wt<de.length;wt++)ft=_e(ce,de[wt],Pe),ft!==null&&(re=C(ft,re,wt),lt===null?nt=ft:lt.sibling=ft,lt=ft);return Zt&&Hi(ce,wt),nt}for(ft=v(ce,ft);wt<de.length;wt++)Pn=We(ft,ce,wt,de[wt],Pe),Pn!==null&&(o&&Pn.alternate!==null&&ft.delete(Pn.key===null?wt:Pn.key),re=C(Pn,re,wt),lt===null?nt=Pn:lt.sibling=Pn,lt=Pn);return o&&ft.forEach(function(mi){return l(ce,mi)}),Zt&&Hi(ce,wt),nt}function et(ce,re,de,Pe){var nt=ve(de);if(typeof nt!="function")throw Error(n(150));if(de=nt.call(de),de==null)throw Error(n(151));for(var lt=nt=null,ft=re,wt=re=0,Pn=null,Lt=de.next();ft!==null&&!Lt.done;wt++,Lt=de.next()){ft.index>wt?(Pn=ft,ft=null):Pn=ft.sibling;var mi=Ie(ce,ft,Lt.value,Pe);if(mi===null){ft===null&&(ft=Pn);break}o&&ft&&mi.alternate===null&&l(ce,ft),re=C(mi,re,wt),lt===null?nt=mi:lt.sibling=mi,lt=mi,ft=Pn}if(Lt.done)return p(ce,ft),Zt&&Hi(ce,wt),nt;if(ft===null){for(;!Lt.done;wt++,Lt=de.next())Lt=_e(ce,Lt.value,Pe),Lt!==null&&(re=C(Lt,re,wt),lt===null?nt=Lt:lt.sibling=Lt,lt=Lt);return Zt&&Hi(ce,wt),nt}for(ft=v(ce,ft);!Lt.done;wt++,Lt=de.next())Lt=We(ft,ce,wt,Lt.value,Pe),Lt!==null&&(o&&Lt.alternate!==null&&ft.delete(Lt.key===null?wt:Lt.key),re=C(Lt,re,wt),lt===null?nt=Lt:lt.sibling=Lt,lt=Lt);return o&&ft.forEach(function(Zy){return l(ce,Zy)}),Zt&&Hi(ce,wt),nt}function gn(ce,re,de,Pe){if(typeof de=="object"&&de!==null&&de.type===_&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case j:e:{for(var nt=de.key,lt=re;lt!==null;){if(lt.key===nt){if(nt=de.type,nt===_){if(lt.tag===7){p(ce,lt.sibling),re=S(lt,de.props.children),re.return=ce,ce=re;break e}}else if(lt.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===be&&Ec(nt)===lt.type){p(ce,lt.sibling),re=S(lt,de.props),re.ref=Wl(ce,lt,de),re.return=ce,ce=re;break e}p(ce,lt);break}else l(ce,lt);lt=lt.sibling}de.type===_?(re=Zi(de.props.children,ce.mode,Pe,de.key),re.return=ce,ce=re):(Pe=Jc(de.type,de.key,de.props,null,ce.mode,Pe),Pe.ref=Wl(ce,re,de),Pe.return=ce,ce=Pe)}return P(ce);case R:e:{for(lt=de.key;re!==null;){if(re.key===lt)if(re.tag===4&&re.stateNode.containerInfo===de.containerInfo&&re.stateNode.implementation===de.implementation){p(ce,re.sibling),re=S(re,de.children||[]),re.return=ce,ce=re;break e}else{p(ce,re);break}else l(ce,re);re=re.sibling}re=vp(de,ce.mode,Pe),re.return=ce,ce=re}return P(ce);case be:return lt=de._init,gn(ce,re,lt(de._payload),Pe)}if(cn(de))return Je(ce,re,de,Pe);if(ve(de))return et(ce,re,de,Pe);Gl(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,re!==null&&re.tag===6?(p(ce,re.sibling),re=S(re,de),re.return=ce,ce=re):(p(ce,re),re=gp(de,ce.mode,Pe),re.return=ce,ce=re),P(ce)):p(ce,re)}return gn}var ri=Am(!0),Rd=Am(!1),Ys={},Ma=Tr(Ys),ai=Tr(Ys),Kl=Tr(Ys);function oi(o){if(o===Ys)throw Error(n(174));return o}function Tc(o,l){switch(Wt(Kl,l),Wt(ai,o),Wt(Ma,Ys),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Qr(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Qr(l,o)}Qt(Ma),Wt(Ma,l)}function Hs(){Qt(Ma),Qt(ai),Qt(Kl)}function Ld(o){oi(Kl.current);var l=oi(Ma.current),p=Qr(l,o.type);l!==p&&(Wt(ai,o),Wt(Ma,p))}function _d(o){ai.current===o&&(Qt(Ma),Qt(ai))}var Jt=Tr(0);function Ql(o){for(var l=o;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Zl=[];function Pd(){for(var o=0;o<Zl.length;o++)Zl[o]._workInProgressVersionPrimary=null;Zl.length=0}var Us=N.ReactCurrentDispatcher,Et=N.ReactCurrentBatchConfig,$i=0,an=null,on=null,Fn=null,Cc=!1,Jl=!1,er=0,Ay=0;function Nn(){throw Error(n(321))}function Xl(o,l){if(l===null)return!1;for(var p=0;p<l.length&&p<o.length;p++)if(!he(o[p],l[p]))return!1;return!0}function xc(o,l,p,v,S,C){if($i=C,an=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Us.current=o===null||o.memoizedState===null?tu:Ry,o=p(v,S),Jl){C=0;do{if(Jl=!1,er=0,25<=C)throw Error(n(301));C+=1,Fn=on=null,l.updateQueue=null,Us.current=Bm,o=p(v,S)}while(Jl)}if(Us.current=wo,l=on!==null&&on.next!==null,$i=0,Fn=on=an=null,Cc=!1,l)throw Error(n(300));return o}function Mc(){var o=er!==0;return er=0,o}function fn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?an.memoizedState=Fn=o:Fn=Fn.next=o,Fn}function In(){if(on===null){var o=an.alternate;o=o!==null?o.memoizedState:null}else o=on.next;var l=Fn===null?an.memoizedState:Fn.next;if(l!==null)Fn=l,on=o;else{if(o===null)throw Error(n(310));on=o,o={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Fn===null?an.memoizedState=Fn=o:Fn=Fn.next=o}return Fn}function qi(o,l){return typeof l=="function"?l(o):l}function kc(o){var l=In(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var v=on,S=v.baseQueue,C=p.pending;if(C!==null){if(S!==null){var P=S.next;S.next=C.next,C.next=P}v.baseQueue=S=C,p.pending=null}if(S!==null){C=S.next,v=v.baseState;var W=P=null,X=null,ge=C;do{var Ae=ge.lane;if(($i&Ae)===Ae)X!==null&&(X=X.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),v=ge.hasEagerState?ge.eagerState:o(v,ge.action);else{var _e={lane:Ae,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};X===null?(W=X=_e,P=v):X=X.next=_e,an.lanes|=Ae,ui|=Ae}ge=ge.next}while(ge!==null&&ge!==C);X===null?P=v:X.next=W,he(v,l.memoizedState)||(tr=!0),l.memoizedState=v,l.baseState=P,l.baseQueue=X,p.lastRenderedState=v}if(o=p.interleaved,o!==null){S=o;do C=S.lane,an.lanes|=C,ui|=C,S=S.next;while(S!==o)}else S===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function Vs(o){var l=In(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var v=p.dispatch,S=p.pending,C=l.memoizedState;if(S!==null){p.pending=null;var P=S=S.next;do C=o(C,P.action),P=P.next;while(P!==S);he(C,l.memoizedState)||(tr=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),p.lastRenderedState=C}return[C,v]}function jd(){}function Fc(o,l){var p=an,v=In(),S=l(),C=!he(v.memoizedState,S);if(C&&(v.memoizedState=S,tr=!0),v=v.queue,Hd(Ic.bind(null,p,v,o),[o]),v.getSnapshot!==l||C||Fn!==null&&Fn.memoizedState.tag&1){if(p.flags|=2048,zs(9,Nc.bind(null,p,v,S,l),void 0,null),_n===null)throw Error(n(349));$i&30||Bd(p,l,S)}return S}function Bd(o,l,p){o.flags|=16384,o={getSnapshot:l,value:p},l=an.updateQueue,l===null?(l={lastEffect:null,stores:null},an.updateQueue=l,l.stores=[o]):(p=l.stores,p===null?l.stores=[o]:p.push(o))}function Nc(o,l,p,v){l.value=p,l.getSnapshot=v,vo(l)&&Om(o)}function Ic(o,l,p){return p(function(){vo(l)&&Om(o)})}function vo(o){var l=o.getSnapshot;o=o.value;try{var p=l();return!he(o,p)}catch{return!0}}function Om(o){var l=Ca(o,1);l!==null&&Na(l,o,1,-1)}function yo(o){var l=fn();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:o},l.queue=o,o=o.dispatch=Pm.bind(null,an,o),[l.memoizedState,o]}function zs(o,l,p,v){return o={tag:o,create:l,destroy:p,deps:v,next:null},l=an.updateQueue,l===null?(l={lastEffect:null,stores:null},an.updateQueue=l,l.lastEffect=o.next=o):(p=l.lastEffect,p===null?l.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,l.lastEffect=o)),o}function Yd(){return In().memoizedState}function $s(o,l,p,v){var S=fn();an.flags|=o,S.memoizedState=zs(1|l,p,void 0,v===void 0?null:v)}function Ac(o,l,p,v){var S=In();v=v===void 0?null:v;var C=void 0;if(on!==null){var P=on.memoizedState;if(C=P.destroy,v!==null&&Xl(v,P.deps)){S.memoizedState=zs(l,p,C,v);return}}an.flags|=o,S.memoizedState=zs(1|l,p,C,v)}function Rm(o,l){return $s(8390656,8,o,l)}function Hd(o,l){return Ac(2048,8,o,l)}function Ud(o,l){return Ac(4,2,o,l)}function Vd(o,l){return Ac(4,4,o,l)}function Lm(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function zd(o,l,p){return p=p!=null?p.concat([o]):null,Ac(4,4,Lm.bind(null,l,o),p)}function Oc(){}function hr(o,l){var p=In();l=l===void 0?null:l;var v=p.memoizedState;return v!==null&&l!==null&&Xl(l,v[1])?v[0]:(p.memoizedState=[o,l],o)}function ka(o,l){var p=In();l=l===void 0?null:l;var v=p.memoizedState;return v!==null&&l!==null&&Xl(l,v[1])?v[0]:(o=o(),p.memoizedState=[o,l],o)}function _m(o,l,p){return $i&21?(he(p,l)||(p=rd(),an.lanes|=p,ui|=p,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,tr=!0),o.memoizedState=p)}function Oy(o,l){var p=Pt;Pt=p!==0&&4>p?p:4,o(!0);var v=Et.transition;Et.transition={};try{o(!1),l()}finally{Pt=p,Et.transition=v}}function eu(){return In().memoizedState}function qs(o,l,p){var v=fi(o);if(p={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null},$d(o))jm(l,p);else if(p=Xn(o,l,p,v),p!==null){var S=gr();Na(p,o,v,S),qd(p,l,v)}}function Pm(o,l,p){var v=fi(o),S={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null};if($d(o))jm(l,S);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var P=l.lastRenderedState,W=C(P,p);if(S.hasEagerState=!0,S.eagerState=W,he(W,P)){var X=l.interleaved;X===null?(S.next=S,wc(l)):(S.next=X.next,X.next=S),l.interleaved=S;return}}catch{}p=Xn(o,l,S,v),p!==null&&(S=gr(),Na(p,o,v,S),qd(p,l,v))}}function $d(o){var l=o.alternate;return o===an||l!==null&&l===an}function jm(o,l){Jl=Cc=!0;var p=o.pending;p===null?l.next=l:(l.next=p.next,p.next=l),o.pending=l}function qd(o,l,p){if(p&4194240){var v=l.lanes;v&=o.pendingLanes,p|=v,l.lanes=p,Fl(o,p)}}var wo={readContext:pr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},tu={readContext:pr,useCallback:function(o,l){return fn().memoizedState=[o,l===void 0?null:l],o},useContext:pr,useEffect:Rm,useImperativeHandle:function(o,l,p){return p=p!=null?p.concat([o]):null,$s(4194308,4,Lm.bind(null,l,o),p)},useLayoutEffect:function(o,l){return $s(4194308,4,o,l)},useInsertionEffect:function(o,l){return $s(4,2,o,l)},useMemo:function(o,l){var p=fn();return l=l===void 0?null:l,o=o(),p.memoizedState=[o,l],o},useReducer:function(o,l,p){var v=fn();return l=p!==void 0?p(l):l,v.memoizedState=v.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},v.queue=o,o=o.dispatch=qs.bind(null,an,o),[v.memoizedState,o]},useRef:function(o){var l=fn();return o={current:o},l.memoizedState=o},useState:yo,useDebugValue:Oc,useDeferredValue:function(o){return fn().memoizedState=o},useTransition:function(){var o=yo(!1),l=o[0];return o=Oy.bind(null,o[1]),fn().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,p){var v=an,S=fn();if(Zt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),_n===null)throw Error(n(349));$i&30||Bd(v,l,p)}S.memoizedState=p;var C={value:p,getSnapshot:l};return S.queue=C,Rm(Ic.bind(null,v,C,o),[o]),v.flags|=2048,zs(9,Nc.bind(null,v,C,p,l),void 0,null),p},useId:function(){var o=fn(),l=_n.identifierPrefix;if(Zt){var p=qa,v=$a;p=(v&~(1<<32-Da(v)-1)).toString(32)+p,l=":"+l+"R"+p,p=er++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=Ay++,l=":"+l+"r"+p.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},Ry={readContext:pr,useCallback:hr,useContext:pr,useEffect:Hd,useImperativeHandle:zd,useInsertionEffect:Ud,useLayoutEffect:Vd,useMemo:ka,useReducer:kc,useRef:Yd,useState:function(){return kc(qi)},useDebugValue:Oc,useDeferredValue:function(o){var l=In();return _m(l,on.memoizedState,o)},useTransition:function(){var o=kc(qi)[0],l=In().memoizedState;return[o,l]},useMutableSource:jd,useSyncExternalStore:Fc,useId:eu,unstable_isNewReconciler:!1},Bm={readContext:pr,useCallback:hr,useContext:pr,useEffect:Hd,useImperativeHandle:zd,useInsertionEffect:Ud,useLayoutEffect:Vd,useMemo:ka,useReducer:Vs,useRef:Yd,useState:function(){return Vs(qi)},useDebugValue:Oc,useDeferredValue:function(o){var l=In();return on===null?l.memoizedState=o:_m(l,on.memoizedState,o)},useTransition:function(){var o=Vs(qi)[0],l=In().memoizedState;return[o,l]},useMutableSource:jd,useSyncExternalStore:Fc,useId:eu,unstable_isNewReconciler:!1};function Wi(o,l){try{var p="",v=l;do p+=De(v),v=v.return;while(v);var S=p}catch(C){S=`
Error generating stack: `+C.message+`
`+C.stack}return{value:o,source:l,stack:S,digest:null}}function Ws(o,l,p){return{value:o,source:null,stack:p??null,digest:l??null}}function Rc(o,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var Lc=typeof WeakMap=="function"?WeakMap:Map;function _c(o,l,p){p=xa(-1,p),p.tag=3,p.payload={element:null};var v=l.value;return p.callback=function(){qc||(qc=!0,sp=v),Rc(o,l)},p}function nu(o,l,p){p=xa(-1,p),p.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var S=l.value;p.payload=function(){return v(S)},p.callback=function(){Rc(o,l)}}var C=o.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(p.callback=function(){Rc(o,l),typeof v!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),p}function Ym(o,l,p){var v=o.pingCache;if(v===null){v=o.pingCache=new Lc;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(p)||(S.add(p),o=Uy.bind(null,o,l,p),l.then(o,o))}function Wd(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function ru(o,l,p,v,S){return o.mode&1?(o.flags|=65536,o.lanes=S,o):(o===l?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=xa(-1,1),l.tag=2,ti(p,l,1))),p.lanes|=1),o)}var Hm=N.ReactCurrentOwner,tr=!1;function mr(o,l,p,v){l.child=o===null?Rd(l,null,p,v):ri(l,o.child,p,v)}function Gd(o,l,p,v,S){p=p.render;var C=l.ref;return Xo(l,S),v=xc(o,l,p,v,C,S),p=Mc(),o!==null&&!tr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,Ja(o,l,S)):(Zt&&p&&zl(l),l.flags|=1,mr(o,l,v,S),l.child)}function Qa(o,l,p,v,S){if(o===null){var C=p.type;return typeof C=="function"&&!mp(C)&&C.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=C,Kd(o,l,C,v,S)):(o=Jc(p.type,null,v,l,l.mode,S),o.ref=l.ref,o.return=l,l.child=o)}if(C=o.child,!(o.lanes&S)){var P=C.memoizedProps;if(p=p.compare,p=p!==null?p:qe,p(P,v)&&o.ref===l.ref)return Ja(o,l,S)}return l.flags|=1,o=hi(C,v),o.ref=l.ref,o.return=l,l.child=o}function Kd(o,l,p,v,S){if(o!==null){var C=o.memoizedProps;if(qe(C,v)&&o.ref===l.ref)if(tr=!1,l.pendingProps=v=C,(o.lanes&S)!==0)o.flags&131072&&(tr=!0);else return l.lanes=o.lanes,Ja(o,l,S)}return Pc(o,l,p,v,S)}function Qd(o,l,p){var v=l.pendingProps,S=v.children,C=o!==null?o.memoizedState:null;if(v.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Js,Vr),Vr|=p;else{if(!(p&1073741824))return o=C!==null?C.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Wt(Js,Vr),Vr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:p,Wt(Js,Vr),Vr|=v}else C!==null?(v=C.baseLanes|p,l.memoizedState=null):v=p,Wt(Js,Vr),Vr|=v;return mr(o,l,S,p),l.child}function Um(o,l){var p=l.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function Pc(o,l,p,v,S){var C=xr(p)?dr:Qn.current;return C=Ps(l,C),Xo(l,S),p=xc(o,l,p,v,C,S),v=Mc(),o!==null&&!tr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,Ja(o,l,S)):(Zt&&v&&zl(l),l.flags|=1,mr(o,l,p,S),l.child)}function Vm(o,l,p,v,S){if(xr(p)){var C=!0;ta(l)}else C=!1;if(Xo(l,S),l.stateNode===null)Gs(o,l),Ad(l,p,v),Od(l,p,v,S),v=!0;else if(o===null){var P=l.stateNode,W=l.memoizedProps;P.props=W;var X=P.context,ge=p.contextType;typeof ge=="object"&&ge!==null?ge=pr(ge):(ge=xr(p)?dr:Qn.current,ge=Ps(l,ge));var Ae=p.getDerivedStateFromProps,_e=typeof Ae=="function"||typeof P.getSnapshotBeforeUpdate=="function";_e||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W!==v||X!==ge)&&Im(l,P,v,ge),ei=!1;var Ie=l.memoizedState;P.state=Ie,bc(l,v,P,S),X=l.memoizedState,W!==v||Ie!==X||Cr.current||ei?(typeof Ae=="function"&&(Id(l,p,Ae,v),X=l.memoizedState),(W=ei||Sc(l,p,W,v,Ie,X,ge))?(_e||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=X),P.props=v,P.state=X,P.context=ge,v=W):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{P=l.stateNode,Fm(o,l),W=l.memoizedProps,ge=l.type===l.elementType?W:Ta(l.type,W),P.props=ge,_e=l.pendingProps,Ie=P.context,X=p.contextType,typeof X=="object"&&X!==null?X=pr(X):(X=xr(p)?dr:Qn.current,X=Ps(l,X));var We=p.getDerivedStateFromProps;(Ae=typeof We=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W!==_e||Ie!==X)&&Im(l,P,v,X),ei=!1,Ie=l.memoizedState,P.state=Ie,bc(l,v,P,S);var Je=l.memoizedState;W!==_e||Ie!==Je||Cr.current||ei?(typeof We=="function"&&(Id(l,p,We,v),Je=l.memoizedState),(ge=ei||Sc(l,p,ge,v,Ie,Je,X)||!1)?(Ae||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(v,Je,X),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(v,Je,X)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||W===o.memoizedProps&&Ie===o.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&Ie===o.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Je),P.props=v,P.state=Je,P.context=X,v=ge):(typeof P.componentDidUpdate!="function"||W===o.memoizedProps&&Ie===o.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&Ie===o.memoizedState||(l.flags|=1024),v=!1)}return Zd(o,l,p,v,C,S)}function Zd(o,l,p,v,S,C){Um(o,l);var P=(l.flags&128)!==0;if(!v&&!P)return S&&Tm(l,p,!1),Ja(o,l,C);v=l.stateNode,Hm.current=l;var W=P&&typeof p.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,o!==null&&P?(l.child=ri(l,o.child,null,C),l.child=ri(l,null,W,C)):mr(o,l,W,C),l.memoizedState=v.state,S&&Tm(l,p,!0),l.child}function Za(o){var l=o.stateNode;l.pendingContext?Sm(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Sm(o,l.context,!1),Tc(o,l.containerInfo)}function jc(o,l,p,v,S){return Ga(),Ka(S),l.flags|=256,mr(o,l,p,v),l.child}var au={dehydrated:null,treeContext:null,retryLane:0};function ou(o){return{baseLanes:o,cachePool:null,transitions:null}}function iu(o,l,p){var v=l.pendingProps,S=Jt.current,C=!1,P=(l.flags&128)!==0,W;if((W=P)||(W=o!==null&&o.memoizedState===null?!1:(S&2)!==0),W?(C=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(S|=1),Wt(Jt,S&1),o===null)return Mr(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(l.mode&1?o.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(P=v.children,o=v.fallback,C?(v=l.mode,C=l.child,P={mode:"hidden",children:P},!(v&1)&&C!==null?(C.childLanes=0,C.pendingProps=P):C=Xc(P,v,0,null),o=Zi(o,v,p,null),C.return=l,o.return=l,C.sibling=o,l.child=C,l.child.memoizedState=ou(p),l.memoizedState=au,o):ii(l,P));if(S=o.memoizedState,S!==null&&(W=S.dehydrated,W!==null))return Bc(o,l,P,v,W,S,p);if(C){C=v.fallback,P=l.mode,S=o.child,W=S.sibling;var X={mode:"hidden",children:v.children};return!(P&1)&&l.child!==S?(v=l.child,v.childLanes=0,v.pendingProps=X,l.deletions=null):(v=hi(S,X),v.subtreeFlags=S.subtreeFlags&14680064),W!==null?C=hi(W,C):(C=Zi(C,P,p,null),C.flags|=2),C.return=l,v.return=l,v.sibling=C,l.child=v,v=C,C=l.child,P=o.child.memoizedState,P=P===null?ou(p):{baseLanes:P.baseLanes|p,cachePool:null,transitions:P.transitions},C.memoizedState=P,C.childLanes=o.childLanes&~p,l.memoizedState=au,v}return C=o.child,o=C.sibling,v=hi(C,{mode:"visible",children:v.children}),!(l.mode&1)&&(v.lanes=p),v.return=l,v.sibling=null,o!==null&&(p=l.deletions,p===null?(l.deletions=[o],l.flags|=16):p.push(o)),l.child=v,l.memoizedState=null,v}function ii(o,l){return l=Xc({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function st(o,l,p,v){return v!==null&&Ka(v),ri(l,o.child,null,p),o=ii(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Bc(o,l,p,v,S,C,P){if(p)return l.flags&256?(l.flags&=-257,v=Ws(Error(n(422))),st(o,l,P,v)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(C=v.fallback,S=l.mode,v=Xc({mode:"visible",children:v.children},S,0,null),C=Zi(C,S,P,null),C.flags|=2,v.return=l,C.return=l,v.sibling=C,l.child=v,l.mode&1&&ri(l,o.child,null,P),l.child.memoizedState=ou(P),l.memoizedState=au,C);if(!(l.mode&1))return st(o,l,P,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var W=v.dgst;return v=W,C=Error(n(419)),v=Ws(C,v,void 0),st(o,l,P,v)}if(W=(P&o.childLanes)!==0,tr||W){if(v=_n,v!==null){switch(P&-P){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=S&(v.suspendedLanes|P)?0:S,S!==0&&S!==C.retryLane&&(C.retryLane=S,Ca(o,S),Na(v,o,S,-1))}return pp(),v=Ws(Error(n(421))),st(o,l,P,v)}return S.data==="$?"?(l.flags|=128,l.child=o.child,l=Vy.bind(null,o),S._reactRetry=l,null):(o=C.treeContext,Br=Ko(S.nextSibling),Jn=l,Zt=!0,Ea=null,o!==null&&(na[ra++]=$a,na[ra++]=qa,na[ra++]=Yi,$a=o.id,qa=o.overflow,Yi=l),l=ii(l,v.children),l.flags|=4096,l)}function Yc(o,l,p){o.lanes|=l;var v=o.alternate;v!==null&&(v.lanes|=l),aa(o.return,l,p)}function bo(o,l,p,v,S){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:S}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=p,C.tailMode=S)}function zm(o,l,p){var v=l.pendingProps,S=v.revealOrder,C=v.tail;if(mr(o,l,v.children,p),v=Jt.current,v&2)v=v&1|2,l.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Yc(o,p,l);else if(o.tag===19)Yc(o,p,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if(Wt(Jt,v),!(l.mode&1))l.memoizedState=null;else switch(S){case"forwards":for(p=l.child,S=null;p!==null;)o=p.alternate,o!==null&&Ql(o)===null&&(S=p),p=p.sibling;p=S,p===null?(S=l.child,l.child=null):(S=p.sibling,p.sibling=null),bo(l,!1,S,p,C);break;case"backwards":for(p=null,S=l.child,l.child=null;S!==null;){if(o=S.alternate,o!==null&&Ql(o)===null){l.child=S;break}o=S.sibling,S.sibling=p,p=S,S=o}bo(l,!0,p,null,C);break;case"together":bo(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Gs(o,l){!(l.mode&1)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Ja(o,l,p){if(o!==null&&(l.dependencies=o.dependencies),ui|=l.lanes,!(p&l.childLanes))return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,p=hi(o,o.pendingProps),l.child=p,p.return=l;o.sibling!==null;)o=o.sibling,p=p.sibling=hi(o,o.pendingProps),p.return=l;p.sibling=null}return l.child}function nr(o,l,p){switch(l.tag){case 3:Za(l),Ga();break;case 5:Ld(l);break;case 1:xr(l.type)&&ta(l);break;case 4:Tc(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,S=l.memoizedProps.value;Wt(Vi,v._currentValue),v._currentValue=S;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(Wt(Jt,Jt.current&1),l.flags|=128,null):p&l.child.childLanes?iu(o,l,p):(Wt(Jt,Jt.current&1),o=Ja(o,l,p),o!==null?o.sibling:null);Wt(Jt,Jt.current&1);break;case 19:if(v=(p&l.childLanes)!==0,o.flags&128){if(v)return zm(o,l,p);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Wt(Jt,Jt.current),v)break;return null;case 22:case 23:return l.lanes=0,Qd(o,l,p)}return Ja(o,l,p)}var $m,Jd,Xd,qm;$m=function(o,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Jd=function(){},Xd=function(o,l,p,v){var S=o.memoizedProps;if(S!==v){o=l.stateNode,oi(Ma.current);var C=null;switch(p){case"input":S=Ge(o,S),v=Ge(o,v),C=[];break;case"select":S=V({},S,{value:void 0}),v=V({},v,{value:void 0}),C=[];break;case"textarea":S=br(o,S),v=br(o,v),C=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=lc)}Po(p,v);var P;p=null;for(ge in S)if(!v.hasOwnProperty(ge)&&S.hasOwnProperty(ge)&&S[ge]!=null)if(ge==="style"){var W=S[ge];for(P in W)W.hasOwnProperty(P)&&(p||(p={}),p[P]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(a.hasOwnProperty(ge)?C||(C=[]):(C=C||[]).push(ge,null));for(ge in v){var X=v[ge];if(W=S!=null?S[ge]:void 0,v.hasOwnProperty(ge)&&X!==W&&(X!=null||W!=null))if(ge==="style")if(W){for(P in W)!W.hasOwnProperty(P)||X&&X.hasOwnProperty(P)||(p||(p={}),p[P]="");for(P in X)X.hasOwnProperty(P)&&W[P]!==X[P]&&(p||(p={}),p[P]=X[P])}else p||(C||(C=[]),C.push(ge,p)),p=X;else ge==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,W=W?W.__html:void 0,X!=null&&W!==X&&(C=C||[]).push(ge,X)):ge==="children"?typeof X!="string"&&typeof X!="number"||(C=C||[]).push(ge,""+X):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(a.hasOwnProperty(ge)?(X!=null&&ge==="onScroll"&&Kt("scroll",o),C||W===X||(C=[])):(C=C||[]).push(ge,X))}p&&(C=C||[]).push("style",p);var ge=C;(l.updateQueue=ge)&&(l.flags|=4)}},qm=function(o,l,p,v){p!==v&&(l.flags|=4)};function Ks(o,l){if(!Zt)switch(o.tailMode){case"hidden":l=o.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function rr(o){var l=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(l)for(var S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=p,l}function Ly(o,l,p){var v=l.pendingProps;switch(Ui(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(l),null;case 1:return xr(l.type)&&dc(),rr(l),null;case 3:return v=l.stateNode,Hs(),Qt(Cr),Qt(Qn),Pd(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&($l(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Ea!==null&&(cp(Ea),Ea=null))),Jd(o,l),rr(l),null;case 5:_d(l);var S=oi(Kl.current);if(p=l.type,o!==null&&l.stateNode!=null)Xd(o,l,p,v,S),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(n(166));return rr(l),null}if(o=oi(Ma.current),$l(l)){v=l.stateNode,p=l.type;var C=l.memoizedProps;switch(v[Va]=l,v[Qo]=C,o=(l.mode&1)!==0,p){case"dialog":Kt("cancel",v),Kt("close",v);break;case"iframe":case"object":case"embed":Kt("load",v);break;case"video":case"audio":for(S=0;S<ho.length;S++)Kt(ho[S],v);break;case"source":Kt("error",v);break;case"img":case"image":case"link":Kt("error",v),Kt("load",v);break;case"details":Kt("toggle",v);break;case"input":tt(v,C),Kt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!C.multiple},Kt("invalid",v);break;case"textarea":Dr(v,C),Kt("invalid",v)}Po(p,C),S=null;for(var P in C)if(C.hasOwnProperty(P)){var W=C[P];P==="children"?typeof W=="string"?v.textContent!==W&&(C.suppressHydrationWarning!==!0&&Yl(v.textContent,W,o),S=["children",W]):typeof W=="number"&&v.textContent!==""+W&&(C.suppressHydrationWarning!==!0&&Yl(v.textContent,W,o),S=["children",""+W]):a.hasOwnProperty(P)&&W!=null&&P==="onScroll"&&Kt("scroll",v)}switch(p){case"input":Ve(v),Vt(v,C,!0);break;case"textarea":Ve(v),va(v);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(v.onclick=lc)}v=S,l.updateQueue=v,v!==null&&(l.flags|=4)}else{P=S.nodeType===9?S:S.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=so(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=P.createElement(p,{is:v.is}):(o=P.createElement(p),p==="select"&&(P=o,v.multiple?P.multiple=!0:v.size&&(P.size=v.size))):o=P.createElementNS(o,p),o[Va]=l,o[Qo]=v,$m(o,l,!1,!1),l.stateNode=o;e:{switch(P=Fi(p,v),p){case"dialog":Kt("cancel",o),Kt("close",o),S=v;break;case"iframe":case"object":case"embed":Kt("load",o),S=v;break;case"video":case"audio":for(S=0;S<ho.length;S++)Kt(ho[S],o);S=v;break;case"source":Kt("error",o),S=v;break;case"img":case"image":case"link":Kt("error",o),Kt("load",o),S=v;break;case"details":Kt("toggle",o),S=v;break;case"input":tt(o,v),S=Ge(o,v),Kt("invalid",o);break;case"option":S=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},S=V({},v,{value:void 0}),Kt("invalid",o);break;case"textarea":Dr(o,v),S=br(o,v),Kt("invalid",o);break;default:S=v}Po(p,S),W=S;for(C in W)if(W.hasOwnProperty(C)){var X=W[C];C==="style"?ki(o,X):C==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&gs(o,X)):C==="children"?typeof X=="string"?(p!=="textarea"||X!=="")&&lo(o,X):typeof X=="number"&&lo(o,""+X):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(a.hasOwnProperty(C)?X!=null&&C==="onScroll"&&Kt("scroll",o):X!=null&&B(o,C,X,P))}switch(p){case"input":Ve(o),Vt(o,v,!1);break;case"textarea":Ve(o),va(o);break;case"option":v.value!=null&&o.setAttribute("value",""+Be(v.value));break;case"select":o.multiple=!!v.multiple,C=v.value,C!=null?en(o,!!v.multiple,C,!1):v.defaultValue!=null&&en(o,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(o.onclick=lc)}switch(p){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return rr(l),null;case 6:if(o&&l.stateNode!=null)qm(o,l,o.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(p=oi(Kl.current),oi(Ma.current),$l(l)){if(v=l.stateNode,p=l.memoizedProps,v[Va]=l,(C=v.nodeValue!==p)&&(o=Jn,o!==null))switch(o.tag){case 3:Yl(v.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Yl(v.nodeValue,p,(o.mode&1)!==0)}C&&(l.flags|=4)}else v=(p.nodeType===9?p:p.ownerDocument).createTextNode(v),v[Va]=l,l.stateNode=v}return rr(l),null;case 13:if(Qt(Jt),v=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Zt&&Br!==null&&l.mode&1&&!(l.flags&128))kd(),Ga(),l.flags|=98560,C=!1;else if(C=$l(l),v!==null&&v.dehydrated!==null){if(o===null){if(!C)throw Error(n(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[Va]=l}else Ga(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;rr(l),C=!1}else Ea!==null&&(cp(Ea),Ea=null),C=!0;if(!C)return l.flags&65536?l:null}return l.flags&128?(l.lanes=p,l):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(l.child.flags|=8192,l.mode&1&&(o===null||Jt.current&1?An===0&&(An=3):pp())),l.updateQueue!==null&&(l.flags|=4),rr(l),null);case 4:return Hs(),Jd(o,l),o===null&&Wo(l.stateNode.containerInfo),rr(l),null;case 10:return yc(l.type._context),rr(l),null;case 17:return xr(l.type)&&dc(),rr(l),null;case 19:if(Qt(Jt),C=l.memoizedState,C===null)return rr(l),null;if(v=(l.flags&128)!==0,P=C.rendering,P===null)if(v)Ks(C,!1);else{if(An!==0||o!==null&&o.flags&128)for(o=l.child;o!==null;){if(P=Ql(o),P!==null){for(l.flags|=128,Ks(C,!1),v=P.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=p,p=l.child;p!==null;)C=p,o=v,C.flags&=14680066,P=C.alternate,P===null?(C.childLanes=0,C.lanes=o,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=P.childLanes,C.lanes=P.lanes,C.child=P.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=P.memoizedProps,C.memoizedState=P.memoizedState,C.updateQueue=P.updateQueue,C.type=P.type,o=P.dependencies,C.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return Wt(Jt,Jt.current&1|2),l.child}o=o.sibling}C.tail!==null&&tn()>el&&(l.flags|=128,v=!0,Ks(C,!1),l.lanes=4194304)}else{if(!v)if(o=Ql(P),o!==null){if(l.flags|=128,v=!0,p=o.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),Ks(C,!0),C.tail===null&&C.tailMode==="hidden"&&!P.alternate&&!Zt)return rr(l),null}else 2*tn()-C.renderingStartTime>el&&p!==1073741824&&(l.flags|=128,v=!0,Ks(C,!1),l.lanes=4194304);C.isBackwards?(P.sibling=l.child,l.child=P):(p=C.last,p!==null?p.sibling=P:l.child=P,C.last=P)}return C.tail!==null?(l=C.tail,C.rendering=l,C.tail=l.sibling,C.renderingStartTime=tn(),l.sibling=null,p=Jt.current,Wt(Jt,v?p&1|2:p&1),l):(rr(l),null);case 22:case 23:return dp(),v=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(l.flags|=8192),v&&l.mode&1?Vr&1073741824&&(rr(l),l.subtreeFlags&6&&(l.flags|=8192)):rr(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function _y(o,l){switch(Ui(l),l.tag){case 1:return xr(l.type)&&dc(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Hs(),Qt(Cr),Qt(Qn),Pd(),o=l.flags,o&65536&&!(o&128)?(l.flags=o&-65537|128,l):null;case 5:return _d(l),null;case 13:if(Qt(Jt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ga()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Qt(Jt),null;case 4:return Hs(),null;case 10:return yc(l.type._context),null;case 22:case 23:return dp(),null;case 24:return null;default:return null}}var oa=!1,Bt=!1,ep=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function si(o,l){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(v){dn(o,l,v)}else p.current=null}function tp(o,l,p){try{p()}catch(v){dn(o,l,v)}}var Wm=!1;function su(o,l){if(Hl=zu,o=zt(),Rl(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var S=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var P=0,W=-1,X=-1,ge=0,Ae=0,_e=o,Ie=null;t:for(;;){for(var We;_e!==p||S!==0&&_e.nodeType!==3||(W=P+S),_e!==C||v!==0&&_e.nodeType!==3||(X=P+v),_e.nodeType===3&&(P+=_e.nodeValue.length),(We=_e.firstChild)!==null;)Ie=_e,_e=We;for(;;){if(_e===o)break t;if(Ie===p&&++ge===S&&(W=P),Ie===C&&++Ae===v&&(X=P),(We=_e.nextSibling)!==null)break;_e=Ie,Ie=_e.parentNode}_e=We}p=W===-1||X===-1?null:{start:W,end:X}}else p=null}p=p||{start:0,end:0}}else p=null;for(ji={focusedElem:o,selectionRange:p},zu=!1,Qe=l;Qe!==null;)if(l=Qe,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Qe=o;else for(;Qe!==null;){l=Qe;try{var Je=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var et=Je.memoizedProps,gn=Je.memoizedState,ce=l.stateNode,re=ce.getSnapshotBeforeUpdate(l.elementType===l.type?et:Ta(l.type,et),gn);ce.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var de=l.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Pe){dn(l,l.return,Pe)}if(o=l.sibling,o!==null){o.return=l.return,Qe=o;break}Qe=l.return}return Je=Wm,Wm=!1,Je}function Qs(o,l,p){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&o)===o){var C=S.destroy;S.destroy=void 0,C!==void 0&&tp(l,p,C)}S=S.next}while(S!==v)}}function lu(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&o)===o){var v=p.create;p.destroy=v()}p=p.next}while(p!==l)}}function np(o){var l=o.ref;if(l!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof l=="function"?l(o):l.current=o}}function Gm(o){var l=o.alternate;l!==null&&(o.alternate=null,Gm(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Va],delete l[Qo],delete l[cc],delete l[Y],delete l[Ls])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Km(o){return o.tag===5||o.tag===3||o.tag===4}function Qm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Km(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hc(o,l,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(o,l):p.insertBefore(o,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(o,p)):(l=p,l.appendChild(o)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=lc));else if(v!==4&&(o=o.child,o!==null))for(Hc(o,l,p),o=o.sibling;o!==null;)Hc(o,l,p),o=o.sibling}function Uc(o,l,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?p.insertBefore(o,l):p.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(Uc(o,l,p),o=o.sibling;o!==null;)Uc(o,l,p),o=o.sibling}var Yn=null,Hr=!1;function Do(o,l,p){for(p=p.child;p!==null;)Zs(o,l,p),p=p.sibling}function Zs(o,l,p){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(ju,p)}catch{}switch(p.tag){case 5:Bt||si(p,l);case 6:var v=Yn,S=Hr;Yn=null,Do(o,l,p),Yn=v,Hr=S,Yn!==null&&(Hr?(o=Yn,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Yn.removeChild(p.stateNode));break;case 18:Yn!==null&&(Hr?(o=Yn,p=p.stateNode,o.nodeType===8?Cd(o.parentNode,p):o.nodeType===1&&Cd(o,p),jt(o)):Cd(Yn,p.stateNode));break;case 4:v=Yn,S=Hr,Yn=p.stateNode.containerInfo,Hr=!0,Do(o,l,p),Yn=v,Hr=S;break;case 0:case 11:case 14:case 15:if(!Bt&&(v=p.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var C=S,P=C.destroy;C=C.tag,P!==void 0&&(C&2||C&4)&&tp(p,l,P),S=S.next}while(S!==v)}Do(o,l,p);break;case 1:if(!Bt&&(si(p,l),v=p.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=p.memoizedProps,v.state=p.memoizedState,v.componentWillUnmount()}catch(W){dn(p,l,W)}Do(o,l,p);break;case 21:Do(o,l,p);break;case 22:p.mode&1?(Bt=(v=Bt)||p.memoizedState!==null,Do(o,l,p),Bt=v):Do(o,l,p);break;default:Do(o,l,p)}}function Vc(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new ep),l.forEach(function(v){var S=zy.bind(null,o,v);p.has(v)||(p.add(v),v.then(S,S))})}}function ia(o,l){var p=l.deletions;if(p!==null)for(var v=0;v<p.length;v++){var S=p[v];try{var C=o,P=l,W=P;e:for(;W!==null;){switch(W.tag){case 5:Yn=W.stateNode,Hr=!1;break e;case 3:Yn=W.stateNode.containerInfo,Hr=!0;break e;case 4:Yn=W.stateNode.containerInfo,Hr=!0;break e}W=W.return}if(Yn===null)throw Error(n(160));Zs(C,P,S),Yn=null,Hr=!1;var X=S.alternate;X!==null&&(X.return=null),S.return=null}catch(ge){dn(S,l,ge)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)rp(l,o),l=l.sibling}function rp(o,l){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ia(l,o),Ur(o),v&4){try{Qs(3,o,o.return),lu(3,o)}catch(et){dn(o,o.return,et)}try{Qs(5,o,o.return)}catch(et){dn(o,o.return,et)}}break;case 1:ia(l,o),Ur(o),v&512&&p!==null&&si(p,p.return);break;case 5:if(ia(l,o),Ur(o),v&512&&p!==null&&si(p,p.return),o.flags&32){var S=o.stateNode;try{lo(S,"")}catch(et){dn(o,o.return,et)}}if(v&4&&(S=o.stateNode,S!=null)){var C=o.memoizedProps,P=p!==null?p.memoizedProps:C,W=o.type,X=o.updateQueue;if(o.updateQueue=null,X!==null)try{W==="input"&&C.type==="radio"&&C.name!=null&&Dt(S,C),Fi(W,P);var ge=Fi(W,C);for(P=0;P<X.length;P+=2){var Ae=X[P],_e=X[P+1];Ae==="style"?ki(S,_e):Ae==="dangerouslySetInnerHTML"?gs(S,_e):Ae==="children"?lo(S,_e):B(S,Ae,_e,ge)}switch(W){case"input":dt(S,C);break;case"textarea":_o(S,C);break;case"select":var Ie=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!C.multiple;var We=C.value;We!=null?en(S,!!C.multiple,We,!1):Ie!==!!C.multiple&&(C.defaultValue!=null?en(S,!!C.multiple,C.defaultValue,!0):en(S,!!C.multiple,C.multiple?[]:"",!1))}S[Qo]=C}catch(et){dn(o,o.return,et)}}break;case 6:if(ia(l,o),Ur(o),v&4){if(o.stateNode===null)throw Error(n(162));S=o.stateNode,C=o.memoizedProps;try{S.nodeValue=C}catch(et){dn(o,o.return,et)}}break;case 3:if(ia(l,o),Ur(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{jt(l.containerInfo)}catch(et){dn(o,o.return,et)}break;case 4:ia(l,o),Ur(o);break;case 13:ia(l,o),Ur(o),S=o.child,S.flags&8192&&(C=S.memoizedState!==null,S.stateNode.isHidden=C,!C||S.alternate!==null&&S.alternate.memoizedState!==null||($c=tn())),v&4&&Vc(o);break;case 22:if(Ae=p!==null&&p.memoizedState!==null,o.mode&1?(Bt=(ge=Bt)||Ae,ia(l,o),Bt=ge):ia(l,o),Ur(o),v&8192){if(ge=o.memoizedState!==null,(o.stateNode.isHidden=ge)&&!Ae&&o.mode&1)for(Qe=o,Ae=o.child;Ae!==null;){for(_e=Qe=Ae;Qe!==null;){switch(Ie=Qe,We=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:Qs(4,Ie,Ie.return);break;case 1:si(Ie,Ie.return);var Je=Ie.stateNode;if(typeof Je.componentWillUnmount=="function"){v=Ie,p=Ie.return;try{l=v,Je.props=l.memoizedProps,Je.state=l.memoizedState,Je.componentWillUnmount()}catch(et){dn(v,p,et)}}break;case 5:si(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){Jm(_e);continue}}We!==null?(We.return=Ie,Qe=We):Jm(_e)}Ae=Ae.sibling}e:for(Ae=null,_e=o;;){if(_e.tag===5){if(Ae===null){Ae=_e;try{S=_e.stateNode,ge?(C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(W=_e.stateNode,X=_e.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null,W.style.display=Mi("display",P))}catch(et){dn(o,o.return,et)}}}else if(_e.tag===6){if(Ae===null)try{_e.stateNode.nodeValue=ge?"":_e.memoizedProps}catch(et){dn(o,o.return,et)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===o)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===o)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===o)break e;Ae===_e&&(Ae=null),_e=_e.return}Ae===_e&&(Ae=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ia(l,o),Ur(o),v&4&&Vc(o);break;case 21:break;default:ia(l,o),Ur(o)}}function Ur(o){var l=o.flags;if(l&2){try{e:{for(var p=o.return;p!==null;){if(Km(p)){var v=p;break e}p=p.return}throw Error(n(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(lo(S,""),v.flags&=-33);var C=Qm(o);Uc(o,C,S);break;case 3:case 4:var P=v.stateNode.containerInfo,W=Qm(o);Hc(o,W,P);break;default:throw Error(n(161))}}catch(X){dn(o,o.return,X)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Zm(o,l,p){Qe=o,Fa(o)}function Fa(o,l,p){for(var v=(o.mode&1)!==0;Qe!==null;){var S=Qe,C=S.child;if(S.tag===22&&v){var P=S.memoizedState!==null||oa;if(!P){var W=S.alternate,X=W!==null&&W.memoizedState!==null||Bt;W=oa;var ge=Bt;if(oa=P,(Bt=X)&&!ge)for(Qe=S;Qe!==null;)P=Qe,X=P.child,P.tag===22&&P.memoizedState!==null?ap(S):X!==null?(X.return=P,Qe=X):ap(S);for(;C!==null;)Qe=C,Fa(C),C=C.sibling;Qe=S,oa=W,Bt=ge}li(o)}else S.subtreeFlags&8772&&C!==null?(C.return=S,Qe=C):li(o)}}function li(o){for(;Qe!==null;){var l=Qe;if(l.flags&8772){var p=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Bt||lu(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!Bt)if(p===null)v.componentDidMount();else{var S=l.elementType===l.type?p.memoizedProps:Ta(l.type,p.memoizedProps);v.componentDidUpdate(S,p.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=l.updateQueue;C!==null&&Nm(l,C,v);break;case 3:var P=l.updateQueue;if(P!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}Nm(l,P,p)}break;case 5:var W=l.stateNode;if(p===null&&l.flags&4){p=W;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&p.focus();break;case"img":X.src&&(p.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ge=l.alternate;if(ge!==null){var Ae=ge.memoizedState;if(Ae!==null){var _e=Ae.dehydrated;_e!==null&&jt(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bt||l.flags&512&&np(l)}catch(Ie){dn(l,l.return,Ie)}}if(l===o){Qe=null;break}if(p=l.sibling,p!==null){p.return=l.return,Qe=p;break}Qe=l.return}}function Jm(o){for(;Qe!==null;){var l=Qe;if(l===o){Qe=null;break}var p=l.sibling;if(p!==null){p.return=l.return,Qe=p;break}Qe=l.return}}function ap(o){for(;Qe!==null;){var l=Qe;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{lu(4,l)}catch(X){dn(l,p,X)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var S=l.return;try{v.componentDidMount()}catch(X){dn(l,S,X)}}var C=l.return;try{np(l)}catch(X){dn(l,C,X)}break;case 5:var P=l.return;try{np(l)}catch(X){dn(l,P,X)}}}catch(X){dn(l,l.return,X)}if(l===o){Qe=null;break}var W=l.sibling;if(W!==null){W.return=l.return,Qe=W;break}Qe=l.return}}var Py=Math.ceil,zc=N.ReactCurrentDispatcher,op=N.ReactCurrentOwner,sa=N.ReactCurrentBatchConfig,It=0,_n=null,Dn=null,Hn=0,Vr=0,Js=Tr(0),An=0,Xs=null,ui=0,uu=0,ip=0,cu=null,kr=null,$c=0,el=1/0,So=null,qc=!1,sp=null,ci=null,Wc=!1,On=null,Gc=0,fu=0,lp=null,du=-1,Kc=0;function gr(){return It&6?tn():du!==-1?du:du=tn()}function fi(o){return o.mode&1?It&2&&Hn!==0?Hn&-Hn:km.transition!==null?(Kc===0&&(Kc=rd()),Kc):(o=Pt,o!==0||(o=window.event,o=o===void 0?16:em(o.type)),o):1}function Na(o,l,p,v){if(50<fu)throw fu=0,lp=null,Error(n(185));kl(o,p,v),(!(It&2)||o!==_n)&&(o===_n&&(!(It&2)&&(uu|=p),An===4&&di(o,Hn)),ar(o,v),p===1&&It===0&&!(l.mode&1)&&(el=tn()+500,pc&&Jo()))}function ar(o,l){var p=o.callbackNode;py(o,l);var v=Ii(o,o===_n?Hn:0);if(v===0)p!==null&&Uh(p),o.callbackNode=null,o.callbackPriority=0;else if(l=v&-v,o.callbackPriority!==l){if(p!=null&&Uh(p),l===1)o.tag===0?Bi(eg.bind(null,o)):Cm(eg.bind(null,o)),uc(function(){!(It&6)&&Jo()}),p=null;else{switch(Ai(v)){case 1:p=td;break;case 4:p=Vh;break;case 16:p=xl;break;case 536870912:p=nd;break;default:p=xl}p=sg(p,Xm.bind(null,o))}o.callbackPriority=l,o.callbackNode=p}}function Xm(o,l){if(du=-1,Kc=0,It&6)throw Error(n(327));var p=o.callbackNode;if(pi()&&o.callbackNode!==p)return null;var v=Ii(o,o===_n?Hn:0);if(v===0)return null;if(v&30||v&o.expiredLanes||l)l=Qc(o,v);else{l=v;var S=It;It|=2;var C=ng();(_n!==o||Hn!==l)&&(So=null,el=tn()+500,Ki(o,l));do try{Yy();break}catch(W){tg(o,W)}while(!0);ql(),zc.current=C,It=S,Dn!==null?l=0:(_n=null,Hn=0,l=An)}if(l!==0){if(l===2&&(S=Yu(o),S!==0&&(v=S,l=up(o,S))),l===1)throw p=Xs,Ki(o,0),di(o,v),ar(o,tn()),p;if(l===6)di(o,v);else{if(S=o.current.alternate,!(v&30)&&!jy(S)&&(l=Qc(o,v),l===2&&(C=Yu(o),C!==0&&(v=C,l=up(o,C))),l===1))throw p=Xs,Ki(o,0),di(o,v),ar(o,tn()),p;switch(o.finishedWork=S,o.finishedLanes=v,l){case 0:case 1:throw Error(n(345));case 2:Qi(o,kr,So);break;case 3:if(di(o,v),(v&130023424)===v&&(l=$c+500-tn(),10<l)){if(Ii(o,0)!==0)break;if(S=o.suspendedLanes,(S&v)!==v){gr(),o.pingedLanes|=o.suspendedLanes&S;break}o.timeoutHandle=Go(Qi.bind(null,o,kr,So),l);break}Qi(o,kr,So);break;case 4:if(di(o,v),(v&4194240)===v)break;for(l=o.eventTimes,S=-1;0<v;){var P=31-Da(v);C=1<<P,P=l[P],P>S&&(S=P),v&=~C}if(v=S,v=tn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Py(v/1960))-v,10<v){o.timeoutHandle=Go(Qi.bind(null,o,kr,So),v);break}Qi(o,kr,So);break;case 5:Qi(o,kr,So);break;default:throw Error(n(329))}}}return ar(o,tn()),o.callbackNode===p?Xm.bind(null,o):null}function up(o,l){var p=cu;return o.current.memoizedState.isDehydrated&&(Ki(o,l).flags|=256),o=Qc(o,l),o!==2&&(l=kr,kr=p,l!==null&&cp(l)),o}function cp(o){kr===null?kr=o:kr.push.apply(kr,o)}function jy(o){for(var l=o;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var v=0;v<p.length;v++){var S=p[v],C=S.getSnapshot;S=S.value;try{if(!he(C(),S))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function di(o,l){for(l&=~ip,l&=~uu,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var p=31-Da(l),v=1<<p;o[p]=-1,l&=~v}}function eg(o){if(It&6)throw Error(n(327));pi();var l=Ii(o,0);if(!(l&1))return ar(o,tn()),null;var p=Qc(o,l);if(o.tag!==0&&p===2){var v=Yu(o);v!==0&&(l=v,p=up(o,v))}if(p===1)throw p=Xs,Ki(o,0),di(o,l),ar(o,tn()),p;if(p===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Qi(o,kr,So),ar(o,tn()),null}function fp(o,l){var p=It;It|=1;try{return o(l)}finally{It=p,It===0&&(el=tn()+500,pc&&Jo())}}function Gi(o){On!==null&&On.tag===0&&!(It&6)&&pi();var l=It;It|=1;var p=sa.transition,v=Pt;try{if(sa.transition=null,Pt=1,o)return o()}finally{Pt=v,sa.transition=p,It=l,!(It&6)&&Jo()}}function dp(){Vr=Js.current,Qt(Js)}function Ki(o,l){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,Vl(p)),Dn!==null)for(p=Dn.return;p!==null;){var v=p;switch(Ui(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&dc();break;case 3:Hs(),Qt(Cr),Qt(Qn),Pd();break;case 5:_d(v);break;case 4:Hs();break;case 13:Qt(Jt);break;case 19:Qt(Jt);break;case 10:yc(v.type._context);break;case 22:case 23:dp()}p=p.return}if(_n=o,Dn=o=hi(o.current,null),Hn=Vr=l,An=0,Xs=null,ip=uu=ui=0,kr=cu=null,Yr!==null){for(l=0;l<Yr.length;l++)if(p=Yr[l],v=p.interleaved,v!==null){p.interleaved=null;var S=v.next,C=p.pending;if(C!==null){var P=C.next;C.next=S,v.next=P}p.pending=v}Yr=null}return o}function tg(o,l){do{var p=Dn;try{if(ql(),Us.current=wo,Cc){for(var v=an.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}Cc=!1}if($i=0,Fn=on=an=null,Jl=!1,er=0,op.current=null,p===null||p.return===null){An=1,Xs=l,Dn=null;break}e:{var C=o,P=p.return,W=p,X=l;if(l=Hn,W.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ge=X,Ae=W,_e=Ae.tag;if(!(Ae.mode&1)&&(_e===0||_e===11||_e===15)){var Ie=Ae.alternate;Ie?(Ae.updateQueue=Ie.updateQueue,Ae.memoizedState=Ie.memoizedState,Ae.lanes=Ie.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var We=Wd(P);if(We!==null){We.flags&=-257,ru(We,P,W,C,l),We.mode&1&&Ym(C,ge,l),l=We,X=ge;var Je=l.updateQueue;if(Je===null){var et=new Set;et.add(X),l.updateQueue=et}else Je.add(X);break e}else{if(!(l&1)){Ym(C,ge,l),pp();break e}X=Error(n(426))}}else if(Zt&&W.mode&1){var gn=Wd(P);if(gn!==null){!(gn.flags&65536)&&(gn.flags|=256),ru(gn,P,W,C,l),Ka(Wi(X,W));break e}}C=X=Wi(X,W),An!==4&&(An=2),cu===null?cu=[C]:cu.push(C),C=P;do{switch(C.tag){case 3:C.flags|=65536,l&=-l,C.lanes|=l;var ce=_c(C,X,l);Nd(C,ce);break e;case 1:W=X;var re=C.type,de=C.stateNode;if(!(C.flags&128)&&(typeof re.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(ci===null||!ci.has(de)))){C.flags|=65536,l&=-l,C.lanes|=l;var Pe=nu(C,W,l);Nd(C,Pe);break e}}C=C.return}while(C!==null)}ag(p)}catch(nt){l=nt,Dn===p&&p!==null&&(Dn=p=p.return);continue}break}while(!0)}function ng(){var o=zc.current;return zc.current=wo,o===null?wo:o}function pp(){(An===0||An===3||An===2)&&(An=4),_n===null||!(ui&268435455)&&!(uu&268435455)||di(_n,Hn)}function Qc(o,l){var p=It;It|=2;var v=ng();(_n!==o||Hn!==l)&&(So=null,Ki(o,l));do try{By();break}catch(S){tg(o,S)}while(!0);if(ql(),It=p,zc.current=v,Dn!==null)throw Error(n(261));return _n=null,Hn=0,An}function By(){for(;Dn!==null;)rg(Dn)}function Yy(){for(;Dn!==null&&!Pu();)rg(Dn)}function rg(o){var l=ig(o.alternate,o,Vr);o.memoizedProps=o.pendingProps,l===null?ag(o):Dn=l,op.current=null}function ag(o){var l=o;do{var p=l.alternate;if(o=l.return,l.flags&32768){if(p=_y(p,l),p!==null){p.flags&=32767,Dn=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{An=6,Dn=null;return}}else if(p=Ly(p,l,Vr),p!==null){Dn=p;return}if(l=l.sibling,l!==null){Dn=l;return}Dn=l=o}while(l!==null);An===0&&(An=5)}function Qi(o,l,p){var v=Pt,S=sa.transition;try{sa.transition=null,Pt=1,Hy(o,l,p,v)}finally{sa.transition=S,Pt=v}return null}function Hy(o,l,p,v){do pi();while(On!==null);if(It&6)throw Error(n(327));p=o.finishedWork;var S=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var C=p.lanes|p.childLanes;if(Kh(o,C),o===_n&&(Dn=_n=null,Hn=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||Wc||(Wc=!0,sg(xl,function(){return pi(),null})),C=(p.flags&15990)!==0,p.subtreeFlags&15990||C){C=sa.transition,sa.transition=null;var P=Pt;Pt=1;var W=It;It|=4,op.current=null,su(o,p),rp(p,o),Ny(ji),zu=!!Hl,ji=Hl=null,o.current=p,Zm(p),cy(),It=W,Pt=P,sa.transition=C}else o.current=p;if(Wc&&(Wc=!1,On=o,Gc=S),C=o.pendingLanes,C===0&&(ci=null),dy(p.stateNode),ar(o,tn()),l!==null)for(v=o.onRecoverableError,p=0;p<l.length;p++)S=l[p],v(S.value,{componentStack:S.stack,digest:S.digest});if(qc)throw qc=!1,o=sp,sp=null,o;return Gc&1&&o.tag!==0&&pi(),C=o.pendingLanes,C&1?o===lp?fu++:(fu=0,lp=o):fu=0,Jo(),null}function pi(){if(On!==null){var o=Ai(Gc),l=sa.transition,p=Pt;try{if(sa.transition=null,Pt=16>o?16:o,On===null)var v=!1;else{if(o=On,On=null,Gc=0,It&6)throw Error(n(331));var S=It;for(It|=4,Qe=o.current;Qe!==null;){var C=Qe,P=C.child;if(Qe.flags&16){var W=C.deletions;if(W!==null){for(var X=0;X<W.length;X++){var ge=W[X];for(Qe=ge;Qe!==null;){var Ae=Qe;switch(Ae.tag){case 0:case 11:case 15:Qs(8,Ae,C)}var _e=Ae.child;if(_e!==null)_e.return=Ae,Qe=_e;else for(;Qe!==null;){Ae=Qe;var Ie=Ae.sibling,We=Ae.return;if(Gm(Ae),Ae===ge){Qe=null;break}if(Ie!==null){Ie.return=We,Qe=Ie;break}Qe=We}}}var Je=C.alternate;if(Je!==null){var et=Je.child;if(et!==null){Je.child=null;do{var gn=et.sibling;et.sibling=null,et=gn}while(et!==null)}}Qe=C}}if(C.subtreeFlags&2064&&P!==null)P.return=C,Qe=P;else e:for(;Qe!==null;){if(C=Qe,C.flags&2048)switch(C.tag){case 0:case 11:case 15:Qs(9,C,C.return)}var ce=C.sibling;if(ce!==null){ce.return=C.return,Qe=ce;break e}Qe=C.return}}var re=o.current;for(Qe=re;Qe!==null;){P=Qe;var de=P.child;if(P.subtreeFlags&2064&&de!==null)de.return=P,Qe=de;else e:for(P=re;Qe!==null;){if(W=Qe,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:lu(9,W)}}catch(nt){dn(W,W.return,nt)}if(W===P){Qe=null;break e}var Pe=W.sibling;if(Pe!==null){Pe.return=W.return,Qe=Pe;break e}Qe=W.return}}if(It=S,Jo(),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(ju,o)}catch{}v=!0}return v}finally{Pt=p,sa.transition=l}}return!1}function hp(o,l,p){l=Wi(p,l),l=_c(o,l,1),o=ti(o,l,1),l=gr(),o!==null&&(kl(o,1,l),ar(o,l))}function dn(o,l,p){if(o.tag===3)hp(o,o,p);else for(;l!==null;){if(l.tag===3){hp(l,o,p);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ci===null||!ci.has(v))){o=Wi(p,o),o=nu(l,o,1),l=ti(l,o,1),o=gr(),l!==null&&(kl(l,1,o),ar(l,o));break}}l=l.return}}function Uy(o,l,p){var v=o.pingCache;v!==null&&v.delete(l),l=gr(),o.pingedLanes|=o.suspendedLanes&p,_n===o&&(Hn&p)===p&&(An===4||An===3&&(Hn&130023424)===Hn&&500>tn()-$c?Ki(o,0):ip|=p),ar(o,l)}function og(o,l){l===0&&(o.mode&1?(l=Bu,Bu<<=1,!(Bu&130023424)&&(Bu=4194304)):l=1);var p=gr();o=Ca(o,l),o!==null&&(kl(o,l,p),ar(o,p))}function Vy(o){var l=o.memoizedState,p=0;l!==null&&(p=l.retryLane),og(o,p)}function zy(o,l){var p=0;switch(o.tag){case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(p=S.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(l),og(o,p)}var ig;ig=function(o,l,p){if(o!==null)if(o.memoizedProps!==l.pendingProps||Cr.current)tr=!0;else{if(!(o.lanes&p)&&!(l.flags&128))return tr=!1,nr(o,l,p);tr=!!(o.flags&131072)}else tr=!1,Zt&&l.flags&1048576&&xm(l,mc,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;Gs(o,l),o=l.pendingProps;var S=Ps(l,Qn.current);Xo(l,p),S=xc(null,l,v,o,S,p);var C=Mc();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,xr(v)?(C=!0,ta(l)):C=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Fd(l),S.updater=Dc,l.stateNode=S,S._reactInternals=l,Od(l,v,o,p),l=Zd(null,l,v,!0,C,p)):(l.tag=0,Zt&&C&&zl(l),mr(null,l,S,p),l=l.child),l;case 16:v=l.elementType;e:{switch(Gs(o,l),o=l.pendingProps,S=v._init,v=S(v._payload),l.type=v,S=l.tag=Zc(v),o=Ta(v,o),S){case 0:l=Pc(null,l,v,o,p);break e;case 1:l=Vm(null,l,v,o,p);break e;case 11:l=Gd(null,l,v,o,p);break e;case 14:l=Qa(null,l,v,Ta(v.type,o),p);break e}throw Error(n(306,v,""))}return l;case 0:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ta(v,S),Pc(o,l,v,S,p);case 1:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ta(v,S),Vm(o,l,v,S,p);case 3:e:{if(Za(l),o===null)throw Error(n(387));v=l.pendingProps,C=l.memoizedState,S=C.element,Fm(o,l),bc(l,v,null,p);var P=l.memoizedState;if(v=P.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){S=Wi(Error(n(423)),l),l=jc(o,l,v,p,S);break e}else if(v!==S){S=Wi(Error(n(424)),l),l=jc(o,l,v,p,S);break e}else for(Br=Ko(l.stateNode.containerInfo.firstChild),Jn=l,Zt=!0,Ea=null,p=Rd(l,null,v,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ga(),v===S){l=Ja(o,l,p);break e}mr(o,l,v,p)}l=l.child}return l;case 5:return Ld(l),o===null&&Mr(l),v=l.type,S=l.pendingProps,C=o!==null?o.memoizedProps:null,P=S.children,Ul(v,S)?P=null:C!==null&&Ul(v,C)&&(l.flags|=32),Um(o,l),mr(o,l,P,p),l.child;case 6:return o===null&&Mr(l),null;case 13:return iu(o,l,p);case 4:return Tc(l,l.stateNode.containerInfo),v=l.pendingProps,o===null?l.child=ri(l,null,v,p):mr(o,l,v,p),l.child;case 11:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ta(v,S),Gd(o,l,v,S,p);case 7:return mr(o,l,l.pendingProps,p),l.child;case 8:return mr(o,l,l.pendingProps.children,p),l.child;case 12:return mr(o,l,l.pendingProps.children,p),l.child;case 10:e:{if(v=l.type._context,S=l.pendingProps,C=l.memoizedProps,P=S.value,Wt(Vi,v._currentValue),v._currentValue=P,C!==null)if(he(C.value,P)){if(C.children===S.children&&!Cr.current){l=Ja(o,l,p);break e}}else for(C=l.child,C!==null&&(C.return=l);C!==null;){var W=C.dependencies;if(W!==null){P=C.child;for(var X=W.firstContext;X!==null;){if(X.context===v){if(C.tag===1){X=xa(-1,p&-p),X.tag=2;var ge=C.updateQueue;if(ge!==null){ge=ge.shared;var Ae=ge.pending;Ae===null?X.next=X:(X.next=Ae.next,Ae.next=X),ge.pending=X}}C.lanes|=p,X=C.alternate,X!==null&&(X.lanes|=p),aa(C.return,p,l),W.lanes|=p;break}X=X.next}}else if(C.tag===10)P=C.type===l.type?null:C.child;else if(C.tag===18){if(P=C.return,P===null)throw Error(n(341));P.lanes|=p,W=P.alternate,W!==null&&(W.lanes|=p),aa(P,p,l),P=C.sibling}else P=C.child;if(P!==null)P.return=C;else for(P=C;P!==null;){if(P===l){P=null;break}if(C=P.sibling,C!==null){C.return=P.return,P=C;break}P=P.return}C=P}mr(o,l,S.children,p),l=l.child}return l;case 9:return S=l.type,v=l.pendingProps.children,Xo(l,p),S=pr(S),v=v(S),l.flags|=1,mr(o,l,v,p),l.child;case 14:return v=l.type,S=Ta(v,l.pendingProps),S=Ta(v.type,S),Qa(o,l,v,S,p);case 15:return Kd(o,l,l.type,l.pendingProps,p);case 17:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ta(v,S),Gs(o,l),l.tag=1,xr(v)?(o=!0,ta(l)):o=!1,Xo(l,p),Ad(l,v,S),Od(l,v,S,p),Zd(null,l,v,!0,o,p);case 19:return zm(o,l,p);case 22:return Qd(o,l,p)}throw Error(n(156,l.tag))};function sg(o,l){return Hh(o,l)}function $y(o,l,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(o,l,p,v){return new $y(o,l,p,v)}function mp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zc(o){if(typeof o=="function")return mp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ie)return 11;if(o===fe)return 14}return 2}function hi(o,l){var p=o.alternate;return p===null?(p=zr(o.tag,l,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=l,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,l=o.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function Jc(o,l,p,v,S,C){var P=2;if(v=o,typeof o=="function")mp(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case _:return Zi(p.children,S,C,l);case $:P=8,S|=8;break;case q:return o=zr(12,p,l,S|2),o.elementType=q,o.lanes=C,o;case ae:return o=zr(13,p,l,S),o.elementType=ae,o.lanes=C,o;case me:return o=zr(19,p,l,S),o.elementType=me,o.lanes=C,o;case Te:return Xc(p,S,C,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case z:P=10;break e;case ee:P=9;break e;case ie:P=11;break e;case fe:P=14;break e;case be:P=16,v=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=zr(P,p,l,S),l.elementType=o,l.type=v,l.lanes=C,l}function Zi(o,l,p,v){return o=zr(7,o,v,l),o.lanes=p,o}function Xc(o,l,p,v){return o=zr(22,o,v,l),o.elementType=Te,o.lanes=p,o.stateNode={isHidden:!1},o}function gp(o,l,p){return o=zr(6,o,null,l),o.lanes=p,o}function vp(o,l,p){return l=zr(4,o.children!==null?o.children:[],o.key,l),l.lanes=p,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function qy(o,l,p,v,S){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function yp(o,l,p,v,S,C,P,W,X){return o=new qy(o,l,p,W,X),l===1?(l=1,C===!0&&(l|=8)):l=0,C=zr(3,null,null,l),o.current=C,C.stateNode=o,C.memoizedState={element:v,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fd(C),o}function Wy(o,l,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:v==null?null:""+v,children:o,containerInfo:l,implementation:p}}function lg(o){if(!o)return Zo;o=o._reactInternals;e:{if(Ni(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(xr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var p=o.type;if(xr(p))return Em(o,p,l)}return l}function ug(o,l,p,v,S,C,P,W,X){return o=yp(p,v,!0,o,S,C,P,W,X),o.context=lg(null),p=o.current,v=gr(),S=fi(p),C=xa(v,S),C.callback=l??null,ti(p,C,S),o.current.lanes=S,kl(o,S,v),ar(o,v),o}function ef(o,l,p,v){var S=l.current,C=gr(),P=fi(S);return p=lg(p),l.context===null?l.context=p:l.pendingContext=p,l=xa(C,P),l.payload={element:o},v=v===void 0?null:v,v!==null&&(l.callback=v),o=ti(S,l,P),o!==null&&(Na(o,S,P,C),ni(o,S,P)),P}function tf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function cg(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<l?p:l}}function wp(o,l){cg(o,l),(o=o.alternate)&&cg(o,l)}function Gy(){return null}var bp=typeof reportError=="function"?reportError:function(o){console.error(o)};function nf(o){this._internalRoot=o}rf.prototype.render=nf.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));ef(o,l,null,null)},rf.prototype.unmount=nf.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Gi(function(){ef(null,o,null,null)}),l[jr]=null}};function rf(o){this._internalRoot=o}rf.prototype.unstable_scheduleHydration=function(o){if(o){var l=od();o={blockedOn:null,target:o,priority:l};for(var p=0;p<Vo.length&&l!==0&&l<Vo[p].priority;p++);Vo.splice(p,0,o),p===0&&Jh(o)}};function Dp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function af(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function fg(){}function of(o,l,p,v,S){if(S){if(typeof v=="function"){var C=v;v=function(){var ge=tf(P);C.call(ge)}}var P=ug(l,v,o,0,null,!1,!1,"",fg);return o._reactRootContainer=P,o[jr]=P.current,Wo(o.nodeType===8?o.parentNode:o),Gi(),P}for(;S=o.lastChild;)o.removeChild(S);if(typeof v=="function"){var W=v;v=function(){var ge=tf(X);W.call(ge)}}var X=yp(o,0,!1,null,null,!1,!1,"",fg);return o._reactRootContainer=X,o[jr]=X.current,Wo(o.nodeType===8?o.parentNode:o),Gi(function(){ef(l,X,p,v)}),X}function sf(o,l,p,v,S){var C=p._reactRootContainer;if(C){var P=C;if(typeof S=="function"){var W=S;S=function(){var X=tf(P);W.call(X)}}ef(l,P,o,S)}else P=of(p,l,o,S,v);return tf(P)}ad=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var p=ws(l.pendingLanes);p!==0&&(Fl(l,p|1),ar(l,tn()),!(It&6)&&(el=tn()+500,Jo()))}break;case 13:Gi(function(){var v=Ca(o,1);if(v!==null){var S=gr();Na(v,o,1,S)}}),wp(o,1)}},Hu=function(o){if(o.tag===13){var l=Ca(o,134217728);if(l!==null){var p=gr();Na(l,o,134217728,p)}wp(o,134217728)}},Qh=function(o){if(o.tag===13){var l=fi(o),p=Ca(o,l);if(p!==null){var v=gr();Na(p,o,l,v)}wp(o,l)}},od=function(){return Pt},id=function(o,l){var p=Pt;try{return Pt=o,l()}finally{Pt=p}},pe=function(o,l,p){switch(l){case"input":if(dt(o,p),l=p.name,p.type==="radio"&&l!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var v=p[l];if(v!==o&&v.form===o.form){var S=fc(v);if(!S)throw Error(n(90));Ke(v),dt(v,S)}}}break;case"textarea":_o(o,p);break;case"select":l=p.value,l!=null&&en(o,!!p.multiple,l,!1)}},Yt=fp,xn=Gi;var Ky={usingClientEntryPoint:!1,Events:[Kn,St,fc,He,mt,fp]},pu={findFiberByHostInstance:za,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Qy={bundleType:pu.bundleType,version:pu.version,rendererPackageName:pu.rendererPackageName,rendererConfig:pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Bh(o),o===null?null:o.stateNode},findFiberByHostInstance:pu.findFiberByHostInstance||Gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{ju=lf.inject(Qy),Ya=lf}catch{}}return fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ky,fa.createPortal=function(o,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(l))throw Error(n(200));return Wy(o,l,null,p)},fa.createRoot=function(o,l){if(!Dp(o))throw Error(n(299));var p=!1,v="",S=bp;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=yp(o,1,!1,null,null,p,!1,v,S),o[jr]=l.current,Wo(o.nodeType===8?o.parentNode:o),new nf(l)},fa.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Bh(l),o=o===null?null:o.stateNode,o},fa.flushSync=function(o){return Gi(o)},fa.hydrate=function(o,l,p){if(!af(l))throw Error(n(200));return sf(null,o,l,!0,p)},fa.hydrateRoot=function(o,l,p){if(!Dp(o))throw Error(n(405));var v=p!=null&&p.hydratedSources||null,S=!1,C="",P=bp;if(p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onRecoverableError!==void 0&&(P=p.onRecoverableError)),l=ug(l,null,o,1,p??null,S,!1,C,P),o[jr]=l.current,Wo(o),v)for(o=0;o<v.length;o++)p=v[o],S=p._getVersion,S=S(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,S]:l.mutableSourceEagerHydrationData.push(p,S);return new rf(l)},fa.render=function(o,l,p){if(!af(l))throw Error(n(200));return sf(null,o,l,!1,p)},fa.unmountComponentAtNode=function(o){if(!af(o))throw Error(n(40));return o._reactRootContainer?(Gi(function(){sf(null,null,o,!1,function(){o._reactRootContainer=null,o[jr]=null})}),!0):!1},fa.unstable_batchedUpdates=fp,fa.unstable_renderSubtreeIntoContainer=function(o,l,p,v){if(!af(p))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return sf(o,l,p,!1,v)},fa.version="18.2.0-next-9e3b772b8-20220608",fa}function v3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v3)}catch(e){console.error(e)}}v3();g3.exports=k7();var uw=g3.exports;const cw=qn(uw);var Mv,y3=uw;Mv=Lu.createRoot=y3.createRoot;Lu.hydrateRoot=y3.hydrateRoot;const F7=e=>{const{children:t,className:n,clickSpaceDestroy:r,destroy:a}=e,i=()=>{r&&a()},s=c=>{(c.key==="Escape"||(c.ctrlKey||c.metaKey)&&c.key.toLowerCase()==="w")&&a()};return D.jsx("div",{className:`dialog-wrapper ${n}`,onClick:i,onKeyDown:c=>s(c),children:D.jsx("div",{className:"dialog-container",onClick:c=>c.stopPropagation(),children:t})})};function Sh(e,t,n){const r=document.createElement("div");document.body.append(r),setTimeout(()=>{var d;(d=r.firstElementChild)==null||d.classList.add("showup")},0);const a={destroy:()=>{var d,h;(d=r.firstElementChild)==null||d.classList.remove("showup"),(h=r.firstElementChild)==null||h.classList.add("showoff"),setTimeout(()=>{r.detach(),c.unmount()},oE)}},i={...n,destroy:a.destroy};let s=D.jsx(F7,{destroy:a.destroy,clickSpaceDestroy:!0,...e,children:D.jsx(t,{...i})});s=D.jsx(If,{store:xe,context:Ft,children:s});const c=Lu.createRoot(r);return c.render(s),a}const N7=e=>{const{shownStatus:t,setShownStatus:n}=e,{dailyNotesState:{app:r},globalState:{manifest:a}}=A.useContext(Ft),i=A.useRef(null);A.useEffect(()=>{if(t){const h=g=>{var m;(m=i.current)!=null&&m.contains(g.target)||g.stopPropagation(),n(!1)};window.addEventListener("click",h,{capture:!0,once:!0})}},[t]);const s=A.useCallback(async h=>{const{type:g}=h;if(g.startsWith("text"))try{return`${await lw.parseHtml(h)}`}catch(m){new F.Notice(m)}},[]),c=A.useCallback(()=>{const h=document.createElement("input");document.body.appendChild(h),h.type="file",h.multiple=!1,h.accept="text/html",h.onchange=async()=>{if(!h.files||h.files.length===0)return;const g=h.files[0];await s(g),document.body.removeChild(h)},h.click()},[]),d=()=>{r.setting.open(),r.setting.openTabById(a.id??"obsidian-memos")};return D.jsxs("div",{className:`menu-btns-popup ${t?"":"hidden"}`,ref:i,children:[D.jsxs("div",{className:"btn action-btn",onClick:d,children:[D.jsx("span",{ref:h=>{h&&F.setIcon(h,"user")},className:"icon"}),O("Settings")]}),D.jsxs("div",{className:"btn action-btn",onClick:c,children:[D.jsx("span",{ref:h=>{h&&F.setIcon(h,"import")},className:"icon"}),O("Import")]})]})},g1=new Map,Yg=async(e,t=!0)=>{const{vault:n,metadataCache:r}=ct.getState().app;if(t&&g1.has(e))return Promise.resolve(g1.get(e));let a;const i=await n.adapter.exists(e);let s="";try{if(!i&&!/(http|https)/g.test(e)){const c=r.getFirstLinkpathDest(e,"");if(!c){new F.Notice(O("File not exist"));return}s=c.path}else s=e}catch(c){console.error(c)}if(s){if(/(http|https)/g.test(s))try{const c=await F.requestUrl(e),d=new Uint8Array(c.arrayBuffer);a=new Blob([d],{type:"image/png"})}catch{}else if(s){const c=await n.adapter.readBinary(s),d=new Uint8Array(c);a=new Blob([d],{type:"image/png"})}return a?I7(a,e):""}},I7=(e,t)=>new Promise(n=>{const r=new FileReader;r.onloadend=()=>{const a=r.result;g1.set(t,a),n(a)},r.readAsDataURL(e)}),A7=async e=>{const t=document.createElement(e.tagName);t.innerHTML=e.innerHTML;const n=async(r,a)=>{if(!r||!a)return;const i=window.getComputedStyle(r);if(r.tagName==="IMG")try{let s="";const c=r.getAttribute("src");c!=null&&c.startsWith("http")&&!c.startsWith("http://localhost")?s=await Yg(r==null?void 0:r.getAttribute("src")):s=await Yg(r.getAttribute("path")??F.normalizePath(r==null?void 0:r.parentElement.getAttribute("src"))),a.src=s}catch(s){console.error(s)}else if(r.className==="property-image")try{const s=r.style.backgroundImage,c=await Yg(s);a.style.backgroundImage=c}catch(s){console.error(s)}for(const s of i)a.style.setProperty(s,i.getPropertyValue(s),i.getPropertyPriority(s));for(let s=0;s<a.childElementCount;s++)await n(r.children[s],a.children[s])};return await n(e,t),t},O7=async e=>{const t=e.ownerDocument.styleSheets,n=[];for(const a of t)for(const i of a.cssRules)i.constructor.name==="CSSFontFaceRule"&&n.push(i.style);return document.createElement("style")},w3=e=>{const{width:t,height:n}=window.getComputedStyle(e);return{width:parseInt(t.replace("px","")),height:parseInt(n.replace("px",""))}},R7=e=>{const t=new XMLSerializer().serializeToString(e);return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`},L7=(e,t,n)=>{const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg");a.setAttribute("width",`${e}`),a.setAttribute("height",`${t}`),a.setAttribute("viewBox",`0 0 ${e} ${t}`);const i=document.createElementNS(r,"foreignObject");return i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),i.appendChild(n),a.appendChild(i),a},_7=async(e,t)=>{const{width:n,height:r}=w3(e),a=await A7(e);t!=null&&t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor);const i=L7(n,r,a);return i.prepend(await O7(e)),R7(i)},P7=async(e,t)=>{const n=await _7(e,t),r=new Image;r.src=n;const a=(t==null?void 0:t.pixelRatio)||1,{width:i,height:s}=w3(e),c=document.createElement("canvas"),d=c.getContext("2d");return d?(c.width=i*a,c.height=s*a,c.style.width=`${i}`,c.style.height=`${s}`,(t!=null&&t.backgroundColor||document.body.className.contains("theme-dark"))&&(d.fillStyle=t.backgroundColor||"#1f1f1f",d.fillRect(0,0,c.width,c.height)),new Promise(h=>{r.onload=()=>{d.drawImage(r,0,0,c.width,c.height),h(c)}})):Promise.reject("Canvas error")},b3=async(e,t)=>(await P7(e,t)).toDataURL();function Oo(e){const[t,n]=A.useState(()=>!!e),r=A.useCallback(a=>{n(typeof a=="boolean"?a:i=>!i)},[]);return[t,r]}function Vf(e=!0){const[t,n]=A.useState({isLoading:e,isFailed:!1,isSucceed:!1,isPending:!1});return{...t,setLoading:()=>{n({...t,isLoading:!0,isFailed:!1,isPending:!1,isSucceed:!1})},setFinish:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!1,isSucceed:!0})},setError:()=>{n({...t,isLoading:!1,isFailed:!0,isPending:!1,isSucceed:!1})},setPending:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!0,isSucceed:!1})}}}const j7=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return new Blob([r],{type:t})},dD=async e=>{e.startsWith("http")&&(e=await Yg(e));const t=e.split("base64,")[1],n=j7(t,"image/png");await D3(n),new F.Notice(O("Send to clipboard successfully"))},B7=async(e,t)=>{const n=await e.vault.adapter.exists(t);let r="";if(n)r=t;else{const c=e.metadataCache.getFirstLinkpathDest(t,"");if(!c){new F.Notice(O("File not exist"));return}r=c.path}const a=await e.vault.adapter.readBinary(r),i=new Uint8Array(a),s=new Blob([i],{type:"image/png"});await D3(s)},D3=async e=>{const t=new ClipboardItem({"image/png":e});await window.navigator.clipboard.write([t])},pD=1.1,hD=300,mD=20,Y7=({destroy:e,imgUrl:t,filepath:n,otherIMGEls:r,currentIndex:a})=>{const i=A.useRef(null),[s,c]=A.useState(-1),d=xe.getState().dailyNotesState.app,[h,g]=A.useState(a),[m,w]=A.useState(t),b={close:A.useRef(null),previous:A.useRef(null),next:A.useRef(null),decrease:A.useRef(null),increase:A.useRef(null),zoom:A.useRef(null),copy:A.useRef(null)};A.useEffect(()=>{!n&&!t||(F.setIcon(b.close.current,"x"),b.previous.current&&F.setIcon(b.previous.current,"arrow-left"),b.next.current&&F.setIcon(b.next.current,"arrow-right"),F.setIcon(b.decrease.current,"zoom-out"),F.setIcon(b.increase.current,"zoom-in"),F.setIcon(b.zoom.current,"circle"),F.setIcon(b.copy.current,"clipboard"))},[b]),A.useEffect(()=>{Ue.getImageSize(m).then(({width:R})=>{c(R!==0?40:0)})},[m]);const T=()=>{let R=h-1;R<0&&(R=r.length-1),g(R),w(r[R].src)},E=()=>{let R=h+1;R>=r.length&&(R=0),g(R),w(r[R].src)},M=()=>{e()},k=()=>{s>30&&c(s-10)},I=()=>{c(s+10)},B=R=>{R.target!==i.current&&R.target===i.current.parentElement&&M()},N=R=>{if(R.ctrlKey){R.preventDefault();const _=i.current,$=R.nativeEvent.offsetX,q=R.nativeEvent.offsetY,z=$/_.clientWidth,ee=q/_.clientHeight;let ie;R.deltaY>0?ie=s/pD:ie=s*pD,ie>hD?ie=hD:ie<mD&&(ie=mD);const ae=s;c(ie);const me=R.currentTarget;me.scrollLeft+=(ie-ae)*z,me.scrollTop+=(ie-ae)*ee}else R.deltaX!==0&&(R.currentTarget.scrollLeft+=R.deltaX)},j=async()=>{if(m&&!n)await dD(t);else if(n){const _=r[h].parentElement.getAttribute("src");if(!_){await dD(m);return}await B7(d,_)}};return D.jsxs(D.Fragment,{children:[D.jsx("button",{ref:b.close,className:"btn close-btn",onClick:M}),D.jsxs("div",{className:"img-container internal-embed image-embed is-loaded",onClick:B,onWheel:N,children:[D.jsx("img",{className:s<=0?"hidden":"",ref:i,height:s+"%",src:m}),D.jsx("span",{className:"loading-text "+(s===-1?"":"hidden"),children:O("Image is loading...")}),D.jsx("span",{className:"loading-text "+(s===0?"":"hidden"),children:O("😟 Cannot load image, image link maybe broken")})]}),D.jsxs("div",{className:"action-btns-container",children:[r&&(r==null?void 0:r.length)>1&&D.jsxs(D.Fragment,{children:[D.jsx("button",{ref:b.previous,className:"btn",onClick:T}),D.jsx("button",{ref:b.next,className:"btn",onClick:E})]}),D.jsx("button",{ref:b.decrease,className:"btn",onClick:k}),D.jsx("button",{ref:b.increase,className:"btn",onClick:I}),D.jsx("button",{ref:b.zoom,className:"btn",onClick:()=>c(80)}),D.jsx("button",{ref:b.copy,className:"btn",onClick:j})]})]})};function S3({imgUrl:e,filepath:t,otherIMGEls:n,currentIndex:r}){Sh({className:"preview-image-dialog"},Y7,{...{imgUrl:e,otherIMGEls:n,currentIndex:r},filepath:t})}const H7=e=>{const{app:t,view:n}=xe.getState().dailyNotesState,{memo:r}=e,a={...r,createdAtStr:Ue.getDateTimeString(r.createdAt),timeStr:Ue.getTimeString(r.createdAt)},i=Q.useRef(null),s=Q.useRef(null);A.useEffect(()=>{if(!s.current||!i.current||(s.current.hasChildNodes()&&s.current.children[0].detach(),!n))return;async function m(){var b;await F.MarkdownRenderer.render(t,r.content.replaceAll(/<br>/g,`
`)+`
`,s.current,r.path,n);const w=(b=s.current)==null?void 0:b.querySelectorAll(".internal-link");w==null||w.forEach(T=>{const E=T,M=E.getAttribute("data-href");if(!M)return;t.metadataCache.getFirstLinkpathDest(M,r.path)||T.classList.add("is-unresolved"),E.addEventListener("mouseover",I=>{I.stopPropagation(),t.workspace.trigger("hover-link",{event:I,source:"thino",hoverParent:n.containerEl,targetEl:E,linktext:M,sourcePath:E.href})})})}m()},[e.memo.content]);const c=()=>{e.onClickThino&&e.onClickThino(a)},d=async(m,w,b)=>{var M;const T=((M=b.parentElement.dataset)==null?void 0:M.task)==="x"?"DONE":"TODO",E=[...(w==null?void 0:w.querySelectorAll("li.task-list-item"))??[]];for(const k of E)if(k===b||k===b.closest("li.task-list-item")){const I=E.indexOf(k),B=m.content.replace(/<br>/g,`
`).split(/\n/),N=[];for(let q=0;q<B.length;q++)(B[q].trim().startsWith("- [ ]")||B[q].trim().startsWith("- [x]"))&&N.push(q);const j=N[I],_=B[j].replace(/- \[ \] |- \[x\] /g,T==="TODO"?"- [x] ":"- [ ] ");B[j]=_;const $=B.join(`
`).trim();if(m&&m.content!==$){const q=await Me.updateMemo(m.id,$);Me.editMemo(q)}}},h=async m=>{m.preventDefault();const w=m.target;if(w.tagName==="INPUT"&&w.hasClass("task-list-item-checkbox")){await d(a,i.current,w);return}};return A.useMemo(()=>D.jsxs("div",{ref:i,className:"daily-memo-wrapper",children:[D.jsx("div",{className:"time-wrapper",onClick:c,children:D.jsx("span",{className:"normal-text",children:a.timeStr})}),D.jsx("div",{className:"memo-content-container",children:D.jsx("div",{ref:s,onClick:h,className:"memo-content-text"})})]}),[r.content])},U7=typeof window<"u"?A.useLayoutEffect:A.useEffect;function V7(e,t,n,r){const a=A.useRef(t);U7(()=>{a.current=t},[t]),A.useEffect(()=>{const i=(n==null?void 0:n.current)??window;if(!(i&&i.addEventListener))return;const s=c=>{a.current(c)};return i.addEventListener(e,s,r),()=>{i.removeEventListener(e,s,r)}},[e,n,r])}function Eh(e,t,n="mousedown"){V7(n,r=>{const a=r.target;if(!a||!a.isConnected||a.closest(".suggestion-container")||a.closest(".menu"))return;(Array.isArray(e)?e.every(s=>s.current&&!s.current.contains(a)):e.current&&!e.current.contains(a))&&t(r)})}const E3=e=>{const{year:t,handleYearChange:n}=e,[r,a]=A.useState([]),[i,s]=A.useState(t),c=A.useRef(null),d=A.useRef(null),[h,g]=Q.useState(!1),m=Q.useRef(null);Eh(m,()=>{g(!1)}),A.useEffect(()=>{c.current&&F.setIcon(c.current,"chevron-left"),d.current&&F.setIcon(d.current,"chevron-right")},[c,d,h]),A.useEffect(()=>{b(i)},[t]);const b=T=>{const E=parseInt(T),M=E-E%10,k=[];for(let I=0;I<10;I++)k.push(`${M+I}`);a(k)};return D.jsxs(D.Fragment,{children:[D.jsxs("span",{className:"btn year-btn",onClick:()=>{g(!h)},children:[D.jsx("span",{children:t}),D.jsx("span",{children:O("year")})]}),h&&D.jsxs("div",{ref:m,className:"year-picker-wrapper",children:[D.jsxs("div",{className:"year-picker-header",children:[D.jsxs("div",{className:"year-picker-header-title",children:[i," "+(O("year")||"")]}),D.jsxs("div",{className:"year-picker-header-btns",children:[D.jsx("span",{className:"btn",ref:c,onClick:()=>{const T=parseInt(i)-10;s(T.toString()),b(T.toString())}}),D.jsx("span",{className:"btn",ref:d,onClick:()=>{const T=parseInt(i)+10;s(T.toString()),b(T.toString())}})]})]}),D.jsx("div",{className:"year-picker-body",children:D.jsx("div",{className:"year-picker-body-list",children:r.map(T=>D.jsx("div",{className:`year-picker-body-item ${T===i?"selected":""}`,onClick:()=>{s(T),n(T),g(!1)},children:T},T))})})]})]})},T3=e=>{const{month:t,handleMonthChange:n}=e,[r,a]=A.useState([]),[i,s]=A.useState((parseInt(t)+1).toString()),[c,d]=Q.useState(!1),h=Q.useRef(null);Eh(h,()=>{d(!1)}),A.useEffect(()=>{m()},[t]);const m=()=>{const w=[];for(let b=1;b<=12;b++)w.push(`${b}`);a(w)};return D.jsxs(D.Fragment,{children:[D.jsxs("span",{className:"btn month-btn",onClick:()=>{d(!c)},children:[D.jsxs("span",{children:[O("monthsShort")[parseInt(t)]||parseInt(t)+1," "]}),D.jsx("span",{children:O("month")||""})]}),c&&D.jsxs("div",{ref:h,className:"month-picker-wrapper",children:[D.jsxs("div",{className:"month-picker-header",children:[D.jsxs("div",{className:"month-picker-header-title",children:[i," "+(O("month")||"")]}),D.jsx("div",{className:"month-picker-header-btns"})]}),D.jsx("div",{className:"month-picker-body",children:D.jsx("div",{className:"month-picker-body-list",children:r.map(w=>D.jsx("div",{className:`month-picker-body-item ${w===i?"selected":""}`,onClick:()=>{s(w),n(w),d(!1)},children:w},w))})})]})]})},kv=e=>{const{className:t,datestamp:n,handleDateStampChange:r}=e,[a,i]=A.useState(kp(n)),[s,c]=A.useState(n);A.useEffect(()=>{i(kp(n))},[n]);const d=new Date(a),h=d.getDay(),g=[];for(let T=0;T<h;T++)g.push({date:0,datestamp:d.getTime()-Si*(7-T)});const m=z7(a);for(let T=1;T<=m;T++)g.push({date:T,datestamp:d.getTime()+Si*(T-1)});const w=(T,E)=>{r(E,T.nativeEvent),c(E)},b=T=>{const E=d.getFullYear(),M=d.getMonth()+1;let k=0;M===1&&T===-1?k=new Date(`${E-1}/12/1`).getTime():M===12&&T===1?k=new Date(`${E+1}/1/1`).getTime():k=new Date(`${E}/${M+T}/1`).getTime(),i(kp(k))};return D.jsxs("div",{className:`date-picker-wrapper ${t}`,children:[D.jsxs("div",{className:"date-picker-header",children:[D.jsx("span",{ref:T=>{T&&F.setIcon(T,"chevron-left")},className:"btn btn-text",onClick:()=>b(-1)}),D.jsxs("span",{className:"normal-text",children:[D.jsx(E3,{year:d.getFullYear().toString(),handleYearChange:T=>{i(kp(new Date(`${T}/${d.getMonth()+1}/1`).getTime()))}}),D.jsx(T3,{month:d.getMonth().toString(),handleMonthChange:T=>{i(kp(new Date(`${d.getFullYear()}/${parseInt(T)}/1`).getTime()))}})]}),D.jsx("span",{ref:T=>{T&&F.setIcon(T,"chevron-right")},className:"btn btn-text",onClick:()=>b(1)})]}),D.jsxs("div",{className:"date-picker-day-container",children:[D.jsx("div",{className:"date-picker-day-header",children:O("weekDaysShort").map(T=>D.jsx("span",{className:"day-item",children:T},T))}),D.jsx("div",{className:"date-picker-day-content",children:g.map(T=>T.date===0?D.jsx("span",{className:"day-item null",children:""},T.datestamp):D.jsx("span",{className:`day-item ${T.datestamp===n?"current":""} ${T.datestamp===s?"selected":""}`,onClick:E=>w(E,T.datestamp),children:D.jsx("span",{className:"day-item-text",children:T.date})},T.datestamp))})]})]})};function z7(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/Si}function kp(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}const $7=e=>{const{dailyNotesState:{app:t,view:n}}=A.useContext(Ft),{memo:r,handleMemoContentClick:a,handleMemoDoubleClick:i}=e,s=Q.useRef(null),[c,d]=Q.useState("");return A.useEffect(()=>{if(!s.current||s.current.hasChildNodes()&&r.content===c||!n||!t)return;d(r.content),s.current.hasChildNodes()&&s.current.empty(),(async()=>{var m,w;await F.MarkdownRenderer.render(t,r.content.replaceAll(/<br>/g,`
`)+`
`,s.current,r.path,n),(m=s.current)==null||m.toggleClass(["markdown-rendered"],!0);const g=(w=s.current)==null?void 0:w.querySelectorAll(".internal-link");g==null||g.forEach(b=>{const T=b,E=T.getAttribute("data-href");if(!E)return;t.metadataCache.getFirstLinkpathDest(E,r.path)||b.classList.add("is-unresolved"),T.addEventListener("mouseover",k=>{k.stopPropagation(),t.workspace.trigger("hover-link",{event:k,source:"thino",hoverParent:n.containerEl,targetEl:T,linktext:E,sourcePath:T.href})})})})()},[r.content,n,t]),D.jsx("div",{ref:s,className:"memo-content-text",onClick:h=>a(h,r),onDoubleClick:i,onContextMenu:h=>{h.preventDefault()}})},C3=A.memo($7),q7=e=>{const[t,n]=A.useState({...e.memo,createdAtStr:Ue.getDateTimeString(e.memo.createdAt)}),[r,a]=A.useState([]),[i,s]=A.useState([]);A.useEffect(()=>{(async()=>{try{const m=[],w=[...t.content.matchAll(Ou)];for(const T of w)if(T&&T.length===3){const E=T[2],M=Me.getMemoById(E);M&&m.push({...M,createdAtStr:Ue.getDateTimeString(M.createdAt),dateStr:Ue.getDateString(M.createdAt)})}a([...m]);const b=await Me.getLinkedMemos(t.id);s(b.sort((T,E)=>Ue.getTimeStampByDate(E.createdAt)-Ue.getTimeStampByDate(T.createdAt)).map(T=>({...T,createdAtStr:Ue.getDateTimeString(T.createdAt),dateStr:Ue.getDateString(T.createdAt)})))}catch(m){console.error(m)}})()},[t.id]);const c=A.useCallback(async g=>{var w;const m=g.target;if(m.className==="memo-link-text"){const b=(w=m.dataset)==null?void 0:w.value,T=Me.getMemoById(b??"");if(T){const E={...T,createdAtStr:Ue.getDateTimeString(T.createdAt)};a([]),s([]),n(E)}else new F.Notice(O("Thino not found")),m.classList.remove("memo-link-text")}},[]),d=A.useCallback(g=>{a([]),s([]),n(g)},[]),h=A.useCallback(()=>{e.destroy(),rt.setEditMemoId(t.id)},[t.id]);return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"memo-card-container",children:[D.jsxs("div",{className:"header-container",children:[D.jsx("span",{className:"time-text",children:t.createdAtStr}),D.jsxs("div",{className:"btns-container",children:[D.jsx("button",{ref:g=>{g&&F.setIcon(g,"edit")},className:"btn edit-btn",onClick:h}),D.jsx("button",{ref:g=>{g&&F.setIcon(g,"x")},className:"btn close-btn",onClick:e.destroy})]})]}),D.jsx("div",{className:"memo-container",children:D.jsx("div",{className:"memo-content-text",children:D.jsx(C3,{memo:e.memo,handleMemoContentClick:c,handleMemoDoubleClick:()=>{}})})}),D.jsx("div",{className:"layer-container"}),r.map((g,m)=>m<4?D.jsx("div",{className:"background-layer-container",style:{bottom:(m+1)*-3+"px",left:(m+1)*5+"px",width:`calc(100% - ${(m+1)*10}px)`,zIndex:-m-1}},m):null)]}),r.length>0?D.jsxs("div",{className:"linked-memos-wrapper",children:[D.jsxs("span",{className:"normal-text",children:[O("LINKED")," ",r.length," THINO"," "]}),r.map(g=>{const m=kb(n1(g.content)).replaceAll(`
`," ");return D.jsxs("div",{className:"linked-memo-container",onClick:()=>d(g),children:[D.jsxs("span",{className:"time-text",children:[g.dateStr," "]}),m]},g.id)})]}):null,i.length>0?D.jsxs("div",{className:"linked-memos-wrapper",children:[D.jsxs("span",{className:"normal-text",children:[i.length," THINO ",O("LINK TO THE")," THINO"]}),i.map(g=>{const m=kb(n1(g.content)).replaceAll(`
`," ");return D.jsxs("div",{className:"linked-memo-container",onClick:()=>d(g),children:[D.jsxs("span",{className:"time-text",children:[g.dateStr," "]}),m]},g.id)})]}):null]})};function Fv(e){Sh({className:"memo-card-dialog"},q7,{memo:e})}const W7=e=>{const{memoState:{memos:t}}=A.useContext(Ft),n=Vf(),[r,a]=A.useState([]),[i,s]=A.useState(Ue.getDateStampByDate(Ue.getDateString(e.currentDateStamp))),[c,d]=Oo(!1),h=A.useRef(null),g=new Date(i),{vault:m}=xe.getState().dailyNotesState.app,w=xe.getState().dailyNotesState.settings;A.useEffect(()=>{(()=>{const I=t.filter(B=>Ue.getTimeStampByDate(B.createdAt)>=i&&Ue.getTimeStampByDate(B.createdAt)<i+Si).filter(B=>B.deletedAt==="").sort((B,N)=>Ue.getTimeStampByDate(B.createdAt)-Ue.getTimeStampByDate(N.createdAt));a(I),n.setFinish()})()},[i,t]);const b=(k,I)=>{const B=window.atob(k),N=new ArrayBuffer(B.length),j=new Uint8Array(N);for(let R=0;R<B.length;R++)j[R]=B.charCodeAt(R);return new Blob([N],{type:I})},T=async()=>{d(!1),setTimeout(()=>{h.current&&b3(h.current,{backgroundColor:"#ffffff",pixelRatio:window.devicePixelRatio*2}).then(k=>{if(w!=null&&w.AutoSaveWhenOnMobile&&F.Platform.isMobile){const I=k.split("base64,")[1];b(I,"image/png").arrayBuffer().then(async N=>{let j;const R="png",_=Au();for(const $ in _)if(_[$]instanceof F.TFile){j=_[$];break}j!==void 0&&await m.createBinary(await m.getAvailablePathForAttachments(`Pasted Image ${F.moment().format("YYYYMMDDHHmmss")}`,R,j),N)})}S3({imgUrl:k})}).catch(()=>{})},0)},E=k=>{s(k),d(!1)},M=A.useMemo(()=>D.jsxs("div",{className:"header-wrapper",children:[D.jsx("span",{className:"title-text",children:O("Daily Memos")}),D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{ref:k=>{F.setIcon&&k&&F.setIcon(k,"chevron-left")},className:"btn btn-text",onClick:()=>s(k=>k-Si)}),D.jsx("span",{ref:k=>{F.setIcon&&k&&F.setIcon(k,"chevron-right")},className:"btn btn-text",onClick:()=>s(k=>k+Si)}),D.jsx("span",{ref:k=>{F.setIcon&&k&&F.setIcon(k,"share")},className:"btn btn-text share-btn",onClick:T}),D.jsx("span",{ref:k=>{F.setIcon&&k&&F.setIcon(k,"x")},className:"btn btn-text",onClick:()=>e.destroy()})]})]}),[]);return D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"dialog-header-container",children:M}),D.jsxs("div",{className:"dialog-content-container",ref:h,children:[D.jsxs("div",{className:"date-card-container",onClick:()=>d(),children:[D.jsx("div",{className:"year-text",children:g.getFullYear()}),D.jsxs("div",{className:"date-container",children:[D.jsx("div",{className:"month-text",children:O("months")[g.getMonth()]}),D.jsx("div",{className:"date-text",children:g.getDate()}),D.jsx("div",{className:"day-text",children:O("weekDays")[g.getDay()]})]})]}),D.jsx(kv,{className:`date-picker ${c?"":"hidden"}`,datestamp:i,handleDateStampChange:E}),n.isLoading?D.jsx("div",{className:"tip-container",children:D.jsx("span",{className:"tip-text",children:O("Loading...")})}):r.length===0?D.jsx("div",{className:"tip-container",children:D.jsx("span",{className:"tip-text",children:O("Noooop!")})}):D.jsx("div",{className:"dailymemos-wrapper",children:r.map(k=>D.jsx(H7,{memo:k,onClickThino:I=>{e.destroy(),Fv(I)}},`${k.id}-${k.updatedAt}`))})]})]})};function Up(e=Date.now()){Sh({className:"daily-memo-diary-dialog"},W7,{currentDateStamp:e})}const G7=()=>{const{memoState:{memos:e,tags:t},locationState:{pathname:n},dailyNotesState:{settings:r,app:a,verifyState:i},globalState:{manifest:s,showSiderbarInMobileView:c}}=A.useContext(Ft),[d,h]=A.useState("Memos"),[g,m]=A.useState(0),[w,b]=A.useState(0),[T,E]=A.useState(0),[M,k]=A.useState(null),[I,B]=A.useState(!1),N=Q.useRef(null),[j,R]=A.useState(0),[_,$]=A.useState(0),[q,z]=A.useState(!1);A.useEffect(()=>{r&&h(r.UserName)},[r]),A.useLayoutEffect(()=>{if(!a)return;const{tags:ae,memos:me,days:fe}=K7(a);E(ae),m(me),b(fe)},[a]),A.useEffect(()=>{let ae=0;const me=g-j,fe=1e3,be=Te=>{ae||(ae=Te);const J=Te-ae;if(J<fe){const ve=J/fe;R(j+me*ve),requestAnimationFrame(be)}else R(g)};requestAnimationFrame(be)},[g]),A.useEffect(()=>{let ae=0;const me=w-_,fe=1e3,be=Te=>{ae||(ae=Te);const J=Te-ae;if(J<fe){const ve=J/fe;$(_+me*ve),requestAnimationFrame(be)}else $(w)};requestAnimationFrame(be)},[w]),A.useEffect(()=>{!r||!a||(B(g>9999||T>999||w>999),Q7({tags:T,memos:g,days:w},a))},[g,T,w]),A.useEffect(()=>{Me.initialized&&e&&n==="/"&&(E(t.length),m(e.filter(ae=>!(ae.deletedAt!==""&&ae.deletedAt)).length),k(e.length>0?e[e.length-1]:null))},[t,e,n]),A.useEffect(()=>{if(!Me.initialized)return;if(!M){b(0);return}if(!N.current||!(M!=null&&M.createdAt))return;F.requireApiVersion("1.4.4")&&F.setTooltip(N.current,O("Started from")+" "+Ue.getDateTimeString((M==null?void 0:M.createdAt)??""));const ae=Math.ceil((Date.now()-Ue.getTimeStampByDate(M==null?void 0:M.createdAt))/1e3/3600/24);b(e?ae:0)},[M]);const ee=A.useCallback(()=>{it.pushHistory("/"),it.clearQuery()},[]),ie=()=>{const ae=document.querySelector(".memos-sidebar-wrapper"),me=document.querySelector(".menu-btns-popup");me.style.top=70-ae.scrollTop+"px",z(!0)};return D.jsxs("div",{className:"user-banner-container",children:[D.jsxs("div",{className:"userinfo-header-container",children:[D.jsxs("span",{className:"username-container",children:[D.jsx("span",{className:"username-text",onClick:ee,children:d==="MEMO 😉"?"THINO 😉":d??"THINO"}),D.jsx("span",{className:`user-pro-badge ${i?"activated":""}`,onClick:()=>{a.setting.open(),a.setting.openTabById(s.id??"obsidian-memos")},children:"PRO"})]}),D.jsxs("span",{className:"btn-group",children:[D.jsx("span",{ref:ae=>{ae&&ae.hasChildNodes()||ae&&F.setIcon(ae,"more-horizontal")},className:"btn action-btn menu-popup-btn",onClick:ie}),c&&D.jsx("span",{ref:ae=>{ae&&ae.hasChildNodes()||ae&&F.setIcon(ae,"x")},className:"btn action-btn",onClick:()=>{rt.setShowSiderbarInMobileView(!1)}})]}),D.jsx(N7,{shownStatus:q,setShownStatus:z})]}),D.jsxs("div",{className:`status-text-container ${I?"text-overflow":""}`,children:[D.jsxs("div",{className:"status-text memos-text",children:[D.jsx("span",{className:"amount-text",children:Math.round(j)}),D.jsx("span",{className:"type-text",children:"THINO"})]}),D.jsxs("div",{className:"status-text tags-text",children:[D.jsx("span",{className:"amount-text",children:T}),D.jsx("span",{className:"type-text",children:O("TAG")})]}),D.jsxs("div",{ref:N,className:"status-text duration-text",onClick:()=>Up(),children:[D.jsx("span",{className:"amount-text",children:Math.round(_)??0}),D.jsx("span",{className:"type-text",children:O("DAY")})]})]})]})};function x3(e){return`userBannerCache:${e}`}function K7(e){try{const t=x3(e.appId),n=zn.get([t])[t];return n?JSON.parse(n):{tags:0,memos:0,days:0}}catch(t){return console.error(t),{tags:0,memos:0,days:0}}}function Q7({tags:e,memos:t,days:n},r){try{const a={tags:e,memos:t,days:n},i=x3(r.appId);zn.set({[i]:JSON.stringify(a)})}catch(a){console.error(a)}}const Z7=e=>{const{children:t,when:n}=e;return n?D.jsx(D.Fragment,{children:t}):null},No=Z7,J7=[{text:O("AND"),value:"AND"},{text:O("OR"),value:"OR"}],sl={TAG:{value:"TAG",text:O("TAG"),operators:[{text:O("INCLUDE"),value:"CONTAIN"},{text:O("EXCLUDE"),value:"NOT_CONTAIN"}]},TYPE:{value:"TYPE",text:O("TYPE"),operators:[{value:"IS",text:O("IS")},{value:"IS_NOT",text:O("ISNOT")}],values:[{value:"CONNECTED",text:O("LINKED")},{value:"NOT_TAGGED",text:O("NO TAGS")},{value:"LINKED",text:O("HAS LINKS")},{value:"IMAGED",text:O("HAS IMAGES")}]},TEXT:{value:"TEXT",text:O("TEXT"),operators:[{value:"CONTAIN",text:O("INCLUDE")},{value:"NOT_CONTAIN",text:O("EXCLUDE")}]},DATE:{value:"DATE",text:O("DATE"),operators:[{value:"NOT_CONTAIN",text:O("BEFORE")},{value:"CONTAIN",text:O("AFTER")}]},LIST:{value:"LIST",text:O("LIST"),operators:[{value:"IS",text:O("IS")},{value:"IS_NOT",text:O("ISNOT")}],values:[{value:"TODO",text:O("TODO")},{value:"DONE",text:O("DONE")},{value:"LIST",text:O("JOURNAL")},{value:"OTHER",text:O("OTHER")}]},SOURCE:{value:"SOURCE",text:O("SOURCE"),operators:[{value:"IS",text:O("IS")},{value:"IS_NOT",text:O("ISNOT")}],values:[{value:"DAILY",text:O("DAILY")},{value:"MULTI",text:O("MULTI")},{value:"FILE",text:O("FILE")},{value:"CANVAS",text:O("CANVAS")}]}},v1=sl.TYPE.values,X7=e=>{for(const t of v1)if(t.value===e)return t.text;return""},gD=()=>({type:"TAG",value:{operator:"CONTAIN",value:""},relation:"AND"}),Th=(e,t)=>{let n=!0;for(const r of t){const{relation:a}=r,i=e9(e,r);a==="OR"?n=n||i:n=n&&i}return n},e9=(e,t)=>{const{type:n,value:{operator:r,value:a}}=t;if(a==="")return!0;let i=!0;if(n==="TAG"){let s=!0;const c=new Set;for(const d of Array.from(e.content.match(ir)??[])){const g=d.replace(ir,"$1").trim().split("/");let m="";for(const w of g)m+=w,c.add(m),m+="/"}for(const d of Array.from(e.content.match(Lr)??[])){const g=d.replace(Lr,"$1").trim().split("/");let m="";for(const w of g)m+=w,c.add(m),m+="/"}c.has(a)||(s=!1),r==="NOT_CONTAIN"&&(s=!s),i=s}else if(n==="TYPE"){let s=!1;(a==="NOT_TAGGED"&&e.content.match(ir)===null&&e.content.match(La)===null||a==="LINKED"&&e.content.match(Rf)!==null||a==="IMAGED"&&e.content.match(Lf)!==null||a==="CONNECTED"&&e.content.match(Ou)!==null)&&(s=!0),r==="IS_NOT"&&(s=!s),i=s}else if(n==="TEXT"){let s=e.content.toLowerCase().includes(a.toLowerCase());r==="NOT_CONTAIN"&&(s=!s),i=s}else if(n==="LIST"){let c=(e.thinoType==="JOURNAL"?"LIST":e.thinoType==="TASK-TODO"?"TODO":e.thinoType==="TASK-DONE"?"DONE":"OTHER").contains(a);r==="IS_NOT"&&(c=!c),i=c}else if(n==="SOURCE"){let s=e.sourceType===a;r==="IS_NOT"&&(s=!s),i=s}else if(n==="DATE"){const s=F.moment(a,"YYYY-MM-DD").isValid();let c,d;if(s)c=F.moment(a,"YYYY-MM-DD"),d=c.isBefore(F.moment(e.createdAt,"YYYY-MM-DD HH:mm:ss"),"day");else{const g=(app.plugins.enabledPlugins.has("nldates-obsidian")&&app.plugins.getPlugin("nldates-obsidian")).parseDate(a);g.date!==null&&(d=g.moment.isBefore(F.moment(e.createdAt),"day"))}r==="NOT_CONTAIN"&&(d=!d),i=d}return i=e.linkId===""?i:!1,i},t9={text:O("SELECT"),value:""},n9=e=>{const{className:t,dataSource:n,handleValueChanged:r,value:a}=e,[i,s]=Oo(!1),c=A.useRef(null);let d=t9;for(const m of n)if(m.value===a){d=m;break}A.useEffect(()=>{if(i){const m=w=>{var b;(b=c.current)!=null&&b.contains(w.target)||s(!1)};window.addEventListener("click",m,{capture:!0,once:!0})}},[i]);const h=m=>{r&&r(m.value),s(!1)},g=m=>{m.stopPropagation(),s()};return D.jsxs("div",{className:`selector-wrapper ${t??""}`,ref:c,children:[D.jsxs("div",{className:`current-value-container ${i?"active":""}`,onClick:g,children:[D.jsx("span",{className:"value-text",children:d.text}),D.jsx("span",{ref:m=>{m&&F.setIcon(m,"chevron-right")},className:"btn arrow-text"})]}),D.jsx("div",{className:`items-wrapper ${i?"":"hidden"}`,children:n.map(m=>D.jsx("div",{className:`item-container ${m.value===a?"selected":""}`,onClick:()=>{h(m)},children:m.text},m.value))})]})},pf=A.memo(n9);var vD=function(t){return t.reduce(function(n,r){var a=r[0],i=r[1];return n[a]=i,n},{})},yD=typeof window<"u"&&window.document&&window.document.createElement?A.useLayoutEffect:A.useEffect,ha="top",ao="bottom",oo="right",ma="left",fw="auto",Ch=[ha,ao,oo,ma],Ef="start",Kp="end",r9="clippingParents",M3="viewport",Fp="popper",a9="reference",wD=Ch.reduce(function(e,t){return e.concat([t+"-"+Ef,t+"-"+Kp])},[]),dw=[].concat(Ch,[fw]).reduce(function(e,t){return e.concat([t,t+"-"+Ef,t+"-"+Kp])},[]),o9="beforeRead",i9="read",s9="afterRead",l9="beforeMain",u9="main",c9="afterMain",f9="beforeWrite",d9="write",p9="afterWrite",h9=[o9,i9,s9,l9,u9,c9,f9,d9,p9];function Ti(e){return e?(e.nodeName||"").toLowerCase():null}function Pa(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Cu(e){var t=Pa(e).Element;return e instanceof t||e instanceof Element}function ro(e){var t=Pa(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function pw(e){if(typeof ShadowRoot>"u")return!1;var t=Pa(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function m9(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!ro(i)||!Ti(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(s){var c=a[s];c===!1?i.removeAttribute(s):i.setAttribute(s,c===!0?"":c)}))})}function g9(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=s.reduce(function(d,h){return d[h]="",d},{});!ro(a)||!Ti(a)||(Object.assign(a.style,c),Object.keys(i).forEach(function(d){a.removeAttribute(d)}))})}}const v9={name:"applyStyles",enabled:!0,phase:"write",fn:m9,effect:g9,requires:["computeStyles"]};function Ei(e){return e.split("-")[0]}var Eu=Math.max,rv=Math.min,Tf=Math.round;function y1(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function k3(){return!/^((?!chrome|android).)*safari/i.test(y1())}function Cf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&ro(e)&&(a=e.offsetWidth>0&&Tf(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Tf(r.height)/e.offsetHeight||1);var s=Cu(e)?Pa(e):window,c=s.visualViewport,d=!k3()&&n,h=(r.left+(d&&c?c.offsetLeft:0))/a,g=(r.top+(d&&c?c.offsetTop:0))/i,m=r.width/a,w=r.height/i;return{width:m,height:w,top:g,right:h+m,bottom:g+w,left:h,x:h,y:g}}function hw(e){var t=Cf(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function F3(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&pw(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ls(e){return Pa(e).getComputedStyle(e)}function y9(e){return["table","td","th"].indexOf(Ti(e))>=0}function wl(e){return((Cu(e)?e.ownerDocument:e.document)||window.document).documentElement}function Nv(e){return Ti(e)==="html"?e:e.assignedSlot||e.parentNode||(pw(e)?e.host:null)||wl(e)}function bD(e){return!ro(e)||ls(e).position==="fixed"?null:e.offsetParent}function w9(e){var t=/firefox/i.test(y1()),n=/Trident/i.test(y1());if(n&&ro(e)){var r=ls(e);if(r.position==="fixed")return null}var a=Nv(e);for(pw(a)&&(a=a.host);ro(a)&&["html","body"].indexOf(Ti(a))<0;){var i=ls(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function xh(e){for(var t=Pa(e),n=bD(e);n&&y9(n)&&ls(n).position==="static";)n=bD(n);return n&&(Ti(n)==="html"||Ti(n)==="body"&&ls(n).position==="static")?t:n||w9(e)||t}function mw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vp(e,t,n){return Eu(e,rv(t,n))}function b9(e,t,n){var r=Vp(e,t,n);return r>n?n:r}function N3(){return{top:0,right:0,bottom:0,left:0}}function I3(e){return Object.assign({},N3(),e)}function A3(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var D9=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,I3(typeof t!="number"?t:A3(t,Ch))};function S9(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,c=Ei(n.placement),d=mw(c),h=[ma,oo].indexOf(c)>=0,g=h?"height":"width";if(!(!i||!s)){var m=D9(a.padding,n),w=hw(i),b=d==="y"?ha:ma,T=d==="y"?ao:oo,E=n.rects.reference[g]+n.rects.reference[d]-s[d]-n.rects.popper[g],M=s[d]-n.rects.reference[d],k=xh(i),I=k?d==="y"?k.clientHeight||0:k.clientWidth||0:0,B=E/2-M/2,N=m[b],j=I-w[g]-m[T],R=I/2-w[g]/2+B,_=Vp(N,R,j),$=d;n.modifiersData[r]=(t={},t[$]=_,t.centerOffset=_-R,t)}}function E9(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||F3(t.elements.popper,a)&&(t.elements.arrow=a))}const O3={name:"arrow",enabled:!0,phase:"main",fn:S9,effect:E9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xf(e){return e.split("-")[1]}var T9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function C9(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:Tf(n*a)/a||0,y:Tf(r*a)/a||0}}function DD(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,s=e.offsets,c=e.position,d=e.gpuAcceleration,h=e.adaptive,g=e.roundOffsets,m=e.isFixed,w=s.x,b=w===void 0?0:w,T=s.y,E=T===void 0?0:T,M=typeof g=="function"?g({x:b,y:E}):{x:b,y:E};b=M.x,E=M.y;var k=s.hasOwnProperty("x"),I=s.hasOwnProperty("y"),B=ma,N=ha,j=window;if(h){var R=xh(n),_="clientHeight",$="clientWidth";if(R===Pa(n)&&(R=wl(n),ls(R).position!=="static"&&c==="absolute"&&(_="scrollHeight",$="scrollWidth")),a===ha||(a===ma||a===oo)&&i===Kp){N=ao;var q=m&&R===j&&j.visualViewport?j.visualViewport.height:R[_];E-=q-r.height,E*=d?1:-1}if(a===ma||(a===ha||a===ao)&&i===Kp){B=oo;var z=m&&R===j&&j.visualViewport?j.visualViewport.width:R[$];b-=z-r.width,b*=d?1:-1}}var ee=Object.assign({position:c},h&&T9),ie=g===!0?C9({x:b,y:E},Pa(n)):{x:b,y:E};if(b=ie.x,E=ie.y,d){var ae;return Object.assign({},ee,(ae={},ae[N]=I?"0":"",ae[B]=k?"0":"",ae.transform=(j.devicePixelRatio||1)<=1?"translate("+b+"px, "+E+"px)":"translate3d("+b+"px, "+E+"px, 0)",ae))}return Object.assign({},ee,(t={},t[N]=I?E+"px":"",t[B]=k?b+"px":"",t.transform="",t))}function x9(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,c=n.roundOffsets,d=c===void 0?!0:c,h={placement:Ei(t.placement),variation:xf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,DD(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,DD(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const R3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:x9,data:{}};var Dg={passive:!0};function M9(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,s=r.resize,c=s===void 0?!0:s,d=Pa(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&h.forEach(function(g){g.addEventListener("scroll",n.update,Dg)}),c&&d.addEventListener("resize",n.update,Dg),function(){i&&h.forEach(function(g){g.removeEventListener("scroll",n.update,Dg)}),c&&d.removeEventListener("resize",n.update,Dg)}}const L3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:M9,data:{}};var k9={left:"right",right:"left",bottom:"top",top:"bottom"};function Hg(e){return e.replace(/left|right|bottom|top/g,function(t){return k9[t]})}var F9={start:"end",end:"start"};function SD(e){return e.replace(/start|end/g,function(t){return F9[t]})}function gw(e){var t=Pa(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function vw(e){return Cf(wl(e)).left+gw(e).scrollLeft}function N9(e,t){var n=Pa(e),r=wl(e),a=n.visualViewport,i=r.clientWidth,s=r.clientHeight,c=0,d=0;if(a){i=a.width,s=a.height;var h=k3();(h||!h&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:i,height:s,x:c+vw(e),y:d}}function I9(e){var t,n=wl(e),r=gw(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=Eu(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Eu(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),c=-r.scrollLeft+vw(e),d=-r.scrollTop;return ls(a||n).direction==="rtl"&&(c+=Eu(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:c,y:d}}function yw(e){var t=ls(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function _3(e){return["html","body","#document"].indexOf(Ti(e))>=0?e.ownerDocument.body:ro(e)&&yw(e)?e:_3(Nv(e))}function zp(e,t){var n;t===void 0&&(t=[]);var r=_3(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=Pa(r),s=a?[i].concat(i.visualViewport||[],yw(r)?r:[]):r,c=t.concat(s);return a?c:c.concat(zp(Nv(s)))}function w1(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function A9(e,t){var n=Cf(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function ED(e,t,n){return t===M3?w1(N9(e,n)):Cu(t)?A9(t,n):w1(I9(wl(e)))}function O9(e){var t=zp(Nv(e)),n=["absolute","fixed"].indexOf(ls(e).position)>=0,r=n&&ro(e)?xh(e):e;return Cu(r)?t.filter(function(a){return Cu(a)&&F3(a,r)&&Ti(a)!=="body"}):[]}function R9(e,t,n,r){var a=t==="clippingParents"?O9(e):[].concat(t),i=[].concat(a,[n]),s=i[0],c=i.reduce(function(d,h){var g=ED(e,h,r);return d.top=Eu(g.top,d.top),d.right=rv(g.right,d.right),d.bottom=rv(g.bottom,d.bottom),d.left=Eu(g.left,d.left),d},ED(e,s,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function P3(e){var t=e.reference,n=e.element,r=e.placement,a=r?Ei(r):null,i=r?xf(r):null,s=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,d;switch(a){case ha:d={x:s,y:t.y-n.height};break;case ao:d={x:s,y:t.y+t.height};break;case oo:d={x:t.x+t.width,y:c};break;case ma:d={x:t.x-n.width,y:c};break;default:d={x:t.x,y:t.y}}var h=a?mw(a):null;if(h!=null){var g=h==="y"?"height":"width";switch(i){case Ef:d[h]=d[h]-(t[g]/2-n[g]/2);break;case Kp:d[h]=d[h]+(t[g]/2-n[g]/2);break}}return d}function Qp(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.strategy,s=i===void 0?e.strategy:i,c=n.boundary,d=c===void 0?r9:c,h=n.rootBoundary,g=h===void 0?M3:h,m=n.elementContext,w=m===void 0?Fp:m,b=n.altBoundary,T=b===void 0?!1:b,E=n.padding,M=E===void 0?0:E,k=I3(typeof M!="number"?M:A3(M,Ch)),I=w===Fp?a9:Fp,B=e.rects.popper,N=e.elements[T?I:w],j=R9(Cu(N)?N:N.contextElement||wl(e.elements.popper),d,g,s),R=Cf(e.elements.reference),_=P3({reference:R,element:B,strategy:"absolute",placement:a}),$=w1(Object.assign({},B,_)),q=w===Fp?$:R,z={top:j.top-q.top+k.top,bottom:q.bottom-j.bottom+k.bottom,left:j.left-q.left+k.left,right:q.right-j.right+k.right},ee=e.modifiersData.offset;if(w===Fp&&ee){var ie=ee[a];Object.keys(z).forEach(function(ae){var me=[oo,ao].indexOf(ae)>=0?1:-1,fe=[ha,ao].indexOf(ae)>=0?"y":"x";z[ae]+=ie[fe]*me})}return z}function L9(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,s=n.padding,c=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?dw:d,g=xf(r),m=g?c?wD:wD.filter(function(T){return xf(T)===g}):Ch,w=m.filter(function(T){return h.indexOf(T)>=0});w.length===0&&(w=m);var b=w.reduce(function(T,E){return T[E]=Qp(e,{placement:E,boundary:a,rootBoundary:i,padding:s})[Ei(E)],T},{});return Object.keys(b).sort(function(T,E){return b[T]-b[E]})}function _9(e){if(Ei(e)===fw)return[];var t=Hg(e);return[SD(e),t,SD(t)]}function P9(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,s=n.altAxis,c=s===void 0?!0:s,d=n.fallbackPlacements,h=n.padding,g=n.boundary,m=n.rootBoundary,w=n.altBoundary,b=n.flipVariations,T=b===void 0?!0:b,E=n.allowedAutoPlacements,M=t.options.placement,k=Ei(M),I=k===M,B=d||(I||!T?[Hg(M)]:_9(M)),N=[M].concat(B).reduce(function(ue,De){return ue.concat(Ei(De)===fw?L9(t,{placement:De,boundary:g,rootBoundary:m,padding:h,flipVariations:T,allowedAutoPlacements:E}):De)},[]),j=t.rects.reference,R=t.rects.popper,_=new Map,$=!0,q=N[0],z=0;z<N.length;z++){var ee=N[z],ie=Ei(ee),ae=xf(ee)===Ef,me=[ha,ao].indexOf(ie)>=0,fe=me?"width":"height",be=Qp(t,{placement:ee,boundary:g,rootBoundary:m,altBoundary:w,padding:h}),Te=me?ae?oo:ma:ae?ao:ha;j[fe]>R[fe]&&(Te=Hg(Te));var J=Hg(Te),ve=[];if(i&&ve.push(be[ie]<=0),c&&ve.push(be[Te]<=0,be[J]<=0),ve.every(function(ue){return ue})){q=ee,$=!1;break}_.set(ee,ve)}if($)for(var V=T?3:1,G=function(De){var Re=N.find(function(Ye){var Be=_.get(Ye);if(Be)return Be.slice(0,De).every(function(yt){return yt})});if(Re)return q=Re,"break"},le=V;le>0;le--){var we=G(le);if(we==="break")break}t.placement!==q&&(t.modifiersData[r]._skip=!0,t.placement=q,t.reset=!0)}}const j3={name:"flip",enabled:!0,phase:"main",fn:P9,requiresIfExists:["offset"],data:{_skip:!1}};function TD(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function CD(e){return[ha,oo,ao,ma].some(function(t){return e[t]>=0})}function j9(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,s=Qp(t,{elementContext:"reference"}),c=Qp(t,{altBoundary:!0}),d=TD(s,r),h=TD(c,a,i),g=CD(d),m=CD(h);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":m})}const B3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:j9};function B9(e,t,n){var r=Ei(e),a=[ma,ha].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=i[0],c=i[1];return s=s||0,c=(c||0)*a,[ma,oo].indexOf(r)>=0?{x:c,y:s}:{x:s,y:c}}function Y9(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,s=dw.reduce(function(g,m){return g[m]=B9(m,t.rects,i),g},{}),c=s[t.placement],d=c.x,h=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}const Y3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Y9};function H9(e){var t=e.state,n=e.name;t.modifiersData[n]=P3({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const H3={name:"popperOffsets",enabled:!0,phase:"read",fn:H9,data:{}};function U9(e){return e==="x"?"y":"x"}function V9(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,s=n.altAxis,c=s===void 0?!1:s,d=n.boundary,h=n.rootBoundary,g=n.altBoundary,m=n.padding,w=n.tether,b=w===void 0?!0:w,T=n.tetherOffset,E=T===void 0?0:T,M=Qp(t,{boundary:d,rootBoundary:h,padding:m,altBoundary:g}),k=Ei(t.placement),I=xf(t.placement),B=!I,N=mw(k),j=U9(N),R=t.modifiersData.popperOffsets,_=t.rects.reference,$=t.rects.popper,q=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,z=typeof q=="number"?{mainAxis:q,altAxis:q}:Object.assign({mainAxis:0,altAxis:0},q),ee=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ie={x:0,y:0};if(R){if(i){var ae,me=N==="y"?ha:ma,fe=N==="y"?ao:oo,be=N==="y"?"height":"width",Te=R[N],J=Te+M[me],ve=Te-M[fe],V=b?-$[be]/2:0,G=I===Ef?_[be]:$[be],le=I===Ef?-$[be]:-_[be],we=t.elements.arrow,ue=b&&we?hw(we):{width:0,height:0},De=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:N3(),Re=De[me],Ye=De[fe],Be=Vp(0,_[be],ue[be]),yt=B?_[be]/2-V-Be-Re-z.mainAxis:G-Be-Re-z.mainAxis,Se=B?-_[be]/2+V+Be+Ye+z.mainAxis:le+Be+Ye+z.mainAxis,Ve=t.elements.arrow&&xh(t.elements.arrow),Ke=Ve?N==="y"?Ve.clientTop||0:Ve.clientLeft||0:0,Xe=(ae=ee==null?void 0:ee[N])!=null?ae:0,Ge=Te+yt-Xe-Ke,tt=Te+Se-Xe,Dt=Vp(b?rv(J,Ge):J,Te,b?Eu(ve,tt):ve);R[N]=Dt,ie[N]=Dt-Te}if(c){var dt,Vt=N==="x"?ha:ma,Ba=N==="x"?ao:oo,cn=R[j],en=j==="y"?"height":"width",br=cn+M[Vt],Dr=cn-M[Ba],_o=[ha,ma].indexOf(k)!==-1,va=(dt=ee==null?void 0:ee[j])!=null?dt:0,so=_o?br:cn-_[en]-$[en]-va+z.altAxis,Qr=_o?cn+_[en]+$[en]-va-z.altAxis:Dr,Sr=b&&_o?b9(so,cn,Qr):Vp(b?so:br,cn,b?Qr:Dr);R[j]=Sr,ie[j]=Sr-cn}t.modifiersData[r]=ie}}const U3={name:"preventOverflow",enabled:!0,phase:"main",fn:V9,requiresIfExists:["offset"]};function z9(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function $9(e){return e===Pa(e)||!ro(e)?gw(e):z9(e)}function q9(e){var t=e.getBoundingClientRect(),n=Tf(t.width)/e.offsetWidth||1,r=Tf(t.height)/e.offsetHeight||1;return n!==1||r!==1}function W9(e,t,n){n===void 0&&(n=!1);var r=ro(t),a=ro(t)&&q9(t),i=wl(t),s=Cf(e,a,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((Ti(t)!=="body"||yw(i))&&(c=$9(t)),ro(t)?(d=Cf(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=vw(i))),{x:s.left+c.scrollLeft-d.x,y:s.top+c.scrollTop-d.y,width:s.width,height:s.height}}function G9(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(c){if(!n.has(c)){var d=t.get(c);d&&a(d)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function K9(e){var t=G9(e);return h9.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function Q9(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Z9(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var xD={placement:"bottom",modifiers:[],strategy:"absolute"};function MD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function V3(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?xD:a;return function(c,d,h){h===void 0&&(h=i);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},xD,i),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},m=[],w=!1,b={state:g,setOptions:function(k){var I=typeof k=="function"?k(g.options):k;E(),g.options=Object.assign({},i,g.options,I),g.scrollParents={reference:Cu(c)?zp(c):c.contextElement?zp(c.contextElement):[],popper:zp(d)};var B=K9(Z9([].concat(r,g.options.modifiers)));return g.orderedModifiers=B.filter(function(N){return N.enabled}),T(),b.update()},forceUpdate:function(){if(!w){var k=g.elements,I=k.reference,B=k.popper;if(MD(I,B)){g.rects={reference:W9(I,xh(B),g.options.strategy==="fixed"),popper:hw(B)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(z){return g.modifiersData[z.name]=Object.assign({},z.data)});for(var N=0;N<g.orderedModifiers.length;N++){if(g.reset===!0){g.reset=!1,N=-1;continue}var j=g.orderedModifiers[N],R=j.fn,_=j.options,$=_===void 0?{}:_,q=j.name;typeof R=="function"&&(g=R({state:g,options:$,name:q,instance:b})||g)}}}},update:Q9(function(){return new Promise(function(M){b.forceUpdate(),M(g)})}),destroy:function(){E(),w=!0}};if(!MD(c,d))return b;b.setOptions(h).then(function(M){!w&&h.onFirstUpdate&&h.onFirstUpdate(M)});function T(){g.orderedModifiers.forEach(function(M){var k=M.name,I=M.options,B=I===void 0?{}:I,N=M.effect;if(typeof N=="function"){var j=N({state:g,name:k,instance:b,options:B}),R=function(){};m.push(j||R)}})}function E(){m.forEach(function(M){return M()}),m=[]}return b}}var J9=[L3,H3,R3,v9,Y3,j3,U3,O3,B3],z3=V3({defaultModifiers:J9}),X9=typeof Element<"u",eF=typeof Map=="function",tF=typeof Set=="function",nF=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ug(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Ug(e[r],t[r]))return!1;return!0}var i;if(eF&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!Ug(r.value[1],t.get(r.value[0])))return!1;return!0}if(tF&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(nF&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(X9&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!Ug(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var rF=function(t,n){try{return Ug(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const aF=qn(rF);var oF=[],Iv=function(t,n,r){r===void 0&&(r={});var a=A.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||oF},s=A.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=s[0],d=s[1],h=A.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(b){var T=b.state,E=Object.keys(T.elements);uw.flushSync(function(){d({styles:vD(E.map(function(M){return[M,T.styles[M]||{}]})),attributes:vD(E.map(function(M){return[M,T.attributes[M]]}))})})},requires:["computeStyles"]}},[]),g=A.useMemo(function(){var w={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[h,{name:"applyStyles",enabled:!1}])};return aF(a.current,w)?a.current||w:(a.current=w,w)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,h]),m=A.useRef();return yD(function(){m.current&&m.current.setOptions(g)},[g]),yD(function(){if(!(t==null||n==null)){var w=r.createPopper||z3,b=w(t,n,g);return m.current=b,function(){b.destroy(),m.current=null}}},[t,n,r.createPopper]),{state:m.current?m.current.state:null,styles:c.styles,attributes:c.attributes,update:m.current?m.current.update:null,forceUpdate:m.current?m.current.forceUpdate:null}},iF=function(){},sF=iF;const lF=qn(sF),uF=[{label:O("Today"),value:F.moment().format("YYYY-MM-DD")},{label:O("Yesterday"),value:F.moment().subtract(1,"days").format("YYYY-MM-DD")},{label:O("Last 7 days"),value:F.moment().subtract(7,"days").format("YYYY-MM-DD")},{label:O("Last 30 days"),value:F.moment().subtract(30,"days").format("YYYY-MM-DD")},{label:O("Last 90 days"),value:F.moment().subtract(90,"days").format("YYYY-MM-DD")},{label:O("Last 180 days"),value:F.moment().subtract(180,"days").format("YYYY-MM-DD")},{label:O("Last 365 days"),value:F.moment().subtract(365,"days").format("YYYY-MM-DD")}],$3=e=>{const{handleValueChange:t,setShownStatus:n}=e;return D.jsxs(D.Fragment,{children:[e.type==="icon"&&D.jsx("div",{className:"quick-date-btn-group",children:uF.map((r,a)=>D.jsx("div",{className:"btn action-btn quick-date-btn",onClick:()=>{t(r.value),n&&n(!1)},children:r.label},a))}),D.jsx(kv,{className:"calendar-date-picker",datestamp:(e==null?void 0:e.defaultValue)||F.moment().startOf("day").valueOf(),handleDateStampChange:(r,a)=>{t(e.type==="icon"?F.moment(r).format("YYYY-MM-DD"):r.toString()),n&&n(!1)}})]})},av=e=>{const{handleValueChange:t}=e,[n,r]=Q.useState(!1),a=Q.useRef(null),i=Q.useRef(null),s=Iv(i.current,a.current,{placement:"bottom-start"});return Eh(a,()=>{r(!1)}),D.jsxs(D.Fragment,{children:[D.jsx("span",{ref:d=>{i.current=d,d&&e.type==="icon"&&F.setIcon(d,"calendar")},className:`btn calendar-btn ${e.type==="icon"?"icon-btn":"text-btn"}`,onClick:()=>{!F.Platform.isMobile&&r(!n),!F.Platform.isMobile&&(s!=null&&s.update)&&(s==null||s.update()),F.Platform.isMobile&&new q3(ct.getState().app,e.type,t).open()},children:e.type==="text"&&e.defaultValue?e.defaultText?e.defaultText:F.moment(e.defaultValue,"x").subtract(e.startOrEnd==="end"?1:0,"days").format("YYYY/MM/DD"):""}),D.jsx("div",{className:`menu-btns-popup ${n?"":"hidden"}`,ref:a,style:s.styles.popper,children:D.jsx($3,{type:e.defaultText?"icon":e.type,handleValueChange:t,setShownStatus:r})})]})};class q3 extends F.Modal{constructor(n,r,a){super(n);ye(this,"root");ye(this,"type");ye(this,"handleValueChange");this.type=r,this.handleValueChange=a}onOpen(){const{contentEl:n}=this;this.root=Mv(n),this.root.render(D.jsx($3,{type:this.type,handleValueChange:this.handleValueChange,setShownStatus:r=>{!r&&this.close()}}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const cF=(e,t)=>(e%t+t)%t;class fF{constructor(t,n,r){ye(this,"owner");ye(this,"values");ye(this,"suggestions");ye(this,"selectedItem");ye(this,"containerEl");this.owner=t,this.containerEl=n,n.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),n.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),r.register([],"ArrowUp",a=>{if(!a.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),r.register([],"ArrowDown",a=>{if(!a.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),r.register([],"Enter",a=>{if(!a.isComposing)return this.useSelectedItem(a),!1})}onSuggestionClick(t,n){t.preventDefault();const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,n){const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1)}setSuggestions(t){this.containerEl.empty();const n=[];t.forEach(r=>{const a=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(r,a),n.push(a)}),this.values=t,this.suggestions=n,this.setSelectedItem(0,!1)}useSelectedItem(t){const n=this.values[this.selectedItem];n&&this.owner.selectSuggestion(n,t)}setSelectedItem(t,n){const r=cF(t,this.suggestions.length),a=this.suggestions[this.selectedItem],i=this.suggestions[r];a==null||a.removeClass("is-selected"),i==null||i.addClass("is-selected"),this.selectedItem=r,n&&i.scrollIntoView(!1)}}class W3{constructor(t,n){ye(this,"inputEl");ye(this,"popper");ye(this,"scope");ye(this,"suggestEl");ye(this,"suggest");this.cb=n,this.inputEl=t,this.scope=new F.Scope,this.suggestEl=createDiv("suggestion-container");const r=this.suggestEl.createDiv("suggestion");this.suggest=new fF(this,r,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",a=>{a.preventDefault()})}onInputChanged(){const t=this.inputEl.value,n=this.getSuggestions(t);if(!n){this.close();return}n.length>0?(this.suggest.setSuggestions(n),this.open(app.dom.appContainerEl,this.inputEl)):this.close()}open(t,n){app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=z3(n,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:r,instance:a})=>{const i=`${r.rects.reference.width}px`;r.styles.popper.width!==i&&(r.styles.popper.width=i,a.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}destroy(){this.inputEl.removeEventListener("input",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("blur",this.close.bind(this)),this.close()}}const dF=e=>{const t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())};let pF=class extends W3{fuzzySearchItemsOptimized(t,n){const r=F.prepareFuzzySearch(t);return n.map(a=>{const i=r(a);return i?{item:a,match:i,score:i.score}:null}).sort((a,i)=>(i==null?void 0:i.score)-(a==null?void 0:a.score)).filter(Boolean)}getSuggestions(t){const{settings:n,app:r}=ct.getState(),a=t.toLocaleLowerCase(),i=n.UseVaultTags?dF(r):Me.getState().tags;return this.fuzzySearchItemsOptimized(a,i).map(s=>s.item)}renderSuggestion(t,n){n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:t})}selectSuggestion(t){this.inputEl.value=t,this.inputEl.dispatchEvent(new Event("change")),this.cb&&this.cb(t),this.close()}};function yr(){const e=document.createDocumentFragment();e.createEl("div",{cls:"thino-info"}).createEl("div",{text:O("This is a pro feature, please upgrade to pro version to use it.")});const r=e.createEl("div",{cls:"thino-link"}).createEl("div",{text:O("You can get pro version from: ")}),a=localStorage.getItem("language");let i="https://pkmer.cn/products/UserProfile/";a&&a==="zh"?i="https://pkmer.cn/products/thino/":i="https://thino.pkmer.net/en/",r.createEl("a",{text:"PKMer",attr:{href:i}}),new F.Notice(e,5e3)}const{exec:hF,execSync:TJ}=F.Platform.isDesktop&&require("child_process"),{createHash:mF}=F.Platform.isDesktop&&require("crypto"),gF={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},vF=F.Platform.isDesktop&&{darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:`${gF[yF()]}\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`,linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"};function yF(){return process.platform!=="win32"?"":process.arch==="ia32"&&Object.hasOwnProperty.call(process.env,"PROCESSOR_ARCHITEW6432")?"mixed":"native"}function wF(e){return mF("sha256").update(e).digest("hex")}function bF(e){switch(process.platform){case"darwin":return e.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return e.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error(`Unsupported platform: ${process.platform}`)}}function Un(e=!1){return new Promise((t,n)=>{hF(vF[process.platform],{},(r,a)=>{if(r)return n(new Error(`Error while obtaining machine id: ${r.stack}`));const i=bF(a.toString());return t(e?i:wF(i))})})}const ww=e=>{const{destroy:t,queryId:n,type:r="dialog"}=e,[a,i]=A.useState(""),[s,c]=A.useState(r!=="dialog"?[gD()]:[]),d=Vf(!1),[h,g]=A.useState(!1),[m,w]=Oo(!1),b=Me.getState().memos.filter(R=>!(R.deletedAt!==""&&R.deletedAt)).filter(R=>Th(R,s)).length;A.useEffect(()=>{T()},[n]);const T=()=>{const R=ln.getQueryById(n??"");if(R){i(R.title);const _=JSON.parse(R.querystring);return Array.isArray(_)&&c(_),R}},E=R=>{const _=R.target.value;i(_)},M=async()=>{if(!a)return new F.Notice(O("TITLE CANNOT BE NULL!")),null;if(s.length===0)return new F.Notice(O("FILTER CANNOT BE NULL!")),null;if(s.length===1&&s[s.length-1].value.value==="")return new F.Notice(O("Please finish the last filter setting first")),null;let R;try{n&&!n.startsWith("Filter [Temp] ")?(R=await ln.updateQuery(n,a,JSON.stringify(s)),ln.editQuery(R),await ln.getMyAllQueries()):(R=await ln.createQuery(a,JSON.stringify(s)),ln.pushQuery(R),await ln.getMyAllQueries())}catch(_){new F.Notice(_.message)}return R},k=async()=>{switch(r){case"modal":case"inline":if(s.length===0){new F.Notice(O("FILTER CANNOT BE NULL!"));return}if(s.length===1&&s[s.length-1].value.value===""){new F.Notice(O("Please finish the last filter setting first"));return}try{const R=ln.getQueryById(n??"");if(R&&JSON.stringify(s)===R.querystring){it.setMemoFilter(R.id),t();return}const _=ln.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(s));ln.pushQuery(_),it.setMemoFilter(_.id)}catch(R){new F.Notice(R.message)}t();break;case"dialog":try{if(!await M())return}catch(R){console.error(R),new F.Notice(R.message)}t();break}},I=()=>{if(s.length===0){new F.Notice(O("FILTER CANNOT BE NULL!"));return}if(h){it.setMemoFilter(""),g(!1);return}const R=ln.getQueryById(n??"");if(R&&JSON.stringify(s)===R.querystring){it.setMemoFilter(R.id);return}const _=ln.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(s));ln.pushQuery(_),it.setMemoFilter(_.id),e.setPreview&&e.setPreview(_.id),g(!0)},B=()=>{if(s.length>0&&s[s.length-1].value.value===""){new F.Notice(O("Please finish the last filter setting first"));return}c([...s,gD()])},N=A.useCallback((R,_)=>{c($=>{const q=[...$];return q[R]=_,q})},[]),j=A.useCallback(R=>{c(_=>_.filter((q,z)=>z!==R))},[]);return D.jsxs(D.Fragment,{children:[r==="dialog"&&D.jsxs("div",{className:"dialog-header-container",children:[D.jsxs("span",{className:"title-text",children:[D.jsx("span",{className:"icon-text",children:"🔖"}),O(n?"EDIT QUERY":"CREATE QUERY")]}),D.jsx("button",{ref:R=>{R&&F.setIcon(R,"x")},className:"btn close-btn",onClick:t})]}),D.jsxs("div",{className:"dialog-content-container",children:[(r==="dialog"||m)&&D.jsxs("div",{className:"form-item-container input-form-container",children:[D.jsx("span",{className:"normal-text",children:O("TITLE")}),D.jsx("input",{className:"title-input",type:"text",value:a,onChange:E})]}),D.jsxs("div",{className:"form-item-container filter-form-container",children:[D.jsx("span",{className:"normal-text",children:O("FILTER")}),D.jsxs("div",{className:"filters-wrapper",children:[s.map((R,_)=>D.jsx(SF,{index:_,filter:R,handleFilterChange:N,handleFilterRemove:j},_)),D.jsx("div",{className:"create-filter-btn",onClick:B,children:O("ADD FILTER TERMS")})]})]})]}),D.jsx("div",{className:"dialog-footer-container",children:D.jsxs("div",{className:"btns-container",children:[(r==="inline"||r==="modal")&&D.jsx("button",{className:`btn ${m?"mod-cta":"save-btn"}`,onClick:async()=>{if(!m)w();else{const R=await M();w(!1),t(),R&&it.setMemoFilter(R.id)}},children:O(m?"Set and save":"Save")}),D.jsxs("div",{className:"btns-group-container",children:[D.jsxs("span",{className:`tip-text ${s.length===0&&"hidden"}`,children:[O("MATCH")," Thino ",D.jsx("strong",{children:b})," ",O("TIMES")]}),D.jsx(D.Fragment,{children:r==="inline"&&D.jsx("button",{className:"btn mod-cta",onClick:I,children:O("Preview")})}),D.jsx("button",{className:`btn save-btn ${d.isLoading?"requesting":""}`,onClick:k,children:O(r==="inline"||r==="modal"?"Filter":n?"EDIT":"Save")})]})]})})]})},DF=e=>{const{index:t,filter:n,handleFilterChange:r,handleFilterRemove:a}=e,{type:i}=n,s=A.useRef(null),c=A.useRef(null),d=A.useRef(n),h=A.useRef(i);A.useEffect(()=>{d.current=e.filter},[n]),A.useEffect(()=>{if(s.current)return i==="TAG"&&!c.current&&(h.current=i,c.current=new pF(s.current,b)),()=>{c.current&&(c.current.destroy(),c.current=null)}},[s,i]);const g=A.useCallback(M=>{["AND","OR"].includes(M)&&r(t,{...n,relation:M})},[n]),m=A.useCallback(async M=>{var k;if(n.type!==M){const{verifyState:I}=ct.getState(),B=!F.Platform.isDesktop&&await((k=window.Capacitor)==null?void 0:k.Plugins.Device.getId()),N=F.Platform.isDesktop?await Un():B.identifier||B.uuid,j=I&&(I==null?void 0:I.appId)===N;if(M==="SOURCE"&&!j){yr();return}const R=Object.values(sl[M].operators);r(t,{...n,type:M,value:{operator:R[0].value,value:""}})}},[n]),w=A.useCallback(M=>{r(t,{...n,value:{...n.value,operator:M}})},[n]),b=A.useCallback(M=>{r(t,{...d.current,value:{...d.current.value,value:M}})},[n]),T=()=>{a(t)},E={TYPE:D.jsx(pf,{className:"value-selector",dataSource:sl.TYPE.values,value:n.value.value,handleValueChanged:b}),LIST:D.jsx(pf,{className:"value-selector",dataSource:sl.LIST.values,value:n.value.value,handleValueChanged:b}),SOURCE:D.jsx(pf,{className:"value-selector",dataSource:sl.SOURCE.values,value:n.value.value,handleValueChanged:b}),TAG:D.jsx("input",{type:"text",id:Math.random().toString(36).substring(7),className:"value-inputer",ref:s,value:n.value.value,onChange:M=>{b(M.target.value)}}),TEXT:D.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:M=>{b(M.target.value)}}),DATE:D.jsxs("div",{className:"date-inputer",children:[D.jsx(av,{type:"icon",handleValueChange:b}),D.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:M=>{b(M.target.value)}})]})};return D.jsxs("div",{className:"memo-filter-input-wrapper",children:[t>0&&D.jsx(pf,{className:"relation-selector",dataSource:J7,value:n.relation,handleValueChanged:g}),D.jsx(pf,{className:"type-selector",dataSource:Object.values(sl),value:n.type,handleValueChanged:m}),D.jsxs(D.Fragment,{children:[Object.keys(sl).includes(i)&&D.jsx(pf,{className:"operator-selector",dataSource:Object.values(sl[i].operators),value:n.value.operator,handleValueChanged:w}),E[i]]}),D.jsx("div",{ref:M=>{M&&F.setIcon(M,"x")},className:"btn remove-btn",onClick:T})]})},SF=A.memo(DF);function b1(e){Sh({className:"create-query-dialog"},ww,{queryId:e})}const EF=()=>{const{queryState:{queries:e},dailyNotesState:{app:t},locationState:{query:{filter:n}}}=A.useContext(Ft),r=Vf(),[a,i]=A.useState([]);return A.useEffect(()=>{const s=e.filter(c=>{var d,h;return!((d=c.id)!=null&&d.toString().startsWith("Filter [Temp]"))&&!((h=c.id)!=null&&h.toString().includes("Filter [Temp]"))}).sort((c,d)=>{if(d.pinnedAt&&!c.pinnedAt)return 1;if(c.pinnedAt&&!d.pinnedAt)return-1;const h=Ue.getTimeStampByDate(c.pinnedAt||c.createdAt);return Ue.getTimeStampByDate(d.pinnedAt||d.createdAt)-h});i(s)},[e]),A.useEffect(()=>{ln.getMyAllQueries().catch(()=>{}).finally(()=>{r.setFinish()})},[t]),D.jsxs("div",{className:"queries-wrapper",children:[D.jsxs("span",{className:"title-text",children:[D.jsx("span",{className:"normal-text",children:O("QUERY")}),D.jsx("span",{ref:s=>{s&&F.setIcon(s,"plus")},className:"btn create-query-btn",onClick:()=>b1()})]}),D.jsx(No,{when:r.isSucceed&&a.length===0,children:D.jsx("div",{className:"create-query-btn-container",children:D.jsx("span",{className:"btn",onClick:()=>b1(),children:O("CREATE FILTER")})})}),D.jsx("div",{className:"queries-container",children:a.map(s=>D.jsx(TF,{query:s,isActive:s.id===n},`${s.id}-${F.moment(s.createdAt,"YYYY-MM-DD HH:mm:ss").format("x")}`))})]})},TF=e=>{const{query:t,isActive:n}=e,[r,a]=Oo(!1),[i,s]=Oo(!1),c=()=>{it.setMemoFilter(n?"":t.id)},d=E=>{E.stopPropagation(),a()},h=()=>{a(!1)},g=async E=>{if(E.stopPropagation(),i)try{await ln.deleteQuery(t.id)}catch(M){new F.Notice(M.message)}else s()},m=E=>{E.stopPropagation(),b1(t.id)},w=async E=>{E.stopPropagation();try{t.pinnedAt?await ln.unpinQuery(t.id):await ln.pinQuery(t.id),ln.editQuery({...t,pinnedAt:t.pinnedAt?"":Ue.getDateTimeString(Date.now())})}catch(M){console.error(M)}},b=()=>{s(!1)},T=A.useMemo(()=>D.jsxs("div",{className:"action-btns-container",children:[D.jsxs("span",{className:"btn",onClick:w,children:[D.jsx("span",{ref:E=>{E&&F.setIcon(E,t.pinnedAt?"pin-off":"pin")},className:"icon-text"}),D.jsx("span",{className:"normal-text",children:t.pinnedAt?O("UNPIN"):O("PIN")})]}),D.jsxs("span",{className:"btn",onClick:m,children:[D.jsx("span",{ref:E=>{E&&!E.hasChildNodes()&&F.setIcon(E,"edit")},className:"icon-text"}),D.jsx("span",{className:"normal-text",children:O("EDIT")})]}),D.jsxs("span",{className:`btn delete-btn ${i?"final-confirm":""}`,onClick:g,onMouseLeave:b,children:[D.jsx("span",{ref:E=>{E&&!E.hasChildNodes()&&F.setIcon(E,"trash-2")},className:"icon-text"}),D.jsx("span",{className:"normal-text",children:O(i?"CONFIRM！":"DELETE")})]})]}),[t.pinnedAt,i]);return D.jsx(D.Fragment,{children:D.jsxs("div",{className:`query-item-container ${n?"active":""}`,onClick:c,children:[D.jsxs("div",{className:"query-text-container",children:[D.jsx("span",{ref:E=>{E&&!E.hasChildNodes()&&F.setIcon(E,"filter")},className:"icon-text"}),D.jsxs("span",{className:"query-text",children:[t.title,t.pinnedAt&&" 📌"]})]}),D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{ref:E=>{E&&!E.hasChildNodes()&&F.setIcon(E,"more-horizontal")},className:"btn action-btn toggle-btn",onClick:d}),D.jsx("div",{className:`action-btns-wrapper ${r?"":"hidden"}`,onMouseLeave:h,children:T})]})]})})},CF=()=>{var g;const{locationState:{query:{tag:e}},dailyNotesState:{app:t},memoState:{tags:n,tagsNum:r,memos:a}}=A.useContext(Ft),[i,s]=A.useState([]),[c,d]=A.useState(((g=t||app)==null?void 0:g.loadLocalStorage("thino-tag-sort-order"))||"alphabetical");A.useEffect(()=>{var w;const m=(w=t||app)==null?void 0:w.loadLocalStorage("thino-temp-tags");s(m||[])},[]),A.useEffect(()=>{Me.updateTagsState()},[a]),A.useEffect(()=>{const m=Array.from(n).sort(),w={subTags:[]};for(const b of m){const T=b.split("/");let E=w,M="";for(let k=0;k<T.length;k++){const I=T[k];k===0?M+=I:M+="/"+I;let B=null;for(const N of E.subTags)if(N.text===M){B=N;break}B||(B={key:I,text:M,count:r[M],subTags:[]},E.subTags.push(B)),E=B}}s(w.subTags)},[n]),A.useEffect(()=>{var m;Me.initialized&&((m=t||app)==null||m.saveLocalStorage("thino-temp-tags",i))},[i]);const h=m=>{m.stopPropagation();const w=new F.Menu;for(const b of["alphabetical","alphabeticalReverse","byCount","byCountReverse"])w.addItem(T=>{T.setTitle(O(b)).onClick(()=>{d(b),t==null||t.saveLocalStorage("thino-tag-sort-order",b)}).setChecked(c===b)}),b==="alphabeticalReverse"&&w.addSeparator();w.showAtMouseEvent(m.nativeEvent)};return D.jsxs("div",{className:"tags-wrapper",children:[D.jsxs("div",{className:"tags-header title-text",children:[D.jsx("span",{className:"normal-text",children:O("Frequently Used Tags")}),D.jsx("span",{ref:m=>{m&&F.setIcon(m,"arrow-down-narrow-wide")},className:"tags-sort-btn",onClick:h})]}),D.jsxs("div",{className:"tags-container",children:[i.sort(xF(c)).map((m,w)=>D.jsx(G3,{tag:m,tagQuery:e},m.text+"-"+w)),D.jsx(No,{when:i.length<5&&Me.initialized,children:D.jsxs("span",{className:"tag-tip-container",children:[O("Input")," ",D.jsxs("span",{className:"code-text",children:[O("#Tag")," "]}),O("to create tag"),"..."]})})]})]})},G3=e=>{const{tag:t,tagQuery:n}=e,r=n===t.text,a=t.subTags.length>0,[i,s]=Oo(!1),c=()=>{r?it.setTagQuery(""):(Ue.copyTextToClipboard(`#${t.text} `),["/","/recycle"].includes(it.getState().pathname)||it.setPathname("/"),it.setTagQuery(t.text))},d=h=>{h.stopPropagation(),s()};return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:`tag-item-container ${r?"active":""}`,onClick:c,children:[D.jsxs("div",{className:"tag-text-container",children:[D.jsx("span",{ref:h=>{h&&F.setIcon(h,"hash")},className:"btn tag-btn"}),D.jsx("span",{className:"tag-text",children:t.key})]}),D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{className:"tag-count",children:t.count}),a?D.jsx("span",{ref:h=>{h&&F.setIcon(h,"chevron-right")},className:`btn action-btn toggle-btn ${i?"shown":""}`,onClick:d}):null]})]}),a?D.jsx("div",{className:`subtags-container ${i?"":"hidden"}`,children:t.subTags.map((h,g)=>D.jsx(G3,{tag:h,tagQuery:n},h.text+"-"+g))}):null]})},kD=new Intl.Collator(void 0,{usage:"sort",sensitivity:"base",numeric:!0}).compare,S0={alphabetical:(e,t)=>kD(e.text,t.text),alphabeticalReverse:(e,t)=>-kD(e.text,t.text),byCount:(e,t)=>t.count-e.count,byCountReverse:(e,t)=>e.count-t.count},xF=(e="byCount")=>S0.hasOwnProperty(e)?S0[e]:S0.alphabetical;var E0=A,MF=function(e){return typeof e=="function"},kF=function(e){var t=E0.useState(e),n=t[0],r=t[1],a=E0.useRef(n),i=E0.useCallback(function(s){a.current=MF(s)?s(a.current):s,r(a.current)},[]);return[n,i,a]},FF=kF;const Or=qn(FF);class ut extends F.Setting{constructor(n,r){super(n);ye(this,"settingTab");ye(this,"name","");ye(this,"desc","");this.settingTab=r}setName(n){return super.setName(n),this.name=n,this}setDesc(n){return super.setDesc(n),this.desc=n,this}setTab(n){const r=typeof this.name=="string"?this.name:this.name.textContent??"",a=typeof this.desc=="string"?this.desc:this.desc.textContent??"";return this.settingTab.addSettingToMasterSettingsList(n,this.settingEl,r,a),this}}class NF extends F.Modal{constructor(n,r,a,i,s){super(n);ye(this,"plugin");ye(this,"settingTab");ye(this,"target",5);ye(this,"cb");this.app=n,this.settingTab=r,this.plugin=a,this.target=i,this.cb=s}onOpen(){var c;const{contentEl:n}=this;(c=n.parentElement)==null||c.classList.add("memo-save-location-modal"),n.createEl("h3",{text:O("Thino Daily Target")});const r=n.createDiv("modal-setting");new ut(r,this.settingTab).setName(O("Target Thino Count")).addSlider(d=>{d.setDynamicTooltip().setValue(this.target).setLimits(1,30,1).onChange(async h=>{this.target=h})});const a=n.createDiv("button-group"),i=a.createEl("button",{text:O("Cancel")}),s=a.createEl("button",{text:O("Save")});s.onclick=async()=>{this.plugin.settings.MemoDailyTarget=this.target,this.settingTab.applySettingsUpdate(),this.cb(this.target),this.close()},i.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}const IF=({allStat:e,todayTimeStamp:t,calendarType:n,handleCalendarTypeChange:r})=>{const{dailyNotesState:{app:a,settings:i},globalState:{manifest:s}}=A.useContext(Ft),[c,d]=A.useState(),[h,g]=A.useState(5),[m,w]=A.useState(0),[b,T]=A.useState(0),[E,M]=A.useState(i.HeatmapColorScheme||"default"),k=A.useRef(null),I=A.useRef(null);A.useEffect(()=>{i.HeatmapColorScheme&&M(i.HeatmapColorScheme)},[i.HeatmapColorScheme]),A.useEffect(()=>{let N,j=5;s&&a&&(N=a==null?void 0:a.plugins.getPlugin(s.id),j=N==null?void 0:N.settings.MemoDailyTarget,d(N)),g(j)},[s,a]),A.useEffect(()=>{const N=e.find(_=>_.timestamp===t),j=N?N.count:0;T(j);const R=Math.min(100,j/h*100);w(R)},[e,h]),A.useEffect(()=>{F.requireApiVersion("1.4.4")&&(F.setTooltip(I.current,m.toFixed(2)+"%"),F.setTooltip(k.current,O("Set daily target")+` (${b}/${h})`))},[m,b]),A.useEffect(()=>{k.current&&(k.current.hasChildNodes()||F.setIcon(k.current,"crosshair"),F.requireApiVersion("1.4.4")&&F.setTooltip(I.current,m+"%"))},[k,h]);const B=A.useCallback(()=>{if(!c)return;new NF(a,c==null?void 0:c.settingTab,c,h,j=>{g(j)}).open()},[c,h]);return D.jsx(D.Fragment,{children:D.jsxs("div",{className:`usage-daily-progress-wrapper heatmap-${E}`,children:[D.jsx("div",{ref:I,className:"daily-progress-bar",children:D.jsx("div",{className:"daily-progress-bar-inner",style:{width:`${m}%`}})}),D.jsx("div",{ref:k,className:"daily-progress-target",onClick:B}),D.jsx("div",{ref:N=>{N&&F.setIcon(N,n==="basic"?"layout-grid":"calendar"),N&&F.setTooltip&&F.setTooltip(N,O("Switch calendar type"))},className:"switch-calendar-type-btn",onClick:()=>r&&r(n==="basic"?"heatmap":"basic")})]})})},AF=e=>{const{className:t,view:n,datestamp:r,handleDateStampChange:a,handleDateItemClick:i,handleMonthChange:s,dailyStat:c}=e,d=F.moment().startOf("day").valueOf(),[h,g]=A.useState(Np(r)),[m,w]=A.useState(null);A.useEffect(()=>{g(Np(r))},[r]);const b=new Date(h),T=b.getDay(),E=[];for(let I=0;I<T;I++)E.push({date:0,datestamp:b.getTime()-Si*(7-I)});const M=RF(h);for(let I=1;I<=M;I++)E.push({date:I,datestamp:b.getTime()+Si*(I-1)});const k=I=>{const B=b.getFullYear(),N=b.getMonth()+1;let j=0;N===1&&I===-1?j=new Date(`${B-1}/12/1`).getTime():N===12&&I===1?j=new Date(`${B+1}/1/1`).getTime():j=new Date(`${B}/${N+I}/1`).getTime(),g(Np(j)),s&&s(j)};return D.jsxs("div",{className:`heatmap-date-picker-wrapper ${t}`,children:[D.jsxs("div",{className:"date-picker-header",children:[D.jsx("span",{ref:I=>{I&&F.setIcon(I,"chevron-left")},className:"btn btn-text",onClick:()=>k(-1)}),D.jsxs("span",{className:"normal-text",children:[D.jsx(E3,{year:b.getFullYear().toString(),handleYearChange:I=>{g(Np(new Date(`${I}/${b.getMonth()+1}/1`).getTime()))}}),D.jsx(T3,{month:b.getMonth().toString(),handleMonthChange:I=>{g(Np(new Date(`${b.getFullYear()}/${parseInt(I)}/1`).getTime()))}})]}),D.jsx("span",{ref:I=>{I&&F.setIcon(I,"chevron-right")},className:"btn btn-text",onClick:()=>k(1)})]}),D.jsxs("div",{className:"date-picker-day-container",children:[D.jsx("div",{className:"date-picker-day-header",children:O("weekDaysShort").map(I=>D.jsx("span",{className:"day-item",children:I},I))}),D.jsx("div",{className:"date-picker-day-content",children:E.map(I=>{if(I.date===0)return D.jsx("span",{className:"day-item null",children:""},I.datestamp);const B=c.find(R=>R.timestamp===I.datestamp)||{count:0,timestamp:I.datestamp,list:0},N=B.count-B.list,j=B.list;return D.jsxs("span",{className:`day-item ${I.datestamp===d?"current":""} ${I.datestamp===m?"selected":""} ${T0(B.count)}`,onClick:R=>{a(r,R.nativeEvent),w(I.datestamp===m?null:I.datestamp),i&&i(R,B)},onMouseOver:R=>{if(!B||!B.count)return;const _=new F.HoverPopover(n,R.currentTarget,100);OF(_,{d:I,list:j,task:N})},children:[D.jsx("span",{className:"day-item-text",children:I.date}),D.jsx(D.Fragment,{children:B&&B.count!==0&&D.jsxs("span",{className:"day-item-dots",children:[N>0&&D.jsx("div",{className:`day-item-dot thino-task-dot ${T0(N)}`}),j>0&&D.jsx("div",{className:`day-item-dot thino-list-dot ${T0(j)}`})]})})]},I.datestamp)})})]})]})};function OF(e,{d:t,list:n,task:r}){e.hoverEl.toggleClass("thino-hover-popover",!0);const a=e.hoverEl.createDiv({cls:"thino-hover-popover-content"});a.createDiv({cls:"thino-date-item",text:`${F.moment(t.datestamp).format("YYYY-MM-DD")}`});const i=a.createDiv({cls:"thino-list-item"});i.createSpan({cls:"thino-list-item-title-text",text:`${O("List")}: `}),i.createSpan({cls:"thino-list-item-title-count",text:`${n}`});const s=a.createDiv({cls:"thino-task-item"});s.createSpan({cls:"thino-task-item-title-text",text:`${O("Task")}: `}),s.createSpan({cls:"thino-task-item-title-count",text:`${r}`})}function RF(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/Si}function Np(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}function T0(e){return e<=0?"":e<=1?"stat-day-L1-bg":e<=2?"stat-day-L2-bg":e<=4?"stat-day-L3-bg":"stat-day-L4-bg"}const FD={width:12,height:7},ND=(e,t)=>{const n=[];for(let r=0;r<=e;r++)n.push({timestamp:parseInt(F.moment(t).add(r,"days").format("x")),count:0,list:0});return n},LF=()=>{const e=parseInt(F.moment().endOf("day").format("x")),t=new Date(e).getDay()||7,n=parseInt(F.moment().startOf("day").format("x")),r=new Array(7-(t===7?1:t)).fill(0),a=(FD.width-1)*FD.height+t,i=parseInt(F.moment().startOf("day").subtract(a,"days").format("x")),s=F.moment().startOf("day").subtract(a,"days"),{memoState:{memos:c},dailyNotesState:{view:d,app:h,settings:g,verifyState:m}}=A.useContext(Ft),[w,b]=Or(PF(h)||"heatmap"),[T,E]=Or(F.moment().startOf("day").valueOf()),[M,k]=Or(g.HeatmapColorScheme||"default"),[I,B]=Or(ND(a,i)),[N,j]=Or(null),[R,_]=Or(null),[$,q,z]=Or(""),ee=A.useRef(null),ie=A.useRef(null);A.useEffect(()=>{const J=ND(a,i),ve=c.filter(V=>!V.deletedAt);for(const V of ve){const G=F.moment(V.createdAt.replaceAll("/","-"),"YYYY-MM-DD HH:mm:ss").startOf("day");V.createdAt.replaceAll("/","-").startsWith("2024-03-14");const le=G.diff(s,"days");le>=0&&le<J.length&&(J[le].count+=1,V.thinoType==="JOURNAL"&&(J[le].list+=1))}B([...J])},[c]),A.useEffect(()=>{g.HeatmapColorScheme&&k(g.HeatmapColorScheme)},[g.HeatmapColorScheme]);const ae=A.useCallback((J,ve)=>{var ue;if(j(ve),!ie.current)return;const{isMobileView:V}=rt.getState(),G=J.target,le=document.querySelector(".memos-sidebar-wrapper");ie.current.style.left=G.offsetLeft-(((ue=ee.current)==null?void 0:ue.offsetLeft)??0)+"px";let we=G.offsetTop;V||(we-=le==null?void 0:le.scrollTop),ie.current.style.top=we+"px"},[]),me=A.useCallback(()=>{j(null)},[]),fe=()=>{b(w==="heatmap"?"basic":"heatmap"),_F(h,w==="heatmap"?"basic":"heatmap"),E(F.moment().startOf("day").valueOf())},be=A.useCallback(async(J,ve)=>{if(ve.count===0)return;const V=it.getState().query.duration,G=V==null?void 0:V.from,le=V==null?void 0:V.to,we=F.moment(G).diff(le,"day")==0;if(G===ve.timestamp&&we)it.setFromAndToQuery(0,0),_(null),q(null);else if(G!==ve.timestamp&&G>0&&J.shiftKey){const ue=F.moment(ve.timestamp).endOf("day").diff(le,"day");G===0&&J.shiftKey?q("from"):ue<0&&we&&q("to"),F.moment(G).isBefore(ve.timestamp)?z.current==="to"?ue<0?it.setFromAndToQuery(ve.timestamp,le):(it.setFromAndToQuery(parseInt(F.moment(le).startOf("day").format("x")),parseInt(F.moment(ve.timestamp).endOf("day").format("x"))),q("from")):z.current==="from"&&(ue<0,it.setFromAndToQuery(G,parseInt(F.moment(ve.timestamp).endOf("day").format("x")))):z.current==="to"?it.setFromAndToQuery(ve.timestamp,le):z.current==="from"&&(it.setFromAndToQuery(ve.timestamp,parseInt(F.moment(G).endOf("day").format("x"))),q("to"))}else if(G===0&&J.shiftKey)it.setFromAndToQuery(ve.timestamp,parseInt(F.moment().endOf("day").format("x")));else if(ve.count>0&&(J.ctrlKey||J.metaKey)){const{app:ue,dailyNotes:De}=ct.getState(),Re=Sv(F.moment(ve.timestamp),De);if(!F.Platform.isMobile)await ue.workspace.getLeaf("split").openFile(Re);else{let Ye=ue.workspace.activeLeaf;Ye===null&&(Ye=ue.workspace.getLeaf(!0)),Ye.openFile(Re)}}else ve.count>0&&!J.shiftKey&&!J.ctrlKey&&!J.metaKey&&(["/","/recycle"].includes(it.getState().pathname)||it.setPathname("/"),it.setFromAndToQuery(ve.timestamp,Ue.getTimeStampByDate(F.moment(ve.timestamp+Si).subtract(1,"days").endOf("day").format("YYYY-MM-DD HH:mm:ss"))),_(ve))},[]),Te=A.useMemo(()=>D.jsx(AF,{className:`heatmap-${M}`,view:d,datestamp:T,dailyStat:I,handleMonthChange:J=>{E(J)},handleDateStampChange:J=>{},handleDateItemClick:(J,ve)=>be(J,ve)}),[JSON.stringify(I),d,T,M]);return D.jsxs(D.Fragment,{children:[w==="basic"&&Te,w==="heatmap"&&D.jsxs("div",{className:`usage-heat-map-wrapper heatmap-${M}`,ref:ee,children:[D.jsxs("div",{className:"day-tip-text-container",children:[D.jsx("span",{className:"tip-text",children:O("weekDaysShort")[0]}),D.jsx("span",{className:"tip-text"}),D.jsx("span",{className:"tip-text",children:O("weekDaysShort")[2]}),D.jsx("span",{className:"tip-text"}),D.jsx("span",{className:"tip-text",children:O("weekDaysShort")[4]}),D.jsx("span",{className:"tip-text"}),D.jsx("span",{className:"tip-text",children:O("weekDaysShort")[6]})]}),D.jsxs("div",{ref:ie,className:"usage-detail-container pop-up "+(N?"":"hidden"),children:[N==null?void 0:N.count," thino ",O("on")," ",D.jsx("span",{className:"date-text",children:F.moment(N==null?void 0:N.timestamp,"x").format("YYYY/MM/DD ddd")})]}),D.jsxs("div",{className:"usage-heat-map",children:[I.map((J,ve)=>{const V=J.count,G=V<=0?"":V<=1?"stat-day-L1-bg":V<=2?"stat-day-L2-bg":V<=4?"stat-day-L3-bg":"stat-day-L4-bg";return D.jsx("span",{className:`stat-container ${G} ${R===J?"current":""} ${n===J.timestamp?"today":""}`,onMouseEnter:le=>ae(le,J),onMouseLeave:me,onClick:le=>be(le,J)},ve)}),r.map((J,ve)=>D.jsx("span",{className:"stat-container null"},ve))]})]}),m&&D.jsx(IF,{allStat:I,todayTimeStamp:n,calendarType:w,handleCalendarTypeChange:fe})]})};function _F(e,t){try{e==null||e.saveLocalStorage("calendarType",t)}catch(n){console.error(n)}}function PF(e){try{return(e==null?void 0:e.loadLocalStorage("calendarType"))||"heatmap"}catch(t){return console.error(t),"heatmap"}}const jF=()=>{const{dailyNotesState:{app:e,settings:t,verifyState:n}}=A.useContext(Ft),r=[{name:O("Random Review"),path:"/review",iconID:"star"},{name:O("ARCHIVE"),path:"/archive",iconID:"archive"},{name:O("Recycle bin"),path:"/recycle",iconID:"recycle"}],a=A.useRef([]);return A.useEffect(()=>{a.current.forEach((i,s)=>{i&&F.setIcon(i,r[s].iconID)})},[t,a]),D.jsx(D.Fragment,{children:D.jsx("div",{className:"path-entry-wrapper",children:r.map((i,s)=>D.jsx(D.Fragment,{children:D.jsxs("div",{className:`path-entry-container ${it.getState().pathname===i.path?"active":""} ${t.DeleteThinoDirectly&&i.path==="/recycle"?"hidden":""}`,onClick:async()=>{var h;const c=!F.Platform.isDesktop&&await((h=window.Capacitor)==null?void 0:h.Plugins.Device.getId()),d=F.Platform.isDesktop?await Un():c.identifier||c.uuid;if(!n&&(n==null?void 0:n.appId)!==d&&i.path==="/review"){yr();return}it.setPathname(i.path),i.path==="/review"&&it.getState().pathname==="/review"&&e.workspace.trigger("refresh-review-memos")},children:[D.jsx("span",{ref:c=>a.current[s]=c,className:"path-entry-icon"}),D.jsx("span",{className:"path-entry-text",children:i.name})]},s)}))})})},BF=e=>{const{locationState:t,globalState:{isMobileView:n,showSiderbarInMobileView:r}}=A.useContext(Ft),a=A.useRef(null),i=A.useMemo(()=>s=>{var d,h,g;const c=rt.getState().showSiderbarInMobileView;if(!c){window.removeEventListener("click",i,{capture:!0});return}(d=a.current)!=null&&d.contains(s.target)||(g=(h=a.current)==null?void 0:h.parentNode)!=null&&g.contains(s.target)&&(c&&s.stopPropagation(),rt.setShowSiderbarInMobileView(!1),window.removeEventListener("click",i,{capture:!0}))},[]);return A.useEffect(()=>{rt.setShowSiderbarInMobileView(!1)},[t]),A.useEffect(()=>{r?document.body.classList.add(Fb):document.body.classList.remove(Fb)},[r]),A.useEffect(()=>{n&&r&&window.addEventListener("click",i,{capture:!0})},[n,r]),D.jsxs("aside",{className:"memos-sidebar-wrapper",ref:a,children:[e.children,D.jsx(G7,{}),D.jsx(LF,{}),D.jsx(jF,{}),D.jsx(EF,{}),D.jsx(CF,{})]})},C0=()=>({type:"initialText",value:"",timestamp:Date.now(),selectionStart:0,selectionEnd:0}),ID={initialValue:"",interval:300};class YF{constructor(t,n=ID){this.listeners=[],this.runUndo=()=>{const r=this.actions[this.currentIndex].selectionStart;this.currentIndex>0&&this.currentIndex--,this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.runRedo=()=>{this.currentIndex<this.actions.length-1&&this.currentIndex++;const r=this.actions[this.currentIndex].selectionEnd;this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.getActions=()=>this.actions,this.setState=(r,a)=>{this.actions=[...r],this.currentIndex=a<this.actions.length?a:this.actions.length-1,this.dispatchChange()},this.resetState=()=>{this.actions=[C0()],this.currentIndex=0,this.dispatchChange()},this.destroy=()=>{this.rmEventListeners()},this.subscribe=r=>{this.listeners.push(r)},this.handleElementKeydown=r=>{const a=r;a.key==="z"&&!a.shiftKey&&(a.metaKey||a.ctrlKey)?(r.preventDefault(),this.runUndo()):(a.key==="z"&&a.shiftKey&&(a.metaKey||a.ctrlKey)||a.key==="y"&&(a.metaKey||a.ctrlKey))&&(r.preventDefault(),this.runRedo())},this.handleElementInput=r=>{const a=r,i=this.actions[this.currentIndex];this.pushNewAction({type:a.inputType,value:this.element.value,timestamp:Date.now(),selectionStart:this.element.selectionEnd-(this.element.value.length-i.value.length),selectionEnd:this.element.selectionEnd})},this.addEventListeners=()=>{this.element.addEventListener("keydown",this.handleElementKeydown),this.element.addEventListener("input",this.handleElementInput)},this.rmEventListeners=()=>{this.element.removeEventListener("keydown",this.handleElementKeydown),this.element.removeEventListener("input",this.handleElementInput)},this.pushNewAction=r=>{const a=this.actions[this.currentIndex];a&&a.type===r.type&&r.timestamp-a.timestamp<this.config.interval?this.actions[this.currentIndex]=Object.assign(Object.assign({},a),{value:r.value,selectionEnd:r.selectionEnd,timestamp:r.timestamp}):(this.config.maxSize&&this.currentIndex>=this.config.maxSize?(this.actions.shift(),this.actions[0]=C0()):this.currentIndex++,this.actions[this.currentIndex]=r,this.actions=this.actions.slice(0,this.currentIndex+1)),this.dispatchChange()},this.dispatchChange=()=>{for(const r of this.listeners)r([...this.actions],this.currentIndex)},this.element=t,this.config=Object.assign(Object.assign({},ID),n),this.config.initialActions&&this.config.initialActions.length>0?(this.actions=this.config.initialActions,this.config.initialIndex!==void 0&&this.config.initialIndex<this.actions.length?this.currentIndex=this.config.initialIndex:this.currentIndex=this.actions.length-1):(this.actions=[C0()],this.currentIndex=0,this.config.initialValue!==""&&(this.actions.push({type:"insertText",value:this.config.initialValue,timestamp:Date.now(),selectionStart:0,selectionEnd:this.config.initialValue.length}),this.currentIndex++)),this.element.value=this.actions[this.currentIndex].value,this.addEventListeners()}}function HF(){const[,e]=A.useState(!1);return A.useCallback(()=>{e(n=>!n)},[])}var K3={exports:{}};(function(e){(function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function a(i,s,c){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var d=c&&c.debug||!1;if(d){var h=document.querySelector("#input-textarea-caret-position-mirror-div");h&&h.parentNode.removeChild(h)}var g=document.createElement("div");g.id="input-textarea-caret-position-mirror-div",document.body.appendChild(g);var m=g.style,w=window.getComputedStyle?getComputedStyle(i):i.currentStyle;m.whiteSpace="pre-wrap",i.nodeName!=="INPUT"&&(m.wordWrap="break-word"),m.position="absolute",d||(m.visibility="hidden"),t.forEach(function(E){m[E]=w[E]}),r?i.scrollHeight>parseInt(w.height)&&(m.overflowY="scroll"):m.overflow="hidden",g.textContent=i.value.substring(0,s),i.nodeName==="INPUT"&&(g.textContent=g.textContent.replace(/\s/g," "));var b=document.createElement("span");b.textContent=i.value.substring(s)||".",g.appendChild(b);var T={top:b.offsetTop+parseInt(w.borderTopWidth),left:b.offsetLeft+parseInt(w.borderLeftWidth)};return d?b.style.backgroundColor="#aaa":document.body.removeChild(g),T}e.exports=a})()})(K3);var UF=K3.exports;const VF=qn(UF);var Q3=Vn.CustomEvent;function zF(){try{var e=new Q3("cat",{detail:{foo:"bar"}});return e.type==="cat"&&e.detail.foo==="bar"}catch{}return!1}var $F=zF()?Q3:typeof document<"u"&&typeof document.createEvent=="function"?function(t,n){var r=document.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r}:function(t,n){var r=document.createEventObject();return r.type=t,n?(r.bubbles=!!n.bubbles,r.cancelable=!!n.cancelable,r.detail=n.detail):(r.bubbles=!1,r.cancelable=!1,r.detail=void 0),r};const qF=qn($F);function WF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){WF(e,a,n[a])})}return e}function Mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Av(e,t,n){return t&&AD(e.prototype,t),n&&AD(e,n),e}function bf(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bf=function(n){return typeof n}:bf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bf(e)}function Vg(e){return typeof Symbol=="function"&&bf(Symbol.iterator)==="symbol"?Vg=function(n){return bf(n)}:Vg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":bf(n)},Vg(e)}function KF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ov(e,t){return t&&(Vg(t)==="object"||typeof t=="function")?t:KF(e)}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(e)}function D1(e,t){return D1=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},D1(e,t)}function Rv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D1(e,t)}function QF(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ZF(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function JF(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function XF(e){return QF(e)||ZF(e)||JF()}var Ra={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},eN=function e(){var t=this;Mh(this,e),this.startListen=function(n){n&&n.addEventListener("keydown",t.f)},this.stopListen=function(n){n&&n.removeEventListener("keydown",t.f)},this.add=function(n,r){var a=n;return typeof a!="object"&&(a=[a]),t.listeners[t.index]={keyCode:a,fn:r},t.index++},this.remove=function(n){delete t.listeners[n]},this.removeAll=function(){t.listeners={},t.index=1},this.index=1,this.listeners={},this.f=function(n){if(n){var r=n.keyCode||n.which;Object.values(t.listeners).forEach(function(a){var i=a.keyCode,s=a.fn;i.includes(r)&&(n.stopPropagation(),n.preventDefault(),s(n))})}}},wu=new eN,tN=function(e){Rv(t,e);function t(){var n,r;Mh(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=Ov(this,(n=Mf(t)).call.apply(n,[this].concat(i))),r.selectItem=function(){var c=r.props,d=c.item,h=c.onSelectHandler;h(d)},r}return Av(t,[{key:"shouldComponentUpdate",value:function(r){return this.props.item!==r.item||this.props.selected!==r.selected||this.props.style!==r.style||this.props.className!==r.className}},{key:"render",value:function(){var r=this,a=this.props,i=a.component,s=a.style,c=a.onClickHandler,d=a.item,h=a.selected,g=a.className,m=a.innerRef;return Q.createElement("li",{className:"rta__item  ".concat(h===!0?"rta__item--selected":""," ").concat(g||""),style:s},Q.createElement("div",{className:"rta__entity ".concat(h===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:c,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){r.clicked=!0,r.selectItem()},onTouchEnd:function(b){b.preventDefault(),r.clicked&&c(b)},onTouchMove:function(){r.clicked=!1},onTouchCancel:function(){r.clicked=!1},ref:m},Q.createElement(i,{selected:h,entity:d})))}}]),t}(Q.Component),nN=function(e){Rv(t,e);function t(){var n,r;Mh(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=Ov(this,(n=Mf(t)).call.apply(n,[this].concat(i))),r.state={selectedItem:null},r.cachedIdOfItems=new Map,r.onPressEnter=function(c){typeof c<"u"&&c.preventDefault();var d=r.props.values;r.modifyText(d[r.getPositionInList()])},r.getPositionInList=function(){var c=r.props.values,d=r.state.selectedItem;return d?c.findIndex(function(h){return r.getId(h)===r.getId(d)}):0},r.getId=function(c){if(r.cachedIdOfItems.has(c))return r.cachedIdOfItems.get(c);var d=r.props.getTextToReplace(c),h=function(){if(d){if(d.key)return d.key;if(typeof c=="string"||!c.key)return d.text}if(!c.key)throw new Error("Item ".concat(JSON.stringify(c),' has to have defined "key" property'));return c.key},g=h();return r.cachedIdOfItems.set(c,g),g},r.listeners=[],r.itemsRef={},r.modifyText=function(c){if(c){var d=r.props.onSelect;d(c)}},r.selectItem=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=r.props.onItemHighlighted;r.state.selectedItem!==c&&r.setState({selectedItem:c},function(){h(c),d&&r.props.dropdownScroll(r.itemsRef[r.getId(c)])})},r.scroll=function(c){c.preventDefault();var d=r.props.values,h=c.keyCode||c.which,g=r.getPositionInList(),m;switch(h){case Ra.DOWN:m=g+1;break;case Ra.UP:m=g-1;break;default:m=g;break}m=(m%d.length+d.length)%d.length,r.selectItem(d[m],[Ra.DOWN,Ra.UP].includes(h))},r.isSelected=function(c){var d=r.state.selectedItem;return d?r.getId(d)===r.getId(c):!1},r}return Av(t,[{key:"componentDidMount",value:function(){this.listeners.push(wu.add([Ra.DOWN,Ra.UP],this.scroll),wu.add([Ra.ENTER,Ra.TAB],this.onPressEnter));var r=this.props.values;r&&r[0]&&this.selectItem(r[0])}},{key:"componentDidUpdate",value:function(r){var a=this,i=r.values,s=this.props.values,c=i.map(function(h){return a.getId(h)}).join(""),d=s.map(function(h){return a.getId(h)}).join("");c!==d&&s&&s[0]&&this.selectItem(s[0])}},{key:"componentWillUnmount",value:function(){for(var r;this.listeners.length;)r=this.listeners.pop(),wu.remove(r)}},{key:"render",value:function(){var r=this,a=this.props,i=a.values,s=a.component,c=a.style,d=a.itemClassName,h=a.className,g=a.itemStyle;return Q.createElement("ul",{className:"rta__list ".concat(h||""),style:c},i.map(function(m){return Q.createElement(tN,{key:r.getId(m),innerRef:function(b){r.itemsRef[r.getId(m)]=b},selected:r.isSelected(m),item:m,className:d,style:g,onClickHandler:r.onPressEnter,onSelectHandler:r.selectItem,component:s})}))}}]),t}(Q.Component);function rN(e,t){var n=parseInt(getComputedStyle(t).getPropertyValue("height"),10),r=parseInt(getComputedStyle(e).getPropertyValue("height"),10)-n,a=t.offsetTop,i=e.scrollTop;a<i+r&&i<a||(e.scrollTop=a)}var OD="next",al={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},RD=function(t){return console.error("RTA: dataProvider fails: ".concat(t,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},aN=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],Sg=function(t){return XF(t).map(function(n){return aN.includes(n)?"\\".concat(n):n}).join("")},oN=function(e){Rv(t,e);function t(){return Mh(this,t),Ov(this,Mf(t).apply(this,arguments))}return Av(t,[{key:"componentDidMount",value:function(){var r=this.props.boundariesElement;if(typeof r=="string"){var a=document.querySelector(r);if(!a)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=a}else if(r instanceof HTMLElement)this.containerElem=r;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var r,a,i=this.props.top||0,s=this.props.left||0,c=[],d=[],h=0,g=0,m=this.containerElem.getBoundingClientRect(),w=this.ref.getBoundingClientRect(),b=this.props.textareaRef.getBoundingClientRect(),T=window.getComputedStyle(this.ref),E=parseInt(T.getPropertyValue("margin-top"),10),M=parseInt(T.getPropertyValue("margin-bottom"),10),k=parseInt(T.getPropertyValue("margin-left"),10),I=parseInt(T.getPropertyValue("margin-right"),10),B=E+M+b.top+i+w.height,N=k+I+b.left+s+w.width;N>m.right&&b.left+s>w.width?(g=s-w.width,c.push(al.X.LEFT),d.push(al.X.RIGHT)):(g=s,c.push(al.X.RIGHT),d.push(al.X.LEFT)),B>m.bottom&&b.top+i>w.height?(h=i-w.height,c.push(al.Y.TOP),d.push(al.Y.BOTTOM)):(h=i,c.push(al.Y.BOTTOM),d.push(al.Y.TOP)),this.props.renderToBody&&(h+=b.top,g+=b.left),this.ref.style.top="".concat(h,"px"),this.ref.style.left="".concat(g,"px"),(r=this.ref.classList).remove.apply(r,d),(a=this.ref.classList).add.apply(a,c)}},{key:"render",value:function(){var r=this,a=this.props,i=a.style,s=a.className,c=a.innerRef,d=a.children,h=a.renderToBody,g=document.body,m=Q.createElement("div",{ref:function(b){r.ref=b,c(b)},className:"rta__autocomplete ".concat(s||""),style:i},d);return h&&g!==null?cw.createPortal(m,g):m}}]),t}(Q.Component),Z3=function(e){Rv(t,e);function t(n){var r;Mh(this,t),r=Ov(this,Mf(t).call(this,n)),r.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},r.escListenerInit=function(){r.escListener||(r.escListener=wu.add(Ra.ESC,r._closeAutocomplete))},r.escListenerDestroy=function(){r.escListener&&(wu.remove(r.escListener),r.escListener=null)},r.getSelectionPosition=function(){return r.textareaRef?{selectionStart:r.textareaRef.selectionStart,selectionEnd:r.textareaRef.selectionEnd}:null},r.getSelectedText=function(){if(!r.textareaRef)return null;var d=r.textareaRef,h=d.selectionStart,g=d.selectionEnd;return h===g?null:r.state.value.substr(h,g-h)},r.setCaretPosition=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;r.textareaRef&&(r.textareaRef.focus(),r.textareaRef.setSelectionRange(d,d))},r.getCaretPosition=function(){if(!r.textareaRef)return 0;var d=r.textareaRef.selectionEnd;return d},r._handleCaretChange=function(d){var h=function(){var w=r.getCaretPosition()-1;r.lastTrigger=r.lastTrigger?w:0};if(d.type==="keydown"){var g=d.keyCode||d.which;switch(g){case Ra.UP:case Ra.DOWN:r._isAutocompleteOpen()||h();break;case Ra.LEFT:case Ra.RIGHT:h();break}return}h()},r._onSelect=function(d){var h=r.state,g=h.selectionEnd,m=h.currentTrigger,w=h.value,b=r.props.onItemSelected;if(m){var T=r._getTextToReplace(m);if(!T){r._closeAutocomplete();return}var E=T(d);if(!E){r._closeAutocomplete();return}b&&b({currentTrigger:m,item:d});var M=function(z,ee,ie){switch(z){case"start":return ie;case"next":case"end":return ie+ee.length;default:if(!Number.isInteger(z))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return z}},k=w.slice(0,g),I=Sg(m),B=k.length-k.lastIndexOf(m),N=k.search(new RegExp("(?!".concat(I,")$")))-B,j=E.caretPosition==="next"?"".concat(E.text," "):E.text,R=M(E.caretPosition,j,N),_=k.substring(0,N)+j,$=w.replace(k,_);r.setState({value:$,dataLoading:!1},function(){var q=r.tokenRegExpEnding.exec(j),z=q?q[0].length:1;r.lastTrigger=R&&R-z,r.textareaRef.value=$,r.textareaRef.selectionEnd=R,r._changeHandler();var ee=r.textareaRef.scrollTop;r.setCaretPosition(R),window.chrome&&(r.textareaRef.scrollTop=ee)})}},r._getTextToReplace=function(d){var h=r.props.trigger[d];if(!d||!h)return null;var g=h.output;return function(m){if(typeof m=="object"&&(!g||typeof g!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(g){var w=g(m,d);if(w===void 0||typeof w=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(w),'". Check the implementation for trigger "').concat(d,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(w===null)return null;if(typeof w=="string")return{text:w,caretPosition:OD};if(!w.text&&typeof w.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));if(!w.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));return w}if(typeof m!="string")throw new Error(`Output item should be string
`);return{text:"".concat(d).concat(m).concat(d),caretPosition:OD}}},r._getCurrentTriggerSettings=function(){var d=r.state.currentTrigger;return d?r.props.trigger[d]:null},r._getValuesFromProvider=function(){var d=r.state,h=d.currentTrigger,g=d.actualToken,m=r._getCurrentTriggerSettings();if(!(!h||!m)){var w=m.dataProvider,b=m.component;if(typeof w!="function")throw new Error("Trigger provider has to be a function!");r.setState({dataLoading:!0});var T=w(g);T instanceof Promise||(T=Promise.resolve(T)),T.then(function(E){if(!Array.isArray(E))throw new Error("Trigger provider has to provide an array!");if(typeof b!="function")throw new Error("Component should be defined!");if(h===r.state.currentTrigger){if(!E.length){r._closeAutocomplete();return}r.setState({dataLoading:!1,data:E,component:b})}}).catch(function(E){return RD(E.message)})}},r._getSuggestions=function(){var d=r.state,h=d.currentTrigger,g=d.data;return!h||!g||g&&!g.length?null:g},r._createRegExp=function(){var d=r.props.trigger;r.tokenRegExp=new RegExp("(".concat(Object.keys(d).sort(function(h,g){return h<g?1:h>g?-1:0}).map(function(h){return Sg(h)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),r.tokenRegExpEnding=new RegExp("(".concat(Object.keys(d).sort(function(h,g){return h<g?1:h>g?-1:0}).map(function(h){return Sg(h)}).join("|"),")$"))},r._closeAutocomplete=function(){var d=r.state.currentTrigger;r.escListenerDestroy(),r.setState({data:null,dataLoading:!1,currentTrigger:null},function(){d&&r._onItemHighlightedHandler(null)})},r._cleanUpProps=function(){var d=GF({},r.props),h=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var g in d)h.includes(g)&&delete d[g];return d},r._changeHandler=function(d){var h=r.props,g=h.trigger,m=h.onChange,w=h.minChar,b=h.onCaretPositionChange,T=h.movePopupAsYouType,E=r.state,M=E.top,k=E.left,I=d;I||(I=new qF("change",{bubbles:!0}),r.textareaRef.dispatchEvent(I));var B=I.target||r.textareaRef,N=B.selectionEnd,j=B.value;if(r.lastValueBubbledEvent=j,m&&I&&(I.persist&&I.persist(),m(new Proxy(I,{get:function(V,G,le){return G==="target"?B:Reflect.get(V,G,le)}}))),b){var R=r.getCaretPosition();b(R)}r.setState({value:j});var _=function(){var V=VF(B,N),G=V.top,le=V.left;r.setState({top:G-r.textareaRef.scrollTop||0,left:le})},$=function(V){r.lastTrigger=N-V,r._closeAutocomplete(),_()};if(N<=r.lastTrigger){var q=j.slice(0,N),z=r.tokenRegExp.exec(q);$(z?z[0].length:0)}var ee=j.slice(r.lastTrigger,N),ie=r.tokenRegExp.exec(ee),ae=ie&&ie[0],me=ie&&ie[1]||null,fe=me?me.length-1:0,be=r.tokenRegExpEnding.exec(ee);if(be?$(be[0].length):r._isAutocompleteOpen()||r._closeAutocomplete(),(!ae||ae.length<=w+fe)&&(r.state.currentTrigger&&!g[r.state.currentTrigger].allowWhitespace||!r.state.currentTrigger)){r._closeAutocomplete();return}if(me&&g[me].afterWhitespace&&!/\s/.test(j[N-ae.length-1])&&j[N-ae.length-1]!==void 0){r._closeAutocomplete();return}if(r.state.currentTrigger&&g[r.state.currentTrigger].allowWhitespace){if(ie=new RegExp("".concat(Sg(r.state.currentTrigger),".*$")).exec(j.slice(0,N)),ae=ie&&ie[0],!ae){r._closeAutocomplete();return}me=Object.keys(g).find(function(ve){return ve.slice(0,fe+1)===ae.slice(0,fe+1)})||null}var Te=ae.slice(1);if(me){(T||M===null&&k===null||r.state.currentTrigger!==me)&&_(),r.escListenerInit();var J=r._getTextToReplace(me);r.setState({selectionEnd:N,currentTrigger:me,textToReplace:J,actualToken:Te},function(){try{r._getValuesFromProvider()}catch(ve){RD(ve.message)}})}},r._selectHandler=function(d){var h=r.props,g=h.onCaretPositionChange,m=h.onSelect;if(g){var w=r.getCaretPosition();g(w)}m&&(d.persist(),m(d))},r._shouldStayOpen=function(d){var h=d.relatedTarget;return h===null&&(h=document.activeElement),!!(r.dropdownRef&&h instanceof Node&&r.dropdownRef.contains(h))},r._onClick=function(d){var h=r.props.onClick;h&&(d.persist(),h(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onBlur=function(d){var h=r.props.onBlur;h&&(d.persist(),h(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onScrollHandler=function(){r._closeAutocomplete()},r._onItemHighlightedHandler=function(d){var h=r.props.onItemHighlighted,g=r.state.currentTrigger;if(h)if(typeof h=="function")h({currentTrigger:g,item:d});else throw new Error("`onItemHighlighted` has to be a function")},r._dropdownScroll=function(d){var h=r.props.scrollToItem;if(h){if(h===!0){rN(r.dropdownRef,d);return}if(typeof h!="function"||h.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");h(r.dropdownRef,d)}},r._isAutocompleteOpen=function(){var d=r.state,h=d.dataLoading,g=d.currentTrigger,m=r._getSuggestions();return!!((h||m)&&g)},r._textareaRef=function(d){r.props.innerRef&&r.props.innerRef(d),r.textareaRef=d},r.lastTrigger=0,r.escListener=null;var a=r.props,i=a.loadingComponent,s=a.trigger,c=a.value;if(c&&(r.state.value=c),r._createRegExp(),!i)throw new Error("RTA: loadingComponent is not defined");if(!s)throw new Error("RTA: trigger is not defined");return r}return Av(t,[{key:"componentDidMount",value:function(){wu.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(r){var a=r.trigger,i=r.value,s=this.props,c=s.trigger,d=s.value;Object.keys(c).join("")!==Object.keys(a).join("")&&this._createRegExp(),i!==d&&this.lastValueBubbledEvent!==d&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),wu.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var r=this,a=this.props,i=a.loadingComponent,s=a.style,c=a.className,d=a.listStyle,h=a.itemStyle,g=a.boundariesElement,m=a.movePopupAsYouType,w=a.listClassName,b=a.itemClassName,T=a.dropdownClassName,E=a.dropdownStyle,M=a.containerStyle,k=a.containerClassName,I=a.loaderStyle,B=a.loaderClassName,N=a.textAreaComponent,j=a.renderToBody,R=this.state,_=R.left,$=R.top,q=R.dataLoading,z=R.component,ee=R.value,ie=R.textToReplace,ae=this._isAutocompleteOpen(),me=this._getSuggestions(),fe={},be;return N.component?(be=N.component,fe[N.ref]=this._textareaRef):(be=N,fe.ref=this._textareaRef),Q.createElement("div",{className:"rta ".concat(q===!0?"rta--loading":""," ").concat(k||""),style:M},Q.createElement(be,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(c||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:ee,style:s},fe)),ae&&Q.createElement(oN,{innerRef:function(J){r.dropdownRef=J},top:$,left:_,style:E,className:T,movePopupAsYouType:m,boundariesElement:g,textareaRef:this.textareaRef,renderToBody:j},me&&z&&ie&&Q.createElement(nN,{values:me,component:z,style:d,className:w,itemClassName:b,itemStyle:h,getTextToReplace:ie,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),q&&Q.createElement("div",{className:"rta__loader ".concat(me!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(B||""),style:I},Q.createElement(i,{data:me}))))}}],[{key:"getDerivedStateFromProps",value:function(r){var a=r.value;return a==null?null:{value:a}}}]),t}(Q.Component);Z3.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1};const iN=()=>{const{app:e}=ct.getState(),t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())},sN=e=>{let t=[];const n=ct.getState().settings;if(n&&(n!=null&&n.UseVaultTags))t=iN();else{const{tags:i}=Me.getState();t=i}const r=e.toLowerCase(),a=[];return t.forEach(i=>{i&&i.toLowerCase().contains(r)&&a.push({name:i,char:i})}),a},lN=e=>{const{app:t}=ct.getState(),n=t.vault.getAllLoadedFiles(),r=[];let a;return n.forEach(i=>{e==="["?a="":e.contains("[")&&(a=e.slice(1));const s=a.toLowerCase();i instanceof F.TFile&&["md","png","jpg","canvas","jpeg","gif"].contains(i.extension)&&i.path.toLowerCase().contains(s)&&r.push({name:i.basename,char:i.name,file:i})}),r};function ov(e,t){const n=Object.keys(t).map(r=>uN(e,r,t[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function uN(e,t,n){const r=e[t],a=e.hasOwnProperty(t);let i=n(r);return r&&Object.setPrototypeOf(i,r),Object.setPrototypeOf(s,i),e[t]=s,c;function s(...d){return i===r&&e[t]===s&&c(),i.apply(this,d)}function c(){e[t]===s&&(a?e[t]=r:delete e[t]),i!==r&&(i=r,Object.setPrototypeOf(s,r||Function))}}function cN(e){return e.containerEl.matches(".memos-list-view")}const fN=e=>{const{dailyNotesState:{app:t,plugin:n,editor:r,view:a,dailyNotes:i}}=A.useContext(Ft),[s,c]=A.useState(null),[d,h]=A.useState(!1),[g,m]=A.useState(""),[w,b]=A.useState(null),T=A.useRef(F.debounce((_,$)=>{pN(_,$)},100));A.useEffect(()=>{if(!w){for(const _ in i)if(i[_]instanceof F.TFile){b(i[_]);break}}},[i]),A.useEffect(()=>{if(!(!e||!r)&&!d)return I(e),()=>{h(!1),s==null||s.destroy()}},[r,e]),A.useEffect(()=>{if(!s||!t)return;const _=dN(t);m(_),(s==null?void 0:s.editor).replaceSelection(_)},[s,t]),A.useEffect(()=>{!s||!t||T.current(g,t)},[g,t]);const E=()=>{s&&s.toggleSource()},M=F.debounce((_,$)=>k(_,$),500,!0),k=(_,$)=>{_&&m($)},I=_=>{if(r&&a){a.register(ov(r.constructor.prototype,{onUpdate:q=>function(...z){if(q.call(this,z),z[1]===!0&&this.owner&&this.owner instanceof bu){const ee=this.get();M(this.owner,ee)}},getMode:()=>function(){return"source"}})),a.register(ov(F.Workspace.prototype,{getActiveViewOfType:q=>function(z){const ee=q.call(this,z);if(!ee&&(z==null?void 0:z.VIEW_TYPE)==="markdown"){const ie=this.activeLeaf;if(ie.view instanceof bu)return ie.view}return ee},setActiveLeaf:q=>function(z,ee){if(cN(z)&&(q.call(this,z,ee),z.activeTime=17e11),q.call(this,z,ee),z.view instanceof bu){const ie=rt.getState().instanceList.get(z.id);if(!ie)return;self.app.workspace.activeEditor=ie.owner,z.view.editor=ie.editor}},getActiveFile:q=>function(){var ee;const z=q.call(this);return((ee=this.activeLeaf)==null?void 0:ee.view)instanceof bu&&w||z}}));const $=new r.constructor(a.app,_,a);$.owner.editor=$.editor,$.owner.onMarkdownScroll=()=>{},t.workspace.trigger("thino-editor-created",_,$.editor),h(!0),c($),rt.setInstance(`${a.leaf.id}`,$)}};return{instance:s,value:g,set:_=>{try{s&&((s==null?void 0:s.editor).replaceSelection(_),m(_))}catch($){console.error($)}},get:()=>s?s.get():"",append:(_,$)=>{if(!s||$&&$!==s.owner.leaf.id)return;const z=(s.get()||"")+_;(s==null?void 0:s.editor).replaceSelection(_),m(z)},clear:()=>{s&&(s.clear(),m(""))},toggleSource:E}};function J3(e){return`thinoEditorContentCache:${e}`}function dN(e){try{const t=J3(e.appId);return zn.get([t])[t]??""}catch(t){return console.error(t),""}}function pN(e,t){try{const n=J3(t.appId);zn.set({[n]:e})}catch(n){console.error(n)}}const LD=({entity:{name:e,char:t,file:n}})=>D.jsx("div",{children:`${t}`}),hN=({data:e})=>D.jsx("div",{children:"Loading"});let gi;const mN=A.forwardRef((e,t)=>{var we;const{globalState:{useTinyUndoHistoryCache:n,globalEditorShown:r},dailyNotesState:{settings:a,app:i}}=A.useContext(Ft),{SaveMemoButtonLabel:s,SaveMemoButtonIcon:c}=a,{className:d,inputerType:h,initialContent:g,placeholder:m,showConfirmBtn:w,showCancelBtn:b,onConfirmBtnClick:T,onCancelBtnClick:E,onContentChange:M}=e,k=A.useRef(null),I=A.useRef(null),B=A.useRef(null),N=HF(),{instance:j,value:R,set:_,get:$,append:q,clear:z,toggleSource:ee}=fN(I.current),[,ie,ae]=Or(0),[me,fe]=Or(!1);A.useEffect(()=>{var ue,De;if(a&&a.FocusOnEditor)switch(h){case"minimal":case"memos":(ue=k.current)==null||ue.focus();break;case"obsidian":j&&((De=j.editor)==null||De.focus())}},[a,j]),A.useEffect(()=>{if(!i)return;const ue=i.workspace.getLeavesOfType(Ar);let De,Re;ue.length>0?(Re=ue[0].view.containerEl,De=Re.offsetHeight):(Re=document,De=window.outerHeight),ie(De)},[i]),A.useEffect(()=>{!k.current||h==="obsidian"||g&&(k.current.value=g,N())},[]),A.useEffect(()=>{var ue;if(h!=="obsidian")if(n){if(!k.current)return;const{tinyUndoActionsCache:De,tinyUndoIndexCache:Re}=zn.get(["tinyUndoActionsCache","tinyUndoIndexCache"]);return B.current=new YF(k.current,{interval:5e3,initialActions:De,initialIndex:Re}),B.current.subscribe((Ye,Be)=>{zn.set({tinyUndoActionsCache:Ye,tinyUndoIndexCache:Be})}),()=>{var Ye;(Ye=B.current)==null||Ye.destroy()}}else(ue=B.current)==null||ue.destroy(),B.current=null,zn.remove(["tinyUndoActionsCache","tinyUndoIndexCache"])},[n]),A.useEffect(()=>{k.current&&(k.current.style.height="auto",k.current.style.height=(k.current.scrollHeight??0)+"px")},[(we=k.current)==null?void 0:we.value]),A.useImperativeHandle(t,()=>({element:k.current,blur:()=>{var ue,De;switch(h){case"minimal":case"memos":(ue=k.current)==null||ue.blur();break;case"obsidian":j&&((De=j.editor)==null||De.blur())}},focus:ue=>{var De,Re,Ye,Be,yt;switch(h){case"minimal":case"memos":a!=null&&a.FocusOnEditor&&((De=k.current)==null||De.focus());break;case"obsidian":if(a!=null&&a.FocusOnEditor&&j){if(ue&&ue!==((Be=(Ye=(Re=j==null?void 0:j.owner)==null?void 0:Re.view)==null?void 0:Ye.leaf)==null?void 0:Be.id))return;(yt=j.editor)==null||yt.focus()}}},insertText:(ue,De)=>{switch(h){case"minimal":case"memos":{if(!k.current)return;const Re=k.current.value;k.current.value=Re.slice(0,k.current.selectionStart)+ue+Re.slice(k.current.selectionStart),M(k.current.value),N()}break;case"obsidian":j&&q(ue,De);break}},setContent:ue=>{switch(h){case"minimal":case"memos":k.current&&(k.current.value=ue,M(k.current.value),N());break;case"obsidian":j&&_(ue);break}},getContent:()=>{switch(h){case"minimal":case"memos":return k.current?k.current.value:"";case"obsidian":return $()}},toggleSource:()=>{switch(h){case"minimal":case"memos":break;case"obsidian":ee();break}},clear:()=>{switch(h){case"minimal":case"memos":k.current&&(k.current.value="",M(k.current.value),N());break;case"obsidian":z();break}}}),[j,h]);const be=ue=>{if(!k.current)return;const{fileManager:De}=xe.getState().dailyNotesState.app;if(ue.currentTrigger==="#"){const Re=k.current.value;let Ye;gi!=null?Ye=gi.length:Ye=0;let Be=k.current.selectionStart;for(let yt=0;yt<Re.length;yt++)/\s/g.test(Re[Be])||Be++;k.current.value=Re.slice(0,k.current.selectionStart-Ye)+ue.item.char+Re.slice(Be),M(k.current.value),N()}else if(ue.currentTrigger==="[["){const Re=De.generateMarkdownLink(ue.item.file,ue.item.file.path,"",""),Ye=k.current.value;let Be;gi!=null?Re.contains("[[")||ue.item.file.extension!=="md"?Be=gi.length+1:Be=gi.length+2:Be=2;let yt=k.current.selectionStart;for(let Se=0;Se<Ye.length;Se++)/\s/g.test(Ye[yt])||yt++;k.current.value=Ye.slice(0,k.current.selectionStart-Be)+Re+Ye.slice(yt),M(k.current.value),N()}},Te=A.useCallback(()=>{var ue;M(((ue=k.current)==null?void 0:ue.value)??""),N()},[]),J=()=>{var ue;switch(h){case"minimal":case"memos":if(!k.current)return;k.current.value=V(),T(k.current.value),k.current.value="",N(),(ue=B.current)==null||ue.resetState();break;case"obsidian":T($()),z(),N();break}},ve=A.useCallback(()=>{switch(h){case"minimal":case"memos":k.current&&(k.current.value="",M(k.current.value),N());break;case"obsidian":z();break}E()},[h,j,k]),V=()=>zn.get(["thinoEditorContentCache"]).thinoEditorContentCache??"",G=()=>{if(k.current)return k.current.value=V(),k.current.value},le=ue=>{switch(ue){case"memos":return D.jsx(Z3,{className:`common-editor-inputer scroll ${me?" editing":""}`,loadingComponent:hN,placeholder:m,movePopupAsYouType:!0,value:G(),innerRef:De=>{k.current=De},onFocus:()=>{fe(!0)},onBlur:()=>{fe(!1)},onInput:Te,style:{maxHeight:`${ae.current>400?ae.current-400:100}px`},dropdownStyle:{minWidth:180,maxHeight:250,overflowY:"auto"},minChar:0,onItemSelected:be,scrollToItem:!0,trigger:{"#":{dataProvider:De=>(gi=De,sN(De).map(({name:Re,char:Ye})=>({name:Re,char:Ye}))),component:LD,afterWhitespace:!0,output:De=>De.char},"[[":{dataProvider:De=>(gi=De,lN(De).slice(0,10).map(({name:Re,char:Ye,file:Be})=>({name:Re,char:Ye,file:Be}))),component:LD,afterWhitespace:!0,output:De=>De.char}}});case"minimal":return D.jsx("textarea",{style:{minHeight:48},className:"common-editor-inputer scroll",rows:1,placeholder:m,ref:k,onInput:Te});case"obsidian":return D.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",ref:I});default:return D.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",ref:I})}};return D.jsxs("div",{className:"common-editor-wrapper "+d,children:[le(h),D.jsxs("div",{className:"common-tools-wrapper",children:[D.jsx("div",{className:"common-tools-container",children:D.jsx(No,{when:e.tools!==void 0,children:e.tools})}),D.jsxs("div",{className:"btns-container",children:[D.jsx(No,{when:b,children:D.jsx("button",{className:"action-btn cancel-btn",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!r&&ve()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||r)&&ve()},children:O("CANCEL EDIT")})}),D.jsx(No,{when:w,children:D.jsxs("button",{title:"Ctrl/Cmd + Enter to save thino",className:"action-btn confirm-btn",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!r&&J()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||r)&&J()},children:[s,D.jsxs("span",{className:"icon-text",children:[c,"️"]})]})})]})]})]})}),gN=(e,t)=>({placement:e,modifiers:[{name:"flip",options:{allowedAutoPlacements:t,rootBoundary:"document"}},{name:"preventOverflow",options:{rootBoundary:"document"}}]}),vN=e=>{const n=A.useRef(null),[r,a]=A.useState(null),[i,s]=A.useState(0);let c,d;const h=()=>{if(F.Platform.isMobile){c="right-end",d=["bottom"];return}const m=window.innerWidth-i>280*1.2,w=window.innerWidth-i<280,b=window.innerWidth>280*1.5;if(e.DefaultEditorLocation!=="Bottom"){m?(c="right-end",d=["left-end"]):w&&b?(c="left-end",d=["right-end"]):(c="bottom",d=["bottom"]);return}m?(c="top-end",d=["top-start"]):w&&i>280?(c="top-start",d=["top-end"]):(c="top",d=["top"])};A.useEffect(()=>{e&&h()},[i,e==null?void 0:e.DefaultEditorLocation]);const g=Iv(n.current,r,gN(c,d));return{setPosX:s,popperRef:n,setPopperElement:a,popper:g}},yN=e=>{const{offsetLeft:t,offsetTop:n,offsetHeight:r,offsetWidth:a,selectionEnd:i}=e,s=document.createElement("div"),c=window.getComputedStyle(e);for(const E of c)s.style.setProperty(E,c.getPropertyValue(E));s.style.position="fixed",s.style.visibility="hidden",s.style.whiteSpace="pre-wrap";const h=e.tagName==="INPUT"?e.value.replace(/ /g,"."):e.value;s.textContent=h.substring(0,i||0),e.tagName==="TEXTAREA"&&(s.style.height="auto");const g=document.createElement("span");g.textContent=h.substring(i||0)||".",s.appendChild(g),document.body.appendChild(s);const{offsetLeft:m,offsetTop:w,offsetHeight:b,offsetWidth:T}=g;return document.body.removeChild(s),{x:t+m,y:n+w,h:r+b,w:a+T}},Zp=({className:e,editorType:t="block"})=>{const{globalState:n,dailyNotesState:{app:r,settings:a,view:i,verifyState:s}}=A.useContext(Ft),[c,d]=Oo(!0),h=A.useRef(c),[g,m]=Or(!0),w=A.useRef(null),b=A.useRef(null),T=A.useRef(n),[E,M]=Or(!1),[k,I]=Or(!1),{setPosX:B,popperRef:N,setPopperElement:j,popper:R}=vN(a),[_]=Or(parseInt(F.moment().format("x"))),$=A.useRef(null),[q,z]=Or((a==null?void 0:a.EnabledLocationList.length)===1?a==null?void 0:a.EnabledLocationList[0].value:(a==null?void 0:a.MemoSaveLocation)||"DAILY"),ee=A.useRef(a.MemoSaveLocation||"DAILY");A.useEffect(()=>{h.current=c},[c]),A.useEffect(()=>{!b.current||!r||!i||(i.registerEvent(r.workspace.on("focus-on-textarea",Se=>{var Ve;(Ve=b.current)==null||Ve.focus(Se==null?void 0:Se.id)})),i.registerEvent(r.workspace.on("blur-on-memos",()=>{var Se;(Se=b.current)==null||Se.blur()})),i.registerEvent(r.workspace.on("send-to-thino",async(Se,Ve)=>{var Ke,Xe;if(typeof Se=="string")(Ke=b.current)==null||Ke.insertText(Se+`
`,Ve.id);else{const Ge=Se.toPNG(),tt=new Blob([Ge],{type:"image/png"}),Dt=new File([tt],"image.png",{type:"image/png",lastModified:Date.now()});if(!Dt)return;const dt=await Te(Dt);dt&&((Xe=b.current)==null||Xe.insertText(dt+`
`,Ve.id))}})))},[b,i,r]),A.useEffect(()=>{a&&d(a.DefaultPrefix==="List")},[a==null?void 0:a.DefaultPrefix]),A.useEffect(()=>{if(a){if(a.EnabledLocationList.length===1){z(a.EnabledLocationList[0].value);return}z(a.MemoSaveLocation||"DAILY")}},[a==null?void 0:a.MemoSaveLocation,a==null?void 0:a.EnabledLocationList]),A.useEffect(()=>{var Ke;if(!a||!$.current)return;const Se=(Ke=Df.find(Xe=>Xe.title===q))==null?void 0:Ke.icon;F.setIcon($.current,Se),F.requireApiVersion("1.4.4")&&F.setTooltip($.current,O("Thino Save To: ")+q),ee.current=q;const Ve=n.manifest;if(Ve){const Xe=r==null?void 0:r.plugins.getPlugin(Ve.id);if(Xe){if(Xe.settings.MemoSaveLocation===q)return;Xe.settings.MemoSaveLocation=q,Xe.saveSettings()}}},[q,g]),A.useEffect(()=>{b.current&&a.MemoSaveLocation&&z(a.MemoSaveLocation)},[$,a]),A.useEffect(()=>{if(!b.current||!a||F.Platform.isDesktop||n.globalEditorShown)return;const Se=F.Platform.isMobile===!0,Ve=a.UseButtonToShowEditor&&a.DefaultEditorLocation==="Bottom";m(Se&&!Ve);const Ke=document.body.find(".memolist-wrapper");Ke&&(Ke.onscroll=()=>{if(n.globalEditorShown)return;const Xe=b.current.getContent();Se&&Ve&&!Xe&&m(!1)})},[n.globalEditorShown,b,a==null?void 0:a.UseButtonToShowEditor,a==null?void 0:a.DefaultEditorLocation]);const ie=()=>{I(!1)};A.useEffect(()=>{var Se,Ve,Ke,Xe,Ge,tt,Dt,dt;if(n.markMemoId){const Vt=`${O("MARK")}: [@THINO](${n.markMemoId})`;(Se=b.current)==null||Se.insertText(Vt),(Ve=b.current)==null||Ve.focus(),rt.setMarkMemoId("");return}if((Ke=n.editMemoId)!=null&&Ke.trim()&&n.editMemoId!==T.current.editMemoId){const Vt=Me.getMemoById(n.editMemoId);if(Vt)switch(a.EditorType){case"memos":(Xe=b.current)==null||Xe.setContent(Vt.content.replace(/<br>/g,`
`).replace(/ \^\S{6}$/,"")??""),(Ge=b.current)==null||Ge.focus();break;case"obsidian":(tt=b.current)==null||tt.clear(),(Dt=b.current)==null||Dt.setContent(Vt.content.replace(/<br>/g,`
`).replace(/ \^\S{6}$/,"")??""),(dt=b.current)==null||dt.focus();break}}T.current=n},[n.markMemoId,n.editMemoId]),A.useEffect(()=>{var Se,Ve,Ke;!b.current||E||a.EditorType==="memos"&&((Se=b.current)==null||Se.element.addEventListener("paste",ae),(Ve=b.current)==null||Ve.element.addEventListener("drop",me),(Ke=b.current)==null||Ke.element.addEventListener("click",fe),M(!0))},[b.current]);const ae=async Se=>{var Ve;if(Se.clipboardData&&Se.clipboardData.files.length>0){Se.preventDefault();const Ke=Se.clipboardData.files;for(const Xe of Ke){const Ge=await Te(Xe);Ge&&((Ve=b.current)==null||Ve.insertText(Ge))}}},me=async Se=>{var Ve;if(Se.dataTransfer&&Se.dataTransfer.files.length>0){Se.preventDefault();const Ke=Se.dataTransfer.files;for(const Xe of Ke){const Ge=await Te(Xe);Ge&&((Ve=b.current)==null||Ve.insertText(Ge))}}},fe=()=>{var Se;V(((Se=b.current)==null?void 0:Se.element.value)??"")},be=async(Se,Ve)=>{var Ge,tt,Dt;const Ke=Se.ctrlKey||Se.metaKey,Xe=Se.altKey;if(Se.key==="Escape"&&n.globalEditorShown&&(rt.setGlobalEditorShown(!1),Se.preventDefault()),Ke&&Se.key==="Enter"){Se.preventDefault(),Se.stopPropagation(),Ve?(await J((tt=b.current)==null?void 0:tt.getContent()),(Dt=b.current)==null||Dt.clear()):await J((Ge=b.current)==null?void 0:Ge.element.value);return}if(Xe)for(let dt=0;dt<a.EnabledLocationList.length;dt++)Se.key===(dt+1).toString()&&z(a.EnabledLocationList[dt].value);setTimeout(()=>{var dt;Ve||V(((dt=b.current)==null?void 0:dt.element.value)??"")})},Te=A.useCallback(async Se=>{const{type:Ve}=Se;if(Ve.startsWith("image"))try{return`${await lw.upload(Se)}`}catch(Ke){new F.Notice(Ke)}},[]),J=async Se=>{if(!Se||Se.trim()===""){new F.Notice(O("Content cannot be empty"));return}const Ve=async(Xe,Ge)=>{Ge=Ge.replaceAll("&nbsp;"," "),Eg("");try{if(!Xe){let Dt;switch(ee.current){case"CANVAS":Dt=await Me.createMemoCanvas({text:Ge,isList:h.current});break;case"MULTI":Dt=await Me.createMemoMultiFile({content:Ge,isList:h.current});break;case"DAILY":Dt=await Me.createMemoDaily(Ge,h.current);break;case"FILE":Dt=await Me.createMemoSingleFile({content:Ge,isList:h.current});break}if(!Dt)return;Me.pushMemo(Dt),it.clearQuery();const dt=r||ct.getState().app,Vt=dt==null?void 0:dt.loadLocalStorage("tokenForSync");Dt&&Vt&&a.startSync&&setTimeout(async()=>{const Ba=await m3({content:Ge,thinoType:ee.current==="DAILY"?"DAILY":"FILE"});await Me.updateMemoById(Dt.id,Ba,!0)},200);return}const tt=Me.getMemoById(Xe);if(tt&&tt.content!==Ge){const Dt=await Me.updateMemo(tt.id,Ge,h.current?"JOURNAL":"TASK-TODO");Dt.updatedAt=Ue.getDateTimeString(Date.now()),Me.editMemo(Dt)}rt.setEditMemoId("")}catch(tt){new F.Notice(tt.message)}},{editMemoId:Ke}=rt.getState();await Ve(Ke,Se),Eg("")},ve=A.useCallback(()=>{var Se;rt.setEditMemoId(""),(Se=b.current)==null||Se.setContent(""),Eg("")},[]),V=A.useCallback(Se=>{if(Eg(Se??""),!b.current)return;const Ve=b.current.getContent(),Ke=b.current.element.selectionStart,Xe=Ve.slice(0,Ke),Ge=Ve.slice(Ke);(Xe.endsWith("@")||Xe.endsWith("📆"))&&Ge.startsWith(" ")||(Xe.endsWith("@")||Xe.endsWith("📆"))&&Ge===""?(Re(),I(!0)):I(!1),setTimeout(()=>{var tt;(tt=b.current)==null||tt.focus()})},[a.EditorType]),G=Se=>{if(!b.current||!a)return;Se&&(ie(),d(!1));const Ve=b.current.getContent(),Ke=b.current.element.selectionStart,Xe=Ve.slice(0,Ke),Ge=Ve.slice(Ke),tt=F.moment(Se);if(Xe.endsWith("@"))switch(a.InsertDateFormat){case"Dataview":b.current.element.value=Ve.slice(0,b.current.element.selectionStart-1)+"[due::"+tt.format("YYYY-MM-DD")+"]"+Ge,b.current.element.setSelectionRange(Ke+17,Ke+17),b.current.focus(),V(b.current.element.value);break;case"Tasks":b.current.element.value=Ve.slice(0,b.current.element.selectionStart-1)+"📆"+tt.format("YYYY-MM-DD")+Ge,b.current.element.setSelectionRange(Ke+11,Ke+11),b.current.focus(),V(b.current.element.value)}else{b.current.element.value=Xe+tt.format("YYYY-MM-DD")+Ge,b.current.element.setSelectionRange(Ke+10,Ke+10),b.current.focus(),V(b.current.element.value);return}},le=()=>{b.current&&d()},we=async()=>{var Ke;const Se=!F.Platform.isDesktop&&await((Ke=window.Capacitor)==null?void 0:Ke.Plugins.Device.getId()),Ve=F.Platform.isDesktop?await Un():Se.identifier||Se.uuid;return!s&&(s==null?void 0:s.appId)!==Ve?(yr(),!1):!0},ue=Se=>{if(!we())return;const Ve=new F.Menu;a.EnabledLocationList.forEach(tt=>{Ve.addItem(Dt=>{var dt;Dt.setTitle(tt.value).setIcon(((dt=Df.find(Vt=>Vt.title===tt.value))==null?void 0:dt.icon)??"file").setChecked(q===tt.value).onClick(()=>{z(tt.value)})})});let Ke=Se.target,Xe=null;for(;!Ke.hasClass("location-wrapper")&&(Xe=Ke.parentElement,Xe);)Ke=Xe;const Ge=Ke.getBoundingClientRect();setTimeout(()=>{Ve.showAtPosition({x:Ge.x,y:Ge.bottom,width:Ge.width,left:!1,overlap:!0})},200)},De=A.useCallback(()=>{var Se,Ve;if(!(!b.current&&a.EditorType==="memos"))switch(a.EditorType){case"obsidian":(Se=b.current)==null||Se.focus(),(Ve=r==null?void 0:r.commands)==null||Ve.executeCommandById("editor:insert-tag");break;case"memos":{const Ke=b.current.getContent(),Xe=b.current.element.selectionStart,Ge=Ke.slice(0,Xe),tt=Ke.slice(Xe);let Dt=Ge+"# "+tt,dt=Ge.length+1;Ge.endsWith("#")&&tt.startsWith(" ")&&(Dt=Ge.slice(0,Ge.length-1)+tt.slice(1),dt=Ge.length-1),b.current.element.value=Dt,b.current.element.setSelectionRange(dt,dt),b.current.focus();const Vt=new Event("input",{bubbles:!0,cancelable:!0});b.current.element.dispatchEvent(Vt),V(b.current.element.value)}}},[r]),Re=A.useCallback(()=>{if(!b.current||!N.current||!a||!r)return;const Ke=r.workspace.getLeavesOfType(Ar)[0].view.containerEl,Xe=280,Ge=Ke.clientWidth,{x:tt,y:Dt}=yN(b.current.element);let dt,Vt;F.Platform.isMobile?(window.innerWidth-tt>Xe?dt=(tt+Xe+16>Ge,tt+18):window.innerWidth-tt<Xe?dt=(tt+Xe+16>Ge,tt+34):dt=b.current.element.clientWidth/2,a.DefaultEditorLocation==="Bottom"&&window.innerWidth>875?Vt=Dt+4:a.DefaultEditorLocation==="Bottom"&&window.innerWidth<=875?Vt=Dt+19:a.DefaultEditorLocation==="Top"&&window.innerWidth<=875&&(Vt=Dt+36)):(dt=(tt+Xe+16>Ge,tt+18),Vt=Dt+34),B(tt),N.current.style.left=`${dt}px`,N.current.style.top=`${Vt}px`},[a,r]),Ye=A.useCallback(()=>{const Se=document.createElement("input");document.body.appendChild(Se),Se.type="file",Se.multiple=!1,Se.accept="image/png, image/gif, image/jpeg",Se.onchange=async()=>{var Xe;if(!Se.files||Se.files.length===0)return;const Ve=Se.files[0],Ke=await Te(Ve);Ke&&((Xe=b.current)==null||Xe.insertText(Ke)),document.body.removeChild(Se)},Se.click()},[]),Be=!!n.editMemoId,yt=A.useMemo(()=>({className:"memo-editor",inputerType:a.EditorType||"obsidian",initialContent:wN(),placeholder:O("What do you think now..."),showConfirmBtn:!0,showCancelBtn:Be,showTools:!0,onConfirmBtnClick:J,onCancelBtnClick:ve,onContentChange:V}),[Be,a.EditorType]);return D.jsxs(D.Fragment,{children:[!n.globalEditorShown&&t==="block"&&D.jsx("div",{ref:Se=>{w.current=Se,Se&&F.setIcon&&F.setIcon(Se,"plus-circle")},className:`memo-show-editor-button ${g?"hidden":""}`,onClick:()=>{var Se;(Se=w.current.firstElementChild)==null||Se.toggleClass("rotate-hidden",!0),setTimeout(()=>{m(!0),w.current.firstElementChild.toggleClass("rotate-hidden",!1)},500),setTimeout(()=>{var Ve;(Ve=b.current)==null||Ve.focus()},600)}}),D.jsxs("div",{className:`memo-editor-wrapper ${e||""} ${Be?"edit-ing":""} ${n.globalEditorShown?"fullscreen-editor":""} ${g?"":"hidden"}`,onKeyDownCapture:Se=>be(Se,!0),children:[D.jsx("span",{className:`tip-text ${Be?"":"hidden"}`,children:"Modifying..."}),D.jsx(mN,{ref:b,...yt,tools:D.jsxs(D.Fragment,{children:[D.jsx("span",{ref:Se=>{Se&&F.setIcon(Se,"hash")},className:"btn action-btn add-tag",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!n.globalEditorShown&&De()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||n.globalEditorShown)&&De()}}),D.jsx("span",{ref:Se=>{Se&&F.setIcon(Se,"paperclip")},className:"btn action-btn file-upload",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!n.globalEditorShown&&Ye()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||n.globalEditorShown)&&Ye()}}),D.jsx("span",{ref:Se=>{Se&&F.setIcon(Se,c?"check-square":"layout-list")},className:"btn action-btn list-or-task",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!n.globalEditorShown&&le()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||n.globalEditorShown)&&le()}}),D.jsx("div",{ref:Se=>{Se&&(F.setIcon&&F.setIcon(Se,n.globalEditorShown?"shrink":"expand"),F.setTooltip&&F.setTooltip(Se,n.globalEditorShown?O("Exit fullscreen mode"):O("Enter fullscreen mode")))},className:"action-btn show-editor",onPointerDown:()=>{we()&&(m(!0),rt.setGlobalEditorShown(!n.globalEditorShown))}}),D.jsx("div",{className:"action-btn split-line"}),D.jsx("div",{className:"action-btn location-wrapper",onClick:Se=>{a&&a.DefaultEditorLocation==="Top"&&!n.globalEditorShown&&ue(Se)},onPointerDown:Se=>{(a&&a.DefaultEditorLocation==="Bottom"||n.globalEditorShown)&&ue(Se)},children:D.jsx("div",{ref:$,className:"action-btn file-location-btn"})})]})}),D.jsx("div",{ref:N,className:"date-picker",children:k&&D.jsx("div",{tabIndex:-1,style:R.styles.popper,...R.attributes.popper,ref:j,role:"dialog",children:D.jsx(kv,{className:`editor-date-picker ${k?"":"hidden"}`,datestamp:_,handleDateStampChange:G})})})]})]})};function wN(){return zn.get(["thinoEditorContentCache"]).thinoEditorContentCache??""}function Eg(e){zn.set({thinoEditorContentCache:e})}function bN(){const{locationState:{pathname:e},globalState:{memoListView:t,globalEditorShown:n}}=A.useContext(Ft);return D.jsxs(D.Fragment,{children:[n&&D.jsx(Zp,{}),!n&&D.jsx("section",{id:"page-wrapper",className:`memos-${e==="/"?t:"list"}-view`,children:D.jsxs(D.Fragment,{children:[D.jsx(BF,{}),D.jsx("main",{className:"content-wrapper",children:wQ(e)})]})})]})}const DN={"*":D.jsx(bN,{})},SN=()=>{const{dailyNotesState:{app:e,view:t},locationState:{query:{type:n}}}=A.useContext(Ft),r=Q.useRef(null),a=Q.useRef(null),[i,s]=Oo(!1);A.useEffect(()=>{!r||!t||!e||(t.registerEvent(e.workspace.on("blur-on-memos",()=>{var m;(m=r.current)==null||m.blur()})),t.registerEvent(e.workspace.on("focus-on-searchBar",()=>{var m;(m=r.current)==null||m.focus()})))},[r,e,t]),A.useEffect(()=>{a&&F.setIcon(a.current,"search")},[a]);const c=m=>{const{type:w}=it.getState().query;m===w&&(m=""),it.setMemoTypeQuery(m)},d=m=>{const w=m.currentTarget.value;if(!w.contains(" -time: ")){it.setTextQuery(w);return}const b=w.split(" -time: ")[1],T=b.length>10?b.match(/\d{4}-\d{2}-\d{2}/g):null;if(T==null){it.setTextQuery(w.split(" -time: ")[0]);return}if(T.length===1){const E=F.moment(T[0]);it.setTimeQuery({from:E.startOf("day").valueOf(),to:E.endOf("day").valueOf()})}else if(T.length===2){const E=F.moment(T[0]),M=F.moment(T[1]);it.setTimeQuery({from:E.startOf("day").valueOf(),to:M.endOf("day").valueOf()})}it.setTextQuery(w.split(" -time: ")[0])},h=()=>{s(!0)},g=()=>{s(!1)};return D.jsxs("div",{className:"search-bar-container",children:[D.jsxs("div",{className:"search-bar-inputer",children:[D.jsx("span",{ref:a,className:"btn icon-img"}),D.jsx("input",{ref:r,className:"text-input",type:"text",onMouseOver:h,onMouseOut:g,placeholder:i?O("Type here"):"",onChange:d})]}),D.jsx("div",{className:"quickly-action-wrapper",children:D.jsxs("div",{className:"quickly-action-container",children:[D.jsx("span",{className:"title-text",children:O("Quick filter")}),D.jsxs("div",{className:"section-container types-container",children:[D.jsxs("span",{className:"section-text",children:[O("TYPE"),":"]}),D.jsx("div",{className:"values-container",children:v1.map((m,w)=>D.jsxs("div",{children:[D.jsx("span",{className:`type-item ${n===m.value?"selected":""}`,onClick:()=>{c(m.value)},children:m.text}),w+1<v1.length?D.jsx("span",{className:"split-text",children:"/"}):null]},m.value))})]})]})})]})},_D={list:"align-justify",waterfall:"layout-grid",calendar:"calendar",minimal:"list",table:"table"},EN=e=>{const{dailyNotesState:{app:t,view:n,verifyState:r},globalState:{manifest:a}}=A.useContext(Ft),i=A.useRef(null),s=A.useRef(null),[c,d]=A.useState("list"),[h,g]=A.useState(null);A.useEffect(()=>{if(!a||!t)return;const w=t==null?void 0:t.plugins.getPlugin(a.id);g(w),d(w==null?void 0:w.settings.MemoListView),rt.setMemoListView(w==null?void 0:w.settings.MemoListView)},[a,t]),A.useEffect(()=>{if(!t||!n||!h)return;const w=()=>{if(n.leaf.height===0)return;const b=h==null?void 0:h.settings.MemoListView;n.leaf.width>876?(d(b||"list"),rt.setMemoListView(b||"list")):n.leaf.width<875&&(rt.setMemoListView("list"),d("list"))};w(),s.current||(s.current=t.workspace.on("resize",w),n.registerEvent(s.current))},[t,n,h]),A.useEffect(()=>{i&&(F.setIcon(i.current,_D[c]),rt.setMemoListView(c),F.requireApiVersion("1.4.4")&&F.setTooltip(i.current,O("Switch view")))},[c]);const m=async w=>{var I;const b=!F.Platform.isDesktop&&await((I=window.Capacitor)==null?void 0:I.Plugins.Device.getId()),T=F.Platform.isDesktop?await Un():b.identifier||b.uuid;if(!r||(r==null?void 0:r.appId)!==T){yr();return}const E=async B=>{rt.setMemoListView(B),h&&(h.settings.MemoListView=B,await h.saveSettings()),d(B)},M=[{view:"list",title:O("List")},{view:"waterfall",title:O("Waterfall")},{view:"calendar",title:O("Calendar")},{view:"table",title:O("Table")}],k=new F.Menu;M.forEach(({view:B,title:N})=>{k.addItem(j=>{j.setChecked(c===B).setIcon(_D[B]).setTitle(N).onClick(()=>{c!==B&&E(B)})})}),k.showAtMouseEvent(w.nativeEvent)};return D.jsx("div",{className:`memos-view-switcher-wrapper ${e.className?e.className:""}`,ref:i,onClick:m})},TN=()=>{const e=A.useRef(null);return A.useEffect(()=>{e&&(F.setIcon(e.current,"calendar-check"),F.setTooltip&&F.setTooltip(e.current,O("Daily Memos")))},[e]),D.jsx("div",{className:"memos-review-entry-wrapper",ref:e,onClick:()=>{Up()}})},CN=e=>{var b,T;const{dailyNotesState:{app:t,verifyState:n},locationState:{query:r}}=A.useContext(Ft),a=Q.useRef(null),[i,s]=Q.useState(!1),c=Q.useRef(null),[d,h]=Q.useState(""),g=Iv(a.current,c.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,10]}}]});A.useEffect(()=>{i&&g.update&&(g==null||g.update())},[i]),A.useEffect(()=>{a&&F.setIcon(a.current,"filter")},[a]);const m=async()=>{var k;const E=!F.Platform.isDesktop&&await((k=window.Capacitor)==null?void 0:k.Plugins.Device.getId()),M=F.Platform.isDesktop?await Un():E.identifier||E.uuid;return!n&&(n==null?void 0:n.appId)!==M?(yr(),!1):!0};return Eh(c,()=>{s(!1),d&&it.getState().query.filter===d&&it.setMemoFilter("")}),D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"thino-inline-filter-wrapper",ref:a,onClick:async()=>{await m()&&(F.Platform.isDesktop?(s(!i),await(g==null?void 0:g.update())):new xN(ct.getState().app,r.filter,M=>{h(M)}).open())}}),D.jsx("div",{ref:c,className:`thino-inline-filter-container ${i?"":"hidden"}`,style:g.styles.popper,children:i&&D.jsx(ww,{type:"inline",queryId:(b=r.filter)!=null&&b.startsWith("Filter [Temp] ")&&!((T=r.filter)!=null&&T.includes("Filter [Temp]"))?"":r.filter,destroy:()=>{s(!1)},setPreview:E=>{h(E)}})})]})};class xN extends F.Modal{constructor(n,r,a){super(n);ye(this,"root");ye(this,"setPreview");this.filter=r,this.setPreview=a}onOpen(){var r,a;const{contentEl:n}=this;this.root=Mv(n),this.root.render(D.jsx(If,{store:xe,context:Ft,children:D.jsx("div",{className:"thino-inline-filter-container",children:D.jsx(ww,{type:"modal",queryId:(r=this.filter)!=null&&r.startsWith("Filter [Temp] ")&&!((a=this.filter)!=null&&a.includes("Filter [Temp]"))?"":this.filter,destroy:()=>{this.close()},setPreview:i=>{this.setPreview(i)}})})}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const PD=({syncThino:e})=>{const{locationState:{query:{filter:t}},dailyNotesState:{app:n},globalState:{isMobileView:r,showSiderbarInMobileView:a},queryState:{queries:i}}=A.useContext(Ft),[s]=A.useState(Q.createRef()),[c,d]=A.useState("THINO");A.useEffect(()=>{const m=ln.getQueryById(t);d(m?m.title:"THINO")},[t,i]),A.useEffect(()=>{const m=s.current;F.setIcon(m,"refresh-cw")},[s]);const h=A.useCallback(()=>{if(!(r&&a)){if(e){const m=H1(n);e(m)}Me.fetchAllMemos()}},[]),g=A.useCallback(m=>{m.stopPropagation(),rt.setShowSiderbarInMobileView(!0)},[]);return D.jsxs("div",{className:"section-header-container memos-header-container",children:[D.jsxs("div",{className:"title-text",onClick:()=>{h(),s&&s.current.firstElementChild.toggleClass("rotate-hidden",!0),setTimeout(()=>{s&&s.current.firstElementChild.toggleClass("rotate-hidden",!1)},1e3)},children:[D.jsx(No,{when:r,children:D.jsx("button",{ref:m=>{m&&F.setIcon(m,"menu")},className:"btn action-btn clickable-icon",onClick:g})}),D.jsx("span",{className:"normal-text",children:c}),D.jsx("span",{className:"refresh-icon",ref:s})]}),D.jsxs("div",{className:"memos-header-search-section",children:[D.jsx(TN,{}),D.jsx(EN,{className:r?"hidden":""}),D.jsx(CN,{}),D.jsx(SN,{})]})]})},MN='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="1146.31828" height="801.00361" viewBox="0 0 1146.31828 801.00361" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M1050.69918,514.5082a456.24913,456.24913,0,0,1-37.38013-261.87c3.6001-23.1,9.44006-46.85,24.43018-64.79,14.38989-17.23,39.34985-27.37,60.0299-19.29-13.56994-29.61-47.76-46.5-80.59-47.33-34.09-.86-66.92,12.5-97.25,28.1-30.33,15.6-59.65,33.81006-92.21,43.99-53.5,16.72-111.91,10.34-165.5-6.09-53.58-16.44-103.62-42.47-154.62-65.71-51.01-23.24-104.17-44.03-160.01-48.91-55.84-4.87-115.25,7.89-157.24,45.01s-61.87,101.28-38.27,152.11c14.25,30.7,42.22,54.32,52.04,86.7,12.32,40.65-7.08,83.96-30.41,119.45-23.34,35.49-51.8,69.58-60.47,111.16-8.01,38.38,2.72,78.02,24.05,111.38a197.34468,197.34468,0,0,0,35.74,41.61c43.09,37.91,98.77,58.15,154.17,73.13,200.27,54.17,416.13,49.29,613.75-13.88,34.99-11.18,69.95-24.43,99.32-46.48,19.16-14.38,35.83-33.02,46.39-54.35a114.10574,114.10574,0,0,0,11.13-36.18005C1104.43917,610.17819,1072.9692,562.05819,1050.69918,514.5082Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><g opacity="0.17"><path d="M890.75032,246.45145c9.64171-4.20394-9.91163-6.65119-32.09585-7.45582s-49.02061-.76011-63.19756-3.04875c-13.71114-2.21343-12.7009-6.14907-13.85427-9.71489s-6.42446-7.222-27.81928-8.0147c-26.6607-.98774-70.62581,2.81434-90.75171.53173-18.78121-2.13011-7.61723-8.81182-35.00344-9.06755-15.63837-.146-35.7849,2.05682-53.18577,2.58844-16.33647.49909-28.42216-.53441-36.90357-1.924s-14.38875-3.15126-23.93413-4.37864c-25.06068-3.2224-74.09133-2.13925-117.853,1.99071s-81.27344,10.89816-102.42889,17.60175-27.00029,13.30376-22.07239,18.90071c3.14674,3.574,11.19915,6.91585,30.73235,8.352,36.53555,2.68621,101.58387-1.9375,139.33713.50645,21.0415,1.36213,30.3764,4.73924,48.83812,6.58716,19.83407,1.98528,48.86935,2.09051,77.39656,2.04341,59.39721-.09807,120.3137-.70829,182.42994-1.82747,25.94486-.46745,53.13-1.0752,80.73761-3.30289s55.76623-6.52591,61.59076-10.5553" transform="translate(-26.84086 -49.49819)" fill="#fff"/></g><path d="M1099.25911,172.04818c-.46-1.18-.96-2.35-1.48-3.49.84.33,1.68006.69,2.51,1.08Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><path d="M648.74482,314.5843c-7.66935-12.68445-16.75721-26.22767-30.98955-30.36953-16.482-4.7965-33.41319,4.73193-47.77473,14.13453a1392.15692,1392.15692,0,0,0-123.89338,91.28311l.04331.49239q46.22556-3.18781,92.451-6.37555c22.26532-1.53546,45.29557-3.2827,64.97195-13.8156,7.46652-3.99683,14.74475-9.33579,23.20555-9.70782,10.51175-.46217,19.67733,6.87923,26.8802,14.54931,42.60732,45.371,54.937,114.7541,102.73817,154.61592A1516.99458,1516.99458,0,0,0,648.74482,314.5843Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M910.64576,699.4127c-4.71168-5.94958-6.63691-7.343-11.28457-13.34761Q842.5968,612.64872,792.65327,534.27272q-33.92353-53.23005-64.48275-108.50439-14.54863-26.27808-28.29961-52.96872-10.67043-20.6952-20.8646-41.63793c-1.94357-3.98781-3.83209-7.99393-5.71122-12.00922-4.42788-9.44232-8.7734-18.93047-13.43942-28.24449-5.31687-10.61571-11.78905-21.74485-21.55259-28.877a29.4049,29.4049,0,0,0-15.31855-5.89457c-7.948-.51337-15.28185,2.76854-22.17569,6.35294-50.43858,26.301-97.65921,59.27589-140.36959,96.79771A730.77781,730.77781,0,0,0,346.39748,485.87843c-1.008,1.43927-3.39163.06418-2.37419-1.38422q6.00935-8.49818,12.25681-16.81288A734.81742,734.81742,0,0,1,543.87972,292.6956q18.24825-11.82579,37.18269-22.54245c6.36206-3.60275,12.75188-7.15967,19.25136-10.49653,6.37147-3.27274,13.13684-6.21547,20.41563-6.32547,24.77011-.385,37.5954,27.667,46.40506,46.54248q4.15283,8.9106,8.40636,17.76626,16.07481,33.62106,33.38729,66.628,10.68453,20.379,21.83683,40.51955,34.7071,62.71816,73.77854,122.897c34.5059,53.1429,68.73651,100.08874,108.04586,149.78473C913.67124,698.84433,911.73706,700.80615,910.64576,699.4127Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M457.9912,345.4352c-1.43911-1.60428-2.86926-3.20856-4.31777-4.81284-11.42244-12.63259-23.6788-25.11847-39.3644-32.36067a57.11021,57.11021,0,0,0-23.92678-5.54622c-8.56213.02753-16.93178,2.27348-24.84307,5.41792-3.74034,1.49428-7.39831,3.19021-11.00078,4.99614-4.11634,2.07182-8.15927,4.28118-12.1834,6.50883q-11.33112,6.27044-22.36816,13.0909-21.9606,13.5722-42.54565,29.21623-10.67111,8.11311-20.90175,16.75788-9.51557,8.03052-18.64618,16.492c-1.30168,1.20091-3.24526-.74255-1.94358-1.94347,1.60428-1.49428,3.22692-2.97938,4.84955-4.44612q6.87549-6.21547,13.9712-12.19258,12.93921-10.91827,26.54851-20.99312,21.16295-15.67614,43.78289-29.2254,11.3036-6.76547,22.91829-12.9626c2.33793-1.24674,4.70317-2.466,7.09571-3.6211a113.11435,113.11435,0,0,1,16.86778-6.86631,60.00626,60.00626,0,0,1,25.476-2.50266,66.32725,66.32725,0,0,1,23.50512,8.1314c15.40091,8.60812,27.34573,21.919,38.97005,34.90916C461.10844,344.80265,459.17382,346.75529,457.9912,345.4352Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M773.55166,476.34216l36.90462-13.498,18.32327-6.70182c5.96758-2.18267,11.92082-4.66747,18.08989-6.23037a28.53868,28.53868,0,0,1,16.37355.20862,37.73731,37.73731,0,0,1,12.771,7.91667,103.63871,103.63871,0,0,1,10.47488,11.18642c3.98932,4.79426,7.9197,9.63878,11.86772,14.46706q24.44135,29.89093,48.56306,60.04134,24.12118,30.14991,47.91981,60.556,23.85681,30.48042,47.38548,61.21573,2.8823,3.76519,5.75967,7.53415c1.0598,1.38809,3.44948.01962,2.37471-1.38807q-23.70225-31.04441-47.73491-61.83464-24.09177-30.86383-48.51646-61.46586-24.42423-30.60142-49.17854-60.93744-6.167-7.5576-12.35444-15.09858c-3.47954-4.24072-6.91984-8.52718-10.73629-12.47426-7.00538-7.24516-15.75772-13.64794-26.23437-13.82167-6.15972-.10214-12.121,1.85248-17.844,3.92288-6.16967,2.232-12.32455,4.50571-18.48632,6.7594L782.11123,470.2921l-9.29068,3.39811c-1.64874.603-.9365,3.26189.73111,2.65195Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M409.45248,324.15733c-18.75411-9.63866-42.77137-7.75087-60.00507,4.29119A855.84532,855.84532,0,0,1,446.818,351.17434C433.53537,343.3904,423.14521,331.19475,409.45248,324.15733Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M349.26282,328.41534,345.6524,331.35c1.22123-1.02713,2.4908-1.99013,3.795-2.90144C349.3858,328.43789,349.32442,328.426,349.26282,328.41534Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M874.62436,476.477c-3.63279-4.42206-7.56046-9.05222-12.99421-10.84836l-5.07308.20009a575.43629,575.43629,0,0,0,153.26729,175.22056Q942.22437,558.76317,874.62436,476.477Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M1086.66915,698.4482c-10.56006,21.33-27.23,39.97-46.39,54.35-29.37,22.05-64.33,35.3-99.32,46.48-197.62,63.17-413.48,68.05-613.75,13.88-55.4-14.98-111.08-35.22-154.17-73.13a197.34468,197.34468,0,0,1-35.74-41.61c57.35-31.52,126.86-43.4,193.19-41.95,95.09,2.08,187.96,27.46,282.16,40.59a1102.669,1102.669,0,0,0,334.04-4.6c38.31994-6.43,77.98-14.84,115.49-4.66A95.14954,95.14954,0,0,1,1086.66915,698.4482Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><circle cx="179.31828" cy="51" r="51" fill="#ccc"/><path d="M362.30892,97.84042C348.81185,83.6816,333.13643,70.765,314.57961,63.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557A64.90832,64.90832,0,0,1,232.6863,78.8348a74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46711,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,361.647,100.3475,1.5139,1.5139,0,0,0,362.30892,97.84042Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><path d="M208.57961,131.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557,64.90832,64.90832,0,0,1-22.05231,8.22681,74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46712,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,255.647,168.3475a1.5139,1.5139,0,0,0,.66193-2.50708C242.81185,151.6816,227.13643,138.765,208.57961,131.93948Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><polygon points="1047.411 588.142 1074.576 567.518 1087.816 580.759 1043.563 611.042 1047.411 588.142" fill="#2f2e41"/><path d="M1048.91635,694.42781H955.99269l3.25907-10.55987,0,0c20.1993-7.31227,8.85333-23.02957,28.06751-32.63666,46.9968-23.4984,65.19118-93.62006,58.30932-121.33935l30.798-1.30221S1118.95877,649.37476,1048.91635,694.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M1128.24653,644.78888a15.61893,15.61893,0,0,1-20.18272.37759l-.0604-.04961-.00207-.07767a14.96483,14.96483,0,0,0-.6-3.81936,10.69077,10.69077,0,0,1-.38818,2.64366l-.07784.28991-.20873-.21549c-.18027-.18589-.35474-.37472-.51859-.561a15.75088,15.75088,0,0,1-2.399-3.63269,45.91623,45.91623,0,0,0-12.74-15.87972,22.29237,22.29237,0,0,1-2.6727-2.57172,22.03415,22.03415,0,0,1,27.66955-33.56911l.13767.0806-.07148.1425a11.47756,11.47756,0,0,1-2.04788,2.954,14.96829,14.96829,0,0,0,3.15395-2.27865l.10006-.09436.11337.07818a22.12793,22.12793,0,0,1,4.0294,3.5867l.12844.14726a9.83643,9.83643,0,0,0,7.28375,3.36123,15.614,15.614,0,0,1,15.11947,18.29291l-.01769.10315-.10034.0304a13.39866,13.39866,0,0,1-5.45694.68088,15.22208,15.22208,0,0,0,4.86061,1.2174l.21654.01718-.06874.20619a15.6035,15.6035,0,0,1-4.50339,6.79l-.05928.05187-.06294.05509a15.3329,15.3329,0,0,0-5.297,10.64272A15.73345,15.73345,0,0,1,1128.24653,644.78888Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M1131.089,639.76934a15.57418,15.57418,0,0,1-.1756,1.67894,15.78521,15.78521,0,0,0,2.53772-7.82047c.02071-.42637.06546-.8511.12549-1.27393A14.8141,14.8141,0,0,0,1131.089,639.76934Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1136.00331,620.789a15.19815,15.19815,0,0,0,3.88418,1.09822,15.63,15.63,0,0,0,1.42322-1.73647A13.24363,13.24363,0,0,1,1136.00331,620.789Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1141.72736,615.66082a15.70907,15.70907,0,0,1-.11112,4.05194,15.52908,15.52908,0,0,0,1.75758-3.62455l.06874-.2062-.21655-.01718A15.09472,15.09472,0,0,1,1141.72736,615.66082Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1140.28241,600.83967a15.65079,15.65079,0,0,0-11.46149-5.29958,9.83649,9.83649,0,0,1-7.28378-3.36124l-.12843-.14726a22.12785,22.12785,0,0,0-4.02939-3.58669l-.11338-.07817-.10005.09434a14.9676,14.9676,0,0,1-3.154,2.27865,11.47832,11.47832,0,0,0,2.04794-2.954l.07146-.1425-.13766-.08059a22.01777,22.01777,0,0,0-32.62113,14.2542,22.02182,22.02182,0,0,1,30.259-8.11268l.13765.08059-.07145.1425a11.47814,11.47814,0,0,1-2.04794,2.954,14.96754,14.96754,0,0,0,3.154-2.27865l.10006-.09434.11338.07817a22.12857,22.12857,0,0,1,4.02939,3.5867l.12843.14725a9.83643,9.83643,0,0,0,7.28377,3.36124,15.61675,15.61675,0,0,1,15.10347,12.83488,18.92714,18.92714,0,0,0,2.26005-.55l.10034-.03039.01776-.10314A15.554,15.554,0,0,0,1140.28241,600.83967Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1173.15913,536.54065a50.29141,50.29141,0,0,1-42.007,49.59965l-.2484.04053-.19219-.16016a48.18565,48.18565,0,0,0-10.51008-6.67159,34.42316,34.42316,0,0,1,5.5662,6.56047l.53537.80469-.96485.04641c-.8328.04053-1.66038.0608-2.45919.0608a50.71554,50.71554,0,0,1-13.88445-1.92513c-20.51748-5.83748-42.55022-6.83567-65.48571-2.96711a71.77856,71.77856,0,0,1-11.90147.993A70.94787,70.94787,0,0,1,1009.287,444.63723l.48765-.16146.19251.47589a36.95659,36.95659,0,0,1,2.787,11.23306,48.19635,48.19635,0,0,0,1.19789-12.47116l-.01536-.44255.43013-.10786a71.24939,71.24939,0,0,1,17.24051-2.1147l.62918.00262a31.67228,31.67228,0,0,0,23.616-10.46237,50.27568,50.27568,0,0,1,76.38016,2.34611l.2118.26213-.1399.30723c-2.93769,6.47484-6.13818,11.19189-9.95836,14.64143a49.01343,49.01343,0,0,0,13.27978-9.16282l.502-.487.35234.60466A50.24214,50.24214,0,0,1,1143.32,464.4278l-.00065.25363c-.00065.08956-.00065.17977-.00065.26932,0,13.61317,5.26419,26.51577,14.46689,35.43934A50.66021,50.66021,0,0,1,1173.15913,536.54065Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M1111.68868,417.71713a35.519,35.519,0,0,1-6.33509,7.77159,48.88929,48.88929,0,0,0,9.89823-6.1865Q1113.50228,418.44038,1111.68868,417.71713Z" transform="translate(-26.84086 -49.49819)"/><path d="M1140.79293,477.73323a50.48191,50.48191,0,0,1,7.22981,8.80775,51.39288,51.39288,0,0,1-4.70405-21.59022c0-.08957,0-.17978.00065-.26932l.00064-.25364a50.24245,50.24245,0,0,0-6.83956-25.32735l-.35235-.60468-.50207.487a49.12616,49.12616,0,0,1-9.17043,6.983A48.97185,48.97185,0,0,0,1140.79293,477.73323Z" transform="translate(-26.84086 -49.49819)"/><path d="M1126.32733,441.77093l-.00065.25364c-.00064.08954-.00064.17975-.00064.26931,0,.49355.00894.98585.02272,1.47739a52.3648,52.3648,0,0,0,5.95587-10.26709l.13985-.30725-.21176-.26212a50.68811,50.68811,0,0,0-9.096-8.79733A50.35621,50.35621,0,0,1,1126.32733,441.77093Z" transform="translate(-26.84086 -49.49819)"/><path d="M1157.78559,500.3901a45.45934,45.45934,0,0,1-6.40838-7.79666,50.2297,50.2297,0,0,1-37.21772,70.89l-.24841.04054-.19217-.16016a48.188,48.188,0,0,0-10.5101-6.67159,34.42262,34.42262,0,0,1,5.56617,6.56046l.5354.80471-.96482.0464c-.83286.04054-1.66041.0608-2.4592.0608a50.71549,50.71549,0,0,1-13.88448-1.92514c-20.51749-5.83747-42.55022-6.83566-65.4857-2.9671a71.7793,71.7793,0,0,1-11.90145.993,70.62389,70.62389,0,0,1-47.12-17.969,71.01118,71.01118,0,0,0,64.1127,40.6259,71.77947,71.77947,0,0,0,11.90145-.99294c22.93547-3.86857,44.96821-2.87037,65.4857,2.96709a50.71543,50.71543,0,0,0,13.88448,1.92514c.79878,0,1.62634-.02026,2.45919-.0608l.96483-.0464-.5354-.80471a34.42263,34.42263,0,0,0-5.56618-6.56045,48.18774,48.18774,0,0,1,10.51011,6.67159l.19217.16016.24841-.04055a50.25392,50.25392,0,0,0,26.63344-85.75019Z" transform="translate(-26.84086 -49.49819)"/></g><polygon points="134.035 560.973 97.223 533.025 79.28 550.968 139.25 592.007 134.035 560.973" fill="#2f2e41"/><path d="M195.21,687.42781h125.9266L316.72,673.11747l0,0c-27.37332-9.9093-11.99769-31.20879-38.036-44.228-63.68827-31.84414-88.3446-126.87035-79.01856-164.43447l-41.73625-1.76471S100.29113,626.37364,195.21,687.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M80.55365,605.25219a20.7786,20.7786,0,0,0-7.17833-14.42261c-.0283-.02489-.05681-.05-.08529-.07465l-.08034-.0703a21.14539,21.14539,0,0,1-6.10283-9.20148l-.09315-.27942.29345-.02329a20.6283,20.6283,0,0,0,6.58691-1.64977,18.15726,18.15726,0,0,1-7.395-.9227l-.136-.0412-.024-.13979a21.15953,21.15953,0,0,1,20.48932-24.78985,13.32987,13.32987,0,0,0,9.87066-4.555l.17406-.19956a29.9868,29.9868,0,0,1,5.46049-4.86055l.15364-.106.13559.12786a20.2845,20.2845,0,0,0,4.27411,3.088,15.554,15.554,0,0,1-2.77519-4.00312l-.09688-.19312.18657-.10923A29.85984,29.85984,0,0,1,141.70818,588.318a30.209,30.209,0,0,1-3.62195,3.48511,62.224,62.224,0,0,0-17.26483,21.51959,21.34447,21.34447,0,0,1-3.251,4.92289c-.222.25244-.45848.50834-.70277.76026l-.28286.292-.10549-.39287a14.48742,14.48742,0,0,1-.526-3.58259,20.27961,20.27961,0,0,0-.813,5.17585l-.00281.10525-.08185.06724a21.15037,21.15037,0,0,1-34.50192-15.41853Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M83.85266,613.35673a21.10374,21.10374,0,0,0,.238,2.27524,21.39156,21.39156,0,0,1-3.439-10.598c-.02806-.57781-.08871-1.15339-.17006-1.72639A20.07562,20.07562,0,0,1,83.85266,613.35673Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M77.193,587.63524a20.59681,20.59681,0,0,1-5.2637,1.48826,21.18029,21.18029,0,0,1-1.92868-2.3532A17.94731,17.94731,0,0,0,77.193,587.63524Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M69.436,580.68579a21.28893,21.28893,0,0,0,.1506,5.491,21.04389,21.04389,0,0,1-2.3818-4.91186l-.09316-.27943.29346-.02329A20.4517,20.4517,0,0,0,69.436,580.68579Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M71.39415,560.60073a21.20931,21.20931,0,0,1,15.53218-7.18179,13.33,13.33,0,0,0,9.87069-4.555l.174-.19955a29.98717,29.98717,0,0,1,5.46048-4.86056l.15364-.10593.13559.12785a20.28377,20.28377,0,0,0,4.27415,3.08794,15.55474,15.55474,0,0,1-2.77529-4.00312l-.09683-.19312.18655-.10921A29.83764,29.83764,0,0,1,148.51627,561.925a29.84315,29.84315,0,0,0-41.00585-10.994l-.18655.10921.09683.19311a15.5548,15.5548,0,0,0,2.77529,4.00313,20.28412,20.28412,0,0,1-4.27415-3.08794l-.13559-.12786-.15364.10594a29.98711,29.98711,0,0,0-5.46048,4.86055l-.174.19956a13.33,13.33,0,0,1-9.87069,4.555A21.16316,21.16316,0,0,0,69.65975,579.135a25.64845,25.64845,0,0,1-3.06273-.74529l-.136-.04118-.02407-.13978A21.07824,21.07824,0,0,1,71.39415,560.60073Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M47.67454,424.47529c12.47114-12.09289,19.605-29.578,19.605-48.026,0-.12136,0-.24361-.00089-.365l-.00088-.34372a68.08611,68.08611,0,0,1,9.26876-34.32266l.47748-.81942.68034.66a66.42122,66.42122,0,0,0,17.99625,12.41711c-5.177-4.67469-9.51414-11.06706-13.4952-19.8415l-.18957-.41636.287-.35523a68.13168,68.13168,0,0,1,103.50749-3.17935,42.9211,42.9211,0,0,0,32.00348,14.1782l.85264-.00355a96.55467,96.55467,0,0,1,23.36369,2.86576l.58289.14617-.02081.59973a65.31307,65.31307,0,0,0,1.62334,16.90044,50.08227,50.08227,0,0,1,3.77686-15.22262l.26089-.64491.66085.21881a96.14585,96.14585,0,0,1-30.24771,187.39848A97.27192,97.27192,0,0,1,202.538,534.974c-31.0813-5.24253-60.93923-3.88982-88.74374,4.02092a68.72787,68.72787,0,0,1-18.81567,2.60886c-1.08252,0-2.204-.02747-3.33261-.08239l-1.30753-.0629L91.064,540.368a46.64968,46.64968,0,0,1,7.5431-8.8905,65.29981,65.29981,0,0,0-14.24286,9.0411l-.26045.217-.33662-.05492A68.10219,68.10219,0,0,1,47.67454,424.47529Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M110.14328,312.44a48.13438,48.13438,0,0,0,8.58508,10.53176,66.25283,66.25283,0,0,1-13.4137-8.38371Q107.68556,313.42016,110.14328,312.44Z" transform="translate(-26.84086 -49.49819)"/><path d="M70.70231,393.77157a68.411,68.411,0,0,0-9.79756,11.93592,69.64577,69.64577,0,0,0,6.37475-29.25825c0-.12137,0-.24362-.00088-.365l-.00087-.34372a68.08661,68.08661,0,0,1,9.26871-34.32266l.4775-.81944.68039.66a66.5738,66.5738,0,0,0,12.42741,9.46305C88.97194,367.31049,82.046,382.77189,70.70231,393.77157Z" transform="translate(-26.84086 -49.49819)"/><path d="M90.30555,345.03683l.00087.34372c.00088.12134.00088.24359.00088.365,0,.66884-.01212,1.336-.0308,2.0021A70.9624,70.9624,0,0,1,82.20534,333.834l-.18953-.41637.287-.35522a68.69044,68.69044,0,0,1,12.32659-11.92181A68.24086,68.24086,0,0,0,90.30555,345.03683Z" transform="translate(-26.84086 -49.49819)"/><path d="M47.67451,424.4753a61.60525,61.60525,0,0,0,8.6844-10.56575,68.06938,68.06938,0,0,0,50.436,96.06741l.33664.05494.26042-.217a65.30253,65.30253,0,0,1,14.24289-9.04108,46.64767,46.64767,0,0,0-7.54306,8.89047l-.72556,1.09052,1.3075.06287c1.12865.05494,2.25012.08239,3.33261.08239a68.72762,68.72762,0,0,0,18.81572-2.60886c27.80451-7.91072,57.66244-9.26344,88.74372-4.0209a97.27262,97.27262,0,0,0,16.12839,1.3456,95.7069,95.7069,0,0,0,63.8553-24.35094,96.23165,96.23165,0,0,1-86.88309,55.05467A97.27245,97.27245,0,0,1,202.538,534.974c-31.08129-5.24254-60.93922-3.88982-88.74373,4.0209a68.72763,68.72763,0,0,1-18.81572,2.60887c-1.08249,0-2.204-.02746-3.33261-.0824l-1.30749-.06287L91.064,540.368a46.64834,46.64834,0,0,1,7.54306-8.89047,65.30253,65.30253,0,0,0-14.24289,9.04108l-.26042.217-.33663-.05494A68.10219,68.10219,0,0,1,47.67451,424.4753Z" transform="translate(-26.84086 -49.49819)"/></g><circle cx="460.31828" cy="185" r="5" fill="#fff"/><circle cx="834.31828" cy="305" r="3" fill="#fff"/><circle cx="892.31828" cy="170" r="3" fill="#fff"/><circle cx="355.31828" cy="80" r="3" fill="#fff"/><circle cx="325.31828" cy="201" r="3" fill="#fff"/><circle cx="179.31828" cy="170" r="3" fill="#fff"/><circle cx="696.31828" cy="195" r="3" fill="#fff"/><circle cx="1003.31828" cy="98" r="3" fill="#fff"/><path d="M328.95929,413.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C339.30268,425.75443,332.75886,420.59829,328.95929,413.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M910.95929,612.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C921.30268,624.75443,914.75886,619.59829,910.95929,612.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M591.95929,449.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C602.30268,461.75443,595.75886,456.59829,591.95929,449.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M287.95929,565.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C298.30268,577.75443,291.75886,572.59829,287.95929,565.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M249.95929,651.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C260.30268,663.75443,253.75886,658.59829,249.95929,651.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><rect x="843.31828" y="68" width="11" height="589" fill="#3f3d56"/><rect x="813.31828" y="20" width="72" height="72" rx="35.99996" fill="#ff6582"/><path d="M418.64263,424.1385c0,11.47771,12.51572,21.67823,23.99344,21.67823s17.571-10.20052,17.571-21.67823a20.78224,20.78224,0,0,0-41.56448,0Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="398.471 484.489 437.067 483.005 439.294 442.925 394.76 442.925 398.471 484.489" fill="#ffb8b8"/><path d="M400.81364,561.4928a6.18231,6.18231,0,0,0-.36494-9.4728l7.00739-20.82235-11.03775,2.917-4.96213,19.32605a6.21581,6.21581,0,0,0,9.35743,8.05215Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><circle cx="415.75835" cy="381.62478" r="14.69804" fill="#ffb8b8"/><path d="M442.96047,429.64379l-10.73253-.28426a1.504,1.504,0,0,1-1.28014-.78738l-3.58787-6.65514a1.49783,1.49783,0,0,1,.39563-1.89138L441.79818,409.047a1.49679,1.49679,0,0,1,1.25618-.28037l11.34184,2.58422a1.499,1.499,0,0,1,1.1066,1.04314l4.4413,15.29492a1.49935,1.49935,0,0,1-1.51389,1.916l-5.5602-.27779a1.50724,1.50724,0,0,1-1.34747-1.0276l-.23052-.69867a.17342.17342,0,0,0-.338.05439,1.49974,1.49974,0,0,1-1.57346,1.4977l-1.84088-.09194a1.4954,1.4954,0,0,1-1.396-1.205l-.79385-3.99256a.1732.1732,0,0,0-.34188.01359l-.51866,4.442a1.492,1.492,0,0,1-1.48734,1.32546Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M432.2515,449.58079l19.00323.25331,6.18481,7.85346,9.95684,2.3481,2.5878,14.95427c1.29375,7.47624-.07979,12.21089-3.88076,18.77751l0,0-.45522,12.91771.503.91426a2.09364,2.09364,0,0,1-.63119,2.72267h0a4.27726,4.27726,0,0,1,.11752,2.81491l-.24528.81046s-.70783,5.66261-40.83239-.29293a3.95632,3.95632,0,0,1-3.34345-3.3986h0a2.95406,2.95406,0,0,1-.547-3.4038l.08175-.16348-.412-.48529a3.177,3.177,0,0,1-.1608-3.90659h0l-5.76652-41.25217,11.91192-3.71Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M419.16862,464.99288l-4.75684-3.94828s-4.22952,1.25013-7.18334,9.58077-13.08957,71.52656-13.08957,71.52656l11.87557-5.93778,16.8392-46.43085Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M524.81946,532.274a6.18228,6.18228,0,0,1-7.09116-6.29147l-20.54147-7.79242,9.257-6.682,18.08733,8.42424a6.21581,6.21581,0,0,1,.28831,12.34162Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><path d="M461.88061,464.63253l3.22471-5.27425s4.40655-.18456,9.89528,6.74353c2.81373,3.55161,21.04874,34.01719,21.04874,34.01719l16.86311,14.05546-13.80628,4.93081-16.27169-6.90314-18.244-30.078Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="435.555 666.81 444.739 666.81 449.108 631.385 435.553 631.386 435.555 666.81" fill="#ffb6b6"/><polygon points="355.157 661.099 364.044 663.415 377.208 630.238 364.091 626.819 355.157 661.099" fill="#ffb6b6"/><path d="M460.11787,711.77763l14.51826-.86655v6.22026l13.80293,9.53279a3.88541,3.88541,0,0,1-2.20782,7.08274H468.9467l-2.97925-6.15279-1.16325,6.15279h-6.517Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M380.13111,705.42858l14.2674,2.8235-1.569,6.01913,10.95211,12.70615a3.88541,3.88541,0,0,1-3.923,6.29683L383.133,728.91441l-1.331-6.70531-2.67759,5.66043-6.30624-1.64381Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M383.1248,688.31931l26.92081-55.33021,2.11353-65.49091C406.33233,556.677,423.491,532.805,423.491,532.805v-9.24491l41.91852,7.90812v0a201.21489,201.21489,0,0,1,12.26151,73.06026L475.982,694.04734h.52987a3.31527,3.31527,0,1,1,0,6.63053H459.9355a3.31527,3.31527,0,1,1,0-6.63053h.4274L448.4631,580.16351l-13.83654,56.19881L401.189,688.1066a3.3069,3.3069,0,0,1-.26524,6.60379H384.34739a3.31182,3.31182,0,0,1-1.22259-6.39108Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M382.75841,426.29647c6.19395-6.05935,10.09279-14.02773,15.22255-21.01108,5.1296-6.98327,12.35472-13.3824,21.01083-13.77026a13.03786,13.03786,0,0,1,8.16579,2.129,8.30541,8.30541,0,0,1,3.60455,7.36741c.9138-2.56674,4.99718-3.1453,6.588-.93331,1.59062,2.21191-.25722,5.89893-2.98115,5.94838l-.2671-1.05666a18.24877,18.24877,0,0,1-11.80141,7.83613,2.9783,2.9783,0,0,1-3.35526-3.85425C409.59087,410.80666,412.56052,428.25234,407,436s-21.45259,6.99551-30.82907,8.7353c-9.05466,1.68-17.85857-3.34756-25.69931-8.178A38.2715,38.2715,0,0,0,382.75841,426.29647Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M732.68989,636.90373,704.47275,624.455V613.75265l10.0561-.05651a7.46918,7.46918,0,0,0,7.044-5.10714l7.06437-21.19305a7.46924,7.46924,0,0,0-7.086-9.83122H704.47275v-9.959H725.913a7.46925,7.46925,0,0,0,7.27937-5.79584l4.865-21.16286a7.46923,7.46923,0,0,0-7.27937-9.14265H704.47275v-2.48975a4.97949,4.97949,0,0,0-9.959,0v2.48975H518.1566v-2.48975a4.9795,4.9795,0,0,0-9.959,0v2.48975H487.2868a7.46923,7.46923,0,0,0-7.27937,9.14265l4.865,21.16286a7.46925,7.46925,0,0,0,7.27937,5.79584H508.1976v9.959H496.51328a7.46923,7.46923,0,0,0-7.10927,9.76l7.21041,22.37711a7.46925,7.46925,0,0,0,7.15123,5.17837l4.432-.0249V624.455l-22.82269,12.44874a7.46922,7.46922,0,0,0-7.46924,7.46922v0a7.46925,7.46925,0,0,0,7.46924,7.46925H508.1976v54.77446a4.9795,4.9795,0,0,0,9.959,0V651.84222H694.51376v54.77446a4.97949,4.97949,0,0,0,9.959,0V651.84222h28.21714a7.46925,7.46925,0,0,0,7.46925-7.46925v0A7.46922,7.46922,0,0,0,732.68989,636.90373Zm-214.53329-69.298H694.51376v9.959H518.1566Zm0,56.84925v-9.65563l176.35716-.99076V624.455Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/></svg>',kN='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="855.93958" height="630.06608" viewBox="0 0 855.93958 630.06608" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M935.43234,472.55767c-3.73,43.08-22.51,84.71-49.3,119.14q-1.68,2.16-3.4,4.28-3.87,4.77-7.94,9.36-4.98,5.655-10.25,11.05005-4.29,4.43994-8.78,8.68994-3.465,3.315-7.01,6.5c-28.43,25.69-61.09,46.89-94.74,65.43005-65.67,36.17-137.65,63.56995-212.52,67.56-74.86,3.98-153.01-17.46-207.91-68.52-73.99-68.81-94.63995-183.58-64.6-280.05,19.98-64.18,60.76-122.24,116.26-160.16,55.02-37.59,124.43-54.51,190.12-43.44995,52.44-31.87006,121.09-32.48,178.1-8.89,30.42,12.59,57.72,31.31,81.67,53.93a339.34337,339.34337,0,0,1,30.72,33.23q1.455,1.785,2.88,3.6,5.97,7.545,11.55,15.4,8.01,11.265,15.21,23.03c1.32,2.16,2.63,4.33,3.91,6.52.86,1.47,1.73,2.95,2.58,4.44a.29776.29776,0,0,1,.04.1c13.31,23.41,24.19,48.39,29.86005,74.5,1,4.62,1.84,9.26,2.49,13.94v.01q.855,5.955,1.29,11.97A176.97711,176.97711,0,0,1,935.43234,472.55767Z" transform="translate(-172.03021 -134.96696)" fill="#3f3d56"/><path d="M740.07386,537.68412,591.61233,414.00627,735.84027,542.638a3.44161,3.44161,0,1,0,4.23359-4.95386Z" transform="translate(-172.03021 -134.96696)" fill="#f0f0f0" opacity="0.3"/><circle cx="227.58212" cy="250.78071" r="89" fill="#f2f2f2"/><path d="M478.61233,379.74767a80.99369,80.99369,0,0,1-81,81,81.57161,81.57161,0,0,1-27.8-4.9,81.05489,81.05489,0,1,1,108.8-76.1Z" transform="translate(-172.03021 -134.96696)" fill="#fff"/><circle cx="211.58212" cy="217.78071" r="25" fill="#e4e4e4"/><path d="M475.45236,357.27764a25.00115,25.00115,0,0,1-27.6-41.08A81.05279,81.05279,0,0,1,475.45236,357.27764Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="252.58212" cy="271.78071" r="9" fill="#e4e4e4"/><path d="M387.61233,457.74767a9.04581,9.04581,0,0,1-.31,2.34,79.52774,79.52774,0,0,1-17.49-4.24,9.00157,9.00157,0,0,1,17.8,1.9Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><path d="M334.61233,375.74767a18.002,18.002,0,0,1-16.8,17.96,81.54773,81.54773,0,0,1,1.76-35.71A18.00026,18.00026,0,0,1,334.61233,375.74767Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="606.45653" cy="208.48305" r="3.70234" fill="#6c63ff"/><circle cx="572.30231" cy="119.94851" r="2.16307" fill="#f0f0f0"/><circle cx="225.30231" cy="543.94851" r="2.16307" fill="#f0f0f0"/><circle cx="584.58144" cy="331.59402" r="2.16307" fill="#f0f0f0"/><circle cx="305.45653" cy="350.48305" r="3.70234" fill="#6c63ff"/><circle cx="171.45653" cy="416.48305" r="17.48305" fill="#6c63ff"/><circle cx="267.30231" cy="435.94851" r="2.16307" fill="#f0f0f0"/><circle cx="487.30231" cy="97.94851" r="2.16307" fill="#f0f0f0"/><circle cx="358.30231" cy="558.94851" r="2.16307" fill="#f0f0f0"/><circle cx="326.30231" cy="117.94851" r="2.16307" fill="#f0f0f0"/><circle cx="382.30231" cy="222.94851" r="2.16307" fill="#f0f0f0"/><circle cx="296.58144" cy="480.59402" r="2.16307" fill="#f0f0f0"/><circle cx="549.58144" cy="494.59402" r="2.16307" fill="#f0f0f0"/><circle cx="437.58144" cy="368.59402" r="2.16307" fill="#f0f0f0"/><circle cx="494.58144" cy="222.59402" r="2.16307" fill="#f0f0f0"/><circle cx="598.21204" cy="292.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="150.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="445.65473" r="4.28889" fill="#ff6584"/><path d="M863.45236,605.33764a7.694,7.694,0,0,0-7.39,5.58,7.3896,7.3896,0,0,0-.3,2.12v12.04q4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.68118,667.89806q-19.36816,0-42.45654-1.46386c-79.61377-5.05567-182.7378-22.63282-290.376-49.49219-107.6377-26.85938-206.93018-59.79395-279.58545-92.73438-35.39258-16.04687-62.55615-31.23632-80.73535-45.14746-19.24707-14.72705-27.666-27.564-25.02393-38.15283,5.148-20.62891,50.731-25.14209,88.064-25.29541l.01269,3c-51.26806.21045-81.51367,8.38672-85.16552,23.022-4.65186,18.64014,33.28662,47.74073,104.08691,79.84131,72.49561,32.86817,171.60547,65.73926,279.07324,92.55664,107.46729,26.81641,210.40137,44.36328,289.83985,49.40821,77.57861,4.92773,124.74316-2.9375,129.39453-21.57813,3.86181-15.47656-21.59815-38.27539-71.68946-64.19824l1.37891-2.66406c36.397,18.83593,78.64551,45.85156,73.22168,67.58886-2.64258,10.58887-16.10547,17.96485-40.01514,21.92285C927.0762,666.7672,910.33548,667.89806,890.68118,667.89806Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="714.58212" cy="208.78071" r="100.5" fill="#fff"/><path d="M886.61233,241.74767a102,102,0,1,0,102,102A101.635,101.635,0,0,0,886.61233,241.74767Zm0,201a99,99,0,1,1,99-99A98.61767,98.61767,0,0,1,886.61233,442.74767Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M798.417,367.81847a2.00078,2.00078,0,0,1-1.957-1.59765,97.66924,97.66924,0,0,1,22.34082-83.13526,2,2,0,0,1,2.98633,2.66114A93.59682,93.59682,0,0,0,800.378,365.41515a2.00228,2.00228,0,0,1-1.96094,2.40332Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><circle cx="714.51924" cy="238.27373" r="63.87702" fill="#6c63ff"/><path d="M866.24805,397.35666c-4.14062-.115-9.29385-.25869-13.26384-3.15874a10.18618,10.18618,0,0,1-4.00806-7.60607,6.85213,6.85213,0,0,1,2.33007-5.62763c2.07352-1.75216,5.10139-2.16313,8.36441-1.2042l-3.38076-24.7061,2.48174-.34,3.97444,29.04518-2.07245-.951c-2.4027-1.10205-5.70088-1.66285-7.7504.06911a4.40263,4.40263,0,0,0-1.44375,3.62659,7.69887,7.69887,0,0,0,2.98246,5.67107c3.08949,2.25668,7.19708,2.54779,11.85585,2.678Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><rect x="658.49493" y="222.21767" width="13.49133" height="2.50498" fill="#2f2e41"/><rect x="701.07961" y="222.21765" width="13.49133" height="2.50498" fill="#2f2e41"/><path d="M889.23233,452.90765h-57.9a8.14716,8.14716,0,0,0-8.13995,8.14v128.33a47.66955,47.66955,0,0,0,25.56,42.19995q3.555-3.18,7.01-6.5,4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005,4.08006-4.59,7.94-9.36,1.725-2.115,3.4-4.28c26.79-34.43,45.57-76.06,49.3-119.14A64.04854,64.04854,0,0,0,889.23233,452.90765Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M891.34231,479.68767a14.61136,14.61136,0,0,0-10.43-4.17,14.465,14.465,0,0,0-9.16,3.36005,13.12263,13.12263,0,0,0-1.17,1.07l-47.38995,48.6-34.37,35.25a6.80061,6.80061,0,0,0-1.28,1.8,7.29573,7.29573,0,0,0-.77,3.32,7.16751,7.16751,0,0,0,2.18006,5.07l1.35,1.32,9.8,9.55.01-.01a7.29073,7.29073,0,0,0,4.66,1.63,7.167,7.167,0,0,0,5.07-2.18l1.59-1.62,11.38-11.67.38-.39,68.41-70.16a14.69128,14.69128,0,0,0-.26-20.77Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.86152,343.44c2.1124-4.46658-.05349-9.23761-3.76378-12.09072-4.67557-3.59539-10.7221-3.00085-16.04008-1.29905-5.82238,1.8632-11.51366,5.21608-17.80383,5.02337a11.13058,11.13058,0,0,1-10.24407-7.27764c-3.3687-8.639.43561-18.29488,6.29971-24.84681a34.26766,34.26766,0,0,1,26.544-11.586,34.64989,34.64989,0,0,1,28.068,16.9026,1.54079,1.54079,0,0,0,2.05229.53813,36.88225,36.88225,0,0,1,28.39377-.71432,36.28984,36.28984,0,0,1,22.58042,34.49188c-.05,1.93122,2.95005,1.9301,3,0a39.89155,39.89155,0,0,0-10.59928-27.81249,38.71871,38.71871,0,0,0-27.56681-12.16772,39.33641,39.33641,0,0,0-17.32226,3.61223l2.05229.53813a37.69886,37.69886,0,0,0-25.0988-17.728,36.48542,36.48542,0,0,0-29.42384,7.32772c-7.70165,6.02707-13.53849,15.38016-13.17519,25.41071.15721,4.34047,1.44713,8.796,4.4606,12.03051,3.85981,4.14287,9.62229,4.85944,14.94631,3.798,7.07554-1.41071,13.53533-6.06449,20.91133-5.92113a10.21164,10.21164,0,0,1,7.6417,3.4453c1.62455,1.83335,2.6042,4.47042,1.49716,6.81122-.82094,1.73585,1.76463,3.26026,2.59041,1.51416Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M412.09426,704.32287c-35.59912.001-68.69433-1.22071-98.32226-3.68555-38.72656-3.22266-69.41455-8.40332-91.21045-15.39648-23.07666-7.40528-35.31934-16.667-36.38818-27.52832-2.083-21.15821,39.334-40.72461,74.44531-53.41309l1.01953,2.82227c-48.2168,17.42382-73.957,35.28613-72.47949,50.29785,1.88183,19.11914,47.39209,33.78125,124.86181,40.22754,79.3252,6.60058,183.71729,4.26172,293.94727-6.58985,110.23-10.84863,213.07568-28.90625,289.59131-50.8457,74.72607-21.42578,116.50488-44.67969,114.623-63.79883-1.5625-15.874-33.20264-28.793-89.0918-36.3789l.40332-2.97266c40.60986,5.51172,89.47949,16.76172,91.67383,39.05762,1.06933,10.86132-9.1333,22.332-30.32276,34.09375-20.01465,11.10937-49.10351,22.17285-86.45849,32.88281-76.68506,21.98828-179.71973,40.08105-290.12451,50.94824C539.00247,700.86,472.01663,704.32287,412.09426,704.32287Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="838.45653" cy="434.48305" r="17.48305" fill="#6c63ff"/><circle cx="331.45653" cy="17.48305" r="17.48305" fill="#e6e6e6"/><circle cx="19.45653" cy="433.48305" r="17.48305" fill="#e6e6e6"/><circle cx="127.45653" cy="108.48305" r="10.70234" fill="#ff6584"/><circle cx="77.45653" cy="514.48305" r="10.70234" fill="#ff6584"/><circle cx="807.45653" cy="339.48305" r="10.70234" fill="#ff6584"/><circle cx="645.45653" cy="598.48305" r="17.48305" fill="#e6e6e6"/></svg>',FN=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return new Blob([r],{type:t})},NN=async e=>{const{vault:t}=ct.getState().app,n=await t.adapter.readBinary(e),r=new Uint8Array(n),a=new Blob([r],{type:"image/png"});return new Promise(i=>{const s=new FileReader;s.onloadend=()=>{const c=s.result;i(c)},s.readAsDataURL(a)})},IN=async()=>{const{app:e,settings:t}=ct.getState();let n,r;const a=document.body.hasClass("theme-light"),i=a?t==null?void 0:t.DefaultLightBackgroundImage:t==null?void 0:t.DefaultDarkBackgroundImage;await e.vault.adapter.exists(t==null?void 0:t.DefaultLightBackgroundImage)&&/\.(png|svg|jpg|jpeg)/g.test(t==null?void 0:t.DefaultLightBackgroundImage)?(r=i,n=await NN(r)):n="data:image/svg+xml;base64,"+btoa(a?MN:kN);const c=document.querySelector(".dialog-wrapper .memo-background .property-image");c.style.backgroundImage="url('"+n+"')",document.body.className.contains("theme-dark")&&(c.style.backgroundColor="#1f1f1f")},AN=e=>{const{memo:t,destroy:n}=e,{memos:r}=xe.getState().memoState,{view:a,app:i,settings:s}=xe.getState().dailyNotesState,c={...t,createdAtStr:Ue.getDateTimeString(t.createdAt)},[d,h]=A.useState(!1),[g,m]=A.useState(c.content),[w,b]=A.useState(!1),T=A.useRef(null),E=A.useRef(null),[M,k]=A.useState(""),I=A.useRef(null),B=A.useRef(null);let N,j;r.length&&(N=r.length>0?r[r.length-1]:null,N?j=r?Math.ceil((Date.now()-Ue.getTimeStampByDate(N==null?void 0:N.createdAt))/1e3/3600/24)+1:0:j=0);const R=s==null?void 0:s.ShareFooterEnd.replace("{UserName}",s==null?void 0:s.UserName),_=s==null?void 0:s.ShareFooterStart.replace("{ThinoNum}",r.length.toString()).replace("{UsedDay}",j.toString());A.useEffect(()=>{!T.current||!E.current||(F.setIcon(T.current,"copy"),F.setIcon(E.current,"x"))},[T,E]),A.useEffect(()=>{F.setIcon(T.current,w?"loader":"copy"),T.current.disabled=w,T.current.toggleClass("copying",w)},[w]),A.useEffect(()=>{if(!B.current||!a||d)return;m(t.content),B.current.hasChildNodes()&&B.current.empty();async function ee(){await F.MarkdownRenderer.render(i,t.content.replaceAll(/<br>/g,`
`)+`
`,B.current,t.path,a)}ee(),setTimeout(()=>{if(IN(),!I.current)return;let ie;document.body.hasClass("theme-dark")?ie="#727171":ie="#eaeaea",b3(I.current,{backgroundColor:ie,pixelRatio:window.devicePixelRatio*2}).then(ae=>{k(ae),h(!0)}).catch(()=>{})},oE)},[I,B,c]);const $=()=>{n()},q=A.useCallback(ee=>{b(ee)},[w]),z=async()=>{q(!0);const{vault:ee}=xe.getState().dailyNotesState.app,ie=I.current.querySelector(".memo-shortcut-img");if(!ie)return;const ae=ie==null?void 0:ie.getAttribute("src").split("base64,")[1],me=FN(ae,"image/png");let fe;if(s!=null&&s.AutoSaveWhenOnMobile&&F.Platform.isMobile&&me.arrayBuffer().then(async Te=>{const J="png",ve=Au();for(const V in ve)if(ve[V]instanceof F.TFile){fe=ve[V];break}fe!==void 0&&await ee.createBinary(await ee.getAvailablePathForAttachments(`Pasted Image ${F.moment().format("YYYYMMDDHHmmss")}`,J,fe),Te)}),!me){new F.Notice("Copy to clipboard failed");return}const be=new ClipboardItem({"image/png":me});window.navigator.clipboard.write([be]).then(()=>{setTimeout(()=>{q(!1)},500)}),new F.Notice("Copy to clipboard successfully")};return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"dialog-header-container",children:[D.jsxs("p",{className:"title-text",children:[D.jsx("span",{className:"icon-text",children:"🥰"}),O("Share Memo Image")]}),D.jsxs("div",{className:"btn-group",children:[D.jsx("button",{ref:T,className:"btn copy-btn",onClick:z}),D.jsx("button",{ref:E,className:"btn close-btn",onClick:$})]})]}),D.jsxs("div",{className:"dialog-content-container",children:[D.jsx("div",{className:`tip-words-container ${M?"finish":"loading"}`,children:D.jsx("p",{className:"tip-text",children:O(M?"↗Click the button to save":"Image is generating...")})}),D.jsxs("div",{className:"memo-container",ref:I,children:[D.jsx(No,{when:M!=="",children:D.jsx("img",{className:"memo-shortcut-img",onClick:z,src:M})}),D.jsxs("div",{className:"memo-background",children:[D.jsx("div",{className:"property-image",style:{backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),D.jsx("span",{className:"background-container"}),D.jsx("div",{ref:B,className:"memo-content-text"}),D.jsxs("div",{className:"watermark-container",children:[D.jsxs("span",{className:"normal-text footer-start",children:[D.jsx("div",{className:"property-social-icons"}),D.jsx("span",{className:"name-text",children:_})]}),D.jsx("span",{className:"normal-text footer-end",children:D.jsx("span",{className:"name-text",children:R})})]})]})]})]})]})};function ON(e){Sh({className:"share-memo-image-dialog"},AN,{memo:e})}const RN=A.forwardRef((e,t)=>{const{memo:n,handlePinMemoClick:r,handleFixMemoClick:a,handleSourceMemoClick:i,handleShowMemoStoryDialog:s,handleCopyMemoClick:c,handleEditMemoClick:d,handleGenMemoImageBtnClick:h,handleMarkMemoClick:g,handleArchiveMemo:m,handleDeleteMemoClick:w}=e,b=A.useRef(null),T=xe.getState().dailyNotesState.settings,[E,M]=Oo(!1),k=A.useRef(null),I={pinRef:A.useRef(null),fixRef:A.useRef(null),typeRef:A.useRef(null),moreRef:A.useRef(null)},B={copy:A.useRef(null),read:A.useRef(null),mark:A.useRef(null),share:A.useRef(null),edit:A.useRef(null),source:A.useRef(null),archive:A.useRef(null),delete:A.useRef(null)};return A.useEffect(()=>{k.current&&(F.setIcon(B.copy.current,"copy"),F.setIcon(B.read.current,"book-open"),F.setIcon(B.mark.current,"bookmark"),F.setIcon(B.share.current,"share-2"),F.setIcon(B.edit.current,"pencil"),F.setIcon(B.source.current,"home"),F.setIcon(B.archive.current,"archive"),F.setIcon(B.delete.current,"trash"))},[k]),A.useEffect(()=>{if(!I.typeRef)return;const N=Df.find(j=>j.title===n.sourceType);F.setIcon(I.typeRef.current,N.icon),F.requireApiVersion("1.4.4")&&F.setTooltip(I.typeRef.current,n.path),I.fixRef&&(F.setIcon(I.fixRef.current,"shield-alert"),F.requireApiVersion("1.4.4")&&F.setTooltip(I.fixRef.current,"Update Thino property"))},[I.typeRef]),A.useEffect(()=>{I.pinRef&&(n.pinned?(F.setIcon(I.pinRef.current,"pin-off"),F.requireApiVersion("1.4.4")&&F.setTooltip(I.pinRef.current,O("UNPIN"))):(F.setIcon(I.pinRef.current,"pin"),F.requireApiVersion("1.4.4")&&F.setTooltip(I.pinRef.current,O("PIN"))))},[I.pinRef,n.pinned]),A.useImperativeHandle(t,()=>({toggleConfirm:N=>M(N),confirmStatus:E})),D.jsx("div",{ref:k,className:"memo-top-right-wrapper",children:D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{ref:I.fixRef,className:`btn ${n.sourceType!=="MULTI"||n.id!==""?"hidden":""} fix-memo-btn`,onClick:()=>a(n)}),D.jsx("span",{ref:I.typeRef,className:`btn ${n.sourceType==="DAILY"?"hidden":""} source-type-btn`,onClick:()=>i(n)}),D.jsx("span",{ref:I.pinRef,className:`btn ${e.memo.pinned?"pinned-btn":"unpinned-btn"}`,onClick:r}),D.jsx("span",{ref:N=>{I.moreRef.current=N,N&&F.setIcon(N,"more-horizontal")},className:"btn more-action-btn"}),D.jsx("div",{ref:b,className:"more-action-btns-wrapper",children:D.jsxs("div",{className:"more-action-btns-container",children:[D.jsxs("div",{className:"more-action-btn-group more-action-menu-item",children:[D.jsx("span",{ref:B.copy,className:"more-action-item-icon",onClick:c}),D.jsx("span",{ref:B.edit,className:"more-action-item-icon",onClick:d}),D.jsx("span",{ref:B.share,className:"more-action-item-icon",onClick:h})]}),D.jsx("hr",{className:"menu-hr"}),D.jsxs("div",{className:"more-action-menu-item",onClick:s,children:[D.jsx("span",{ref:B.read,className:"more-action-item-icon"}),D.jsx("span",{className:"btn",children:O("READ")})]}),D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:B.mark,className:"more-action-item-icon"}),D.jsx("span",{className:"btn",onClick:g,children:O("MARK")})]}),D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:B.source,className:"more-action-item-icon"}),D.jsx("span",{className:"btn",onClick:()=>i(n),children:O("SOURCE")})]}),D.jsx("hr",{className:"menu-hr"}),D.jsxs("div",{className:"more-action-menu-item archive-menu-item",children:[D.jsx("span",{ref:B.archive,className:"more-action-item-icon"}),D.jsx("span",{className:"btn delete-btn",onClick:()=>m(n),children:O("ARCHIVE").toUpperCase()})]}),D.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[D.jsx("span",{ref:B.delete,className:"more-action-item-icon"}),D.jsx("span",{className:`btn delete-btn ${E?"final-confirm":""}`,onClick:async N=>{N.stopPropagation(),N.preventDefault(),await w(N)},children:E?O("CONFIRM！"):T.DeleteThinoDirectly?O("DELETE"):O("Recycle bin").toUpperCase()})]}),D.jsx("hr",{className:"menu-hr"}),D.jsx("div",{className:"text-count-item more-action-menu-item",children:D.jsx("span",{className:"btn text-count-btn",children:Ue.countWords(n.content)+` ${O("words")}`})})]})})]})})}),LN=e=>{const{memo:t,handleMemoTypeToggle:n,handleShowMemoStoryDialog:r,settings:a}=e;return D.jsxs("div",{className:"memo-top-left-wrapper",children:[e.children,D.jsx("span",{title:t.createdAt,className:"time-text",onClick:r,children:t.createdAt}),D.jsx("div",{className:`btn memo-type-img ${a!=null&&a.ShowTaskLabel?"":"hidden"}`,onClick:n,children:t.thinoType!=="JOURNAL"&&D.jsx("input",{className:"task-list-item-checkbox",type:"checkbox",checked:t.thinoType!=="TASK-TODO","data-task":t.thinoType==="TASK-TODO"?"":t.thinoType==="TASK-DONE"?"x":t.thinoType.slice(5)})})]})},_N=async(e,t,n)=>{const r=n.getAttribute("href"),a=n.className;if(a.contains("tag"))PN(n.innerText.slice(1));else if(a.contains("internal-link")){const i=n.getAttribute("data-href"),s=Me.getMemoById(i??"");s?Fv(s):await e.workspace.openLinkText(i,i,!F.Platform.isMobile&&t.navigation!==!0)}else r&&window.open(r,"_blank")},PN=e=>{const t=it.getState().query.tag;it.setTagQuery(t===e?"":e)},jN=(e,t)=>{const n=t==null?void 0:t.getAttribute("src"),r=t==null?void 0:t.parentElement.getAttribute("src"),a=[...(e==null?void 0:e.querySelectorAll("img"))??[]],i=a.indexOf(t);S3({imgUrl:n,filepath:n.startsWith("app")?r:void 0,otherIMGEls:a,currentIndex:i})},BN=e=>{var r;const t=(r=e.dataset)==null?void 0:r.value,n=Me.getMemoById(t??"");n?Fv(n):(new F.Notice("Thino Not Found"),e.classList.remove("memo-link-text"))},YN=async(e,t,n)=>{var i;const r=((i=n.parentElement.dataset)==null?void 0:i.task)==="x"?"DONE":"TODO",a=[...(t==null?void 0:t.querySelectorAll("li.task-list-item"))??[]];for(const s of a)if(s===n||s===n.closest("li.task-list-item")){const c=a.indexOf(s),d=e.content.replace(/<br>/g,`
`).split(/\n/),h=[];for(let T=0;T<d.length;T++)(d[T].trim().startsWith("- [ ]")||d[T].trim().startsWith("- [x]"))&&h.push(T);const g=h[c],w=d[g].replace(/- \[ \] |- \[x\] /g,r==="TODO"?"- [x] ":"- [ ] ");d[g]=w;const b=d.join(`
`).trim();if(e&&e.content!==b){const T=await Me.updateMemo(e.id,b);Me.editMemo(T)}}},HN=e=>{const{globalState:{editMemoId:t},dailyNotesState:{app:n,view:r,settings:a,verifyState:i},locationState:{pathname:s}}=A.useContext(Ft),{memo:c,type:d="inline"}=e,h=A.useRef(null),g=A.useRef(null),[m,w]=A.useState(!1);A.useEffect(()=>{m&&setTimeout(()=>{rt.setEditMemoId(c.id)},100)},[m]),A.useEffect(()=>{s==="/review"&&t!==c.id&&m&&w(!1)},[t]);const b=()=>{Fv(c)},T=()=>{if(a!=null&&a.UseButtonToShowEditor&&(a==null?void 0:a.DefaultEditorLocation)==="Bottom"){const fe=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");fe&&fe.trigger("click")}rt.setMarkMemoId(c.id)},E=async()=>{var Te;const fe=!F.Platform.isDesktop&&await((Te=window.Capacitor)==null?void 0:Te.Plugins.Device.getId()),be=F.Platform.isDesktop?await Un():fe.identifier||fe.uuid;if(!i&&(i==null?void 0:i.appId)!==be){yr();return}c.pinned?await Me.unpinMemoById(c.id):await Me.pinMemoById(c.id)},M=()=>{if(a!=null&&a.UseButtonToShowEditor&&(a==null?void 0:a.DefaultEditorLocation)==="Bottom"&&F.Platform.isMobile){const fe=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");fe&&fe.trigger("click")}s==="/review"&&w(!0),s!=="/review"&&rt.setEditMemoId(c.id)},k=async fe=>{fe.sourceType==="MULTI"&&fe.id.trim()===""&&await Me.updateMemoProperty(fe)},I=async fe=>{await Me.openThinoByID(fe.id)},B=async fe=>{try{const be=await Me.archiveMemo(fe);be&&Me.editMemo(be)}catch(be){console.error(be),new F.Notice(be.message)}},N=async()=>{if(g.current&&!g.current.confirmStatus){g.current&&g.current.toggleConfirm();return}try{if(a.DeleteThinoDirectly)await Me.deleteMemoById(c.id);else{const fe=await Me.hideMemoById(c.id);fe&&Me.editMemo(fe)}}catch(fe){new F.Notice(fe.message)}rt.getState().editMemoId===c.id&&rt.setEditMemoId("")},j=()=>{if(g.current&&!g.current.confirmStatus){g.current&&g.current.toggleConfirm(!1);return}},R=()=>{ON(c)},_=async()=>{const fe=await Me.updateMemo(c.id,c.content,c.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");fe&&Me.editMemo(fe)},$=async fe=>{fe.stopPropagation(),navigator.clipboard.writeText(c.content.replace(/(<br>|<p>)/g,`
`)).then(()=>{new F.Notice(O("COPY SUCCEED"))}).catch(()=>{new F.Notice(O("COPY FAILED"))})},q=fe=>{fe&&M()},z=async(fe,be)=>{fe.preventDefault();const Te=fe.target;if(fe.ctrlKey||fe.metaKey){await I(be);return}if(Te.tagName==="A"){await _N(n,r,Te);return}if(Te.tagName==="IMG"){jN(h.current,Te);return}if(Te.tagName==="A"&&Te.getAttribute("href")){const J=Te.getAttribute("href");window.open(J,"_blank");return}if(Te.className==="memo-link-text"){BN(Te);return}if(Te.tagName==="INPUT"&&Te.hasClass("task-list-item-checkbox")){await YN(be,h.current,Te);return}},ee=fe=>{const be=new F.Menu;be.dom.toggleClass("memo-context-menu",!0);const Te=window.getSelection();(Te==null?void 0:Te.toString().length)>0&&be.addItem(J=>{J.setIcon("copy").setTitle(O("COPY")).onClick(()=>{navigator.clipboard.writeText(Te.toString()).then(()=>{new F.Notice(O("COPY SUCCEED"))}).catch(()=>{new F.Notice(O("COPY FAILED"))})})}).addSeparator(),be.addItem(J=>{J.setIcon("book-open").setTitle(O("READ")).onClick(b)}).addItem(J=>{J.setIcon(c.pinned?"pin-off":"pin").setTitle(c.pinned?O("UNPIN"):O("PIN")).onClick(E)}).addItem(J=>{J.setIcon("bookmark").setTitle(O("MARK")).onClick(T)}).addItem(J=>{J.setIcon("share-2").setTitle(O("SHARE")).onClick(R)}).addItem(J=>{J.setIcon("pencil").setTitle(O("EDIT")).onClick(M)}).addItem(J=>{J.setIcon("home").setTitle(O("SOURCE")).onClick(()=>I(c))}).addSeparator().addItem(J=>{J.setIcon("archive").setTitle(O("ARCHIVE")).onClick(()=>B(c))}).addItem(J=>{J.setIcon("trash").setTitle(O("DELETE")).onClick(N)}),be.showAtMouseEvent(fe.nativeEvent)},ie=A.useMemo(()=>({memo:c,handlePinMemoClick:E,handleFixMemoClick:k,handleSourceMemoClick:I,handleArchiveMemo:B,handleDeleteMemoClick:N,handleGenMemoImageBtnClick:R,handleMarkMemoClick:T,handleEditMemoClick:M,handleCopyMemoClick:$,handleShowMemoStoryDialog:b}),[c]),ae=A.useMemo(()=>({memo:c,handleMemoTypeToggle:_,handleShowMemoStoryDialog:b,settings:a}),[c,a]),me=A.useMemo(()=>D.jsxs("div",{ref:h,className:`memo-wrapper ${c.pinned?"pinned":""}`,"data-source-type":c.sourceType,"data-thino-type":c.thinoType,"data-thino-id":c.id,onMouseLeave:j,onContextMenu:ee,children:[m&&D.jsx(Zp,{editorType:"inline"}),!m&&D.jsxs(D.Fragment,{children:[d==="inline"&&D.jsxs("div",{className:"memo-top-wrapper",draggable:!0,onDragStart:fe=>{fe.target.classList.add("dragging"),fe.dataTransfer.setDragImage(h.current,0,0),fe.dataTransfer.setData("text/plain",c.content.replace(/<br>/g,`
`))},onDragEnd:fe=>{fe.target.classList.remove("dragging")},children:[D.jsx(LN,{...ae}),D.jsx(RN,{ref:g,...ie})]}),D.jsx(C3,{memo:c,handleMemoContentClick:z,handleMemoDoubleClick:q})]})]}),[c,m]);return D.jsx(D.Fragment,{children:me})},ml=A.memo(HN);function UN(e,t){if(e==null)return{};var n=VN(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VN(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function iv(){return iv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iv.apply(this,arguments)}function jD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(n),!0).forEach(function(r){zN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $N={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},x0=2;class bw extends Q.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||x0,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||x0});let r=1/0,a=n.default||x0;for(let i in n){const s=parseInt(i);s>0&&t<=s&&s<r&&(r=s,a=n[i])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const t=this.state.columnCount,n=new Array(t),r=Q.Children.toArray(this.props.children);for(let a=0;a<r.length;a++){const i=a%t;n[i]||(n[i]=[]),n[i].push(r[a])}return n}renderColumns(){const{column:t,columnAttrs:n={},columnClassName:r}=this.props,a=this.itemsInColumns(),i=`${100/a.length}%`;let s=r;s&&typeof s!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof s>"u"&&(s="my-masonry-grid_column"));const c=Ip(Ip(Ip({},t),n),{},{style:Ip(Ip({},n.style),{},{width:i}),className:s});return a.map((d,h)=>Q.createElement("div",iv({},c,{key:h}),d))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:n,breakpointCols:r,columnClassName:a,columnAttrs:i,column:s,className:c}=t,d=UN(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let h=c;return typeof c!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof c>"u"&&(h="my-masonry-grid")),Q.createElement("div",iv({},d,{className:h}),this.renderColumns())}}bw.defaultProps=$N;const BD=e=>{const{thinos:t,dayMark:n,dayMarkRange:r="day"}=e,[a,i]=Q.useState(!0),s=Q.useRef(null);A.useEffect(()=>{s&&F.setTooltip&&F.setTooltip(s.current,O("Click to expand or fold, Cmd+Click to show all thinos of the day"))},[s]);const c=h=>{if(F.Keymap.isModifier(h.nativeEvent,"Mod")){const g={day:"YYYY-MM-DD",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]Q",year:"YYYY"},m=F.moment(n,g[r]);it.setFromAndToQuery(m.startOf(r).valueOf(),m.endOf(r).valueOf());return}i(!a)},d=A.useMemo(()=>D.jsx(D.Fragment,{children:e.type==="list"?D.jsxs(D.Fragment,{children:[D.jsx("div",{ref:s,className:`day-mark ${a?"":"folded"} PINNED`,onClick:c,children:D.jsxs("span",{className:"day-mark-text",children:[a?"▼ ":"▶ ",n==="PINNED"?n+" 📌":n]})},n),a&&t.map((h,g)=>D.jsx(ml,{memo:h},`${h.id}-${F.moment(h.updatedAt,"YYYY-MM-DD HH:mm:ss").format("x")}-${g}`))]}):D.jsxs(D.Fragment,{children:[D.jsx("div",{ref:s,className:`day-mark ${a?"":"folded"}`,onClick:c,children:D.jsxs("span",{className:"day-mark-text",children:[a?"▼ ":"▶ ",n==="PINNED"?n+" 📌":n]})},n),D.jsx(bw,{breakpointCols:e.type==="waterfall"?3:1,className:`${e.type}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:a&&t.map((h,g)=>D.jsx(ml,{memo:h},`${h.id}-${F.moment(h.updatedAt,"YYYY-MM-DD HH:mm:ss").format("x")}-${g}`))})]})}),[t,a]);return D.jsx(D.Fragment,{children:d})};function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function qN(e,t){if(us(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X3(e){var t=qN(e,"string");return us(t)=="symbol"?t:String(t)}function yu(e,t,n){return t=X3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(n),!0).forEach(function(r){yu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lv(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Ci(e,t){if(e==null)return{};var n=Lv(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X3(r.key),r)}}function lr(e,t,n){return t&&HD(e.prototype,t),n&&HD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sv(e){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(e)}function eT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eT=function(){return!!e})()}function tT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WN(e,t){if(t&&(us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tT(e)}function Gr(e,t,n){return t=sv(t),WN(e,eT()?Reflect.construct(t,n||[],sv(e).constructor):t.apply(e,n))}function lv(e,t){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},lv(e,t)}function Kr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lv(e,t)}function nT(e){if(Array.isArray(e))return e}function GN(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,c=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(g){h=!0,a=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw a}}return c}}function S1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dw(e,t){if(e){if(typeof e=="string")return S1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S1(e,t)}}function rT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function os(e,t){return nT(e)||GN(e,t)||Dw(e,t)||rT()}function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cn.apply(this,arguments)}var KN=function(e,t,n,r,a,i,s,c){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[n,r,a,i,s,c],g=0;d=new Error(t.replace(/%s/g,function(){return h[g++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},QN=KN;const Jp=qn(QN);var ZN=function(){};function JN(e,t){var n={};return Object.keys(e).forEach(function(r){n[zg(r)]=ZN}),n}function UD(e,t){return e[t]!==void 0}function zg(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function XN(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function eI(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lv(e,t)}function aT(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function oT(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function iT(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}aT.__suppressDeprecationWarning=!0;oT.__suppressDeprecationWarning=!0;iT.__suppressDeprecationWarning=!0;function tI(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var i=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=aT,t.componentWillReceiveProps=oT),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=iT;var c=t.componentDidUpdate;t.componentDidUpdate=function(h,g,m){var w=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:m;c.call(this,h,g,w)}}return e}var nI="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function sT(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",a=XN(e),i=Object.keys(t),s=i.map(zg);a||!n.length||Jp(!1);var c=function(h){eI(g,h);function g(){for(var w,b=arguments.length,T=new Array(b),E=0;E<b;E++)T[E]=arguments[E];w=h.call.apply(h,[this].concat(T))||this,w.handlers=Object.create(null),i.forEach(function(k){var I=t[k],B=function(j){if(w.props[I]){var R;w._notifying=!0;for(var _=arguments.length,$=new Array(_>1?_-1:0),q=1;q<_;q++)$[q-1]=arguments[q];(R=w.props)[I].apply(R,[j].concat($)),w._notifying=!1}w.unmounted||w.setState(function(z){var ee,ie=z.values;return{values:Cn(Object.create(null),ie,(ee={},ee[k]=j,ee))}})};w.handlers[I]=B}),n.length&&(w.attachRef=function(k){w.inner=k});var M=Object.create(null);return i.forEach(function(k){M[k]=w.props[zg(k)]}),w.state={values:M,prevProps:{}},w}var m=g.prototype;return m.shouldComponentUpdate=function(){return!this._notifying},g.getDerivedStateFromProps=function(b,T){var E=T.values,M=T.prevProps,k={values:Cn(Object.create(null),E),prevProps:{}};return i.forEach(function(I){k.prevProps[I]=b[I],!UD(b,I)&&UD(M,I)&&(k.values[I]=b[zg(I)])}),k},m.componentWillUnmount=function(){this.unmounted=!0},m.render=function(){var b=this,T=this.props,E=T.innerRef,M=Lv(T,["innerRef"]);s.forEach(function(I){delete M[I]});var k={};return i.forEach(function(I){var B=b.props[I];k[I]=B!==void 0?B:b.state.values[I]}),Q.createElement(e,Cn({},M,k,this.handlers,{ref:E||this.attachRef}))},g}(Q.Component);tI(c),c.displayName="Uncontrolled("+r+")",c.propTypes=Cn({innerRef:function(){}},JN(t)),n.forEach(function(h){c.prototype[h]=function(){var m;return(m=this.inner)[h].apply(m,arguments)}});var d=c;return Q.forwardRef&&(d=Q.forwardRef(function(h,g){return Q.createElement(c,Cn({},h,{innerRef:g,__source:{fileName:nI,lineNumber:128},__self:this}))}),d.propTypes=c.propTypes),d.ControlledComponent=e,d.deferControlTo=function(h,g,m){return g===void 0&&(g={}),sT(h,Cn({},t,g),m)},d}function lT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=lT(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function $n(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=lT(e))&&(r&&(r+=" "),r+=t);return r}var uT={exports:{}},M0,VD;function rI(){if(VD)return M0;VD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return M0=e,M0}var k0,zD;function aI(){if(zD)return k0;zD=1;var e=rI();function t(){}function n(){}return n.resetWarningCache=t,k0=function(){function r(s,c,d,h,g,m){if(m!==e){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},k0}uT.exports=aI()();var oI=uT.exports;const Ne=qn(oI);var uv="milliseconds",Xp="seconds",eh="minutes",th="hours",xu="day",kf="week",nh="month",Mu="year",ku="decade",Fu="century",cT={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},iI={month:1,year:12,decade:10*12,century:100*12};function sI(e){return[31,lI(e),31,30,31,30,31,31,30,31,30,31]}function lI(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ro(e,t,n){switch(e=new Date(e),n){case uv:case Xp:case eh:case th:case xu:case kf:return uI(e,t*cT[n]);case nh:case Mu:case ku:case Fu:return cI(e,t*iI[n])}throw new TypeError('Invalid units: "'+n+'"')}function uI(e,t){var n=new Date(+e+t);return fI(e,n)}function cI(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),i=n*12+r+t,s=Math.trunc(i/12),c=i%12,d=Math.min(a,sI(s)[c]),h=new Date(e);return h.setFullYear(s),h.setDate(1),h.setMonth(c),h.setDate(d),h}function fI(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),a=r-n;return new Date(+t+a*cT.minutes)}function rh(e,t,n){return Ro(e,-t,n)}function wr(e,t,n){switch(e=new Date(e),t){case Fu:case ku:case Mu:e=fv(e,0);case nh:e=mT(e,1);case kf:case xu:e=ih(e,0);case th:e=Ff(e,0);case eh:e=oh(e,0);case Xp:e=ah(e,0)}return t===ku&&(e=rh(e,Nu(e)%10,"year")),t===Fu&&(e=rh(e,Nu(e)%100,"year")),t===kf&&(e=gT(e,0,n)),e}function cv(e,t,n){switch(e=new Date(e),e=wr(e,t,n),t){case Fu:case ku:case Mu:case nh:case kf:e=Ro(e,1,t),e=rh(e,1,xu),e.setHours(23,59,59,999);break;case xu:e.setHours(23,59,59,999);break;case th:case eh:case Xp:e=Ro(e,1,t),e=rh(e,1,uv)}return e}var kh=$f(function(e,t){return e===t}),Sw=$f(function(e,t){return e!==t}),_v=$f(function(e,t){return e>t}),Fh=$f(function(e,t){return e>=t}),Ew=$f(function(e,t){return e<t}),zf=$f(function(e,t){return e<=t});function fT(){return new Date(Math.min.apply(Math,arguments))}function dT(){return new Date(Math.max.apply(Math,arguments))}function pT(e,t,n,r){return r=r||"day",(!t||Fh(e,t,r))&&(!n||zf(e,n,r))}var ah=bl("Milliseconds"),oh=bl("Seconds"),Ff=bl("Minutes"),ih=bl("Hours"),hT=bl("Day"),mT=bl("Date"),fv=bl("Month"),Nu=bl("FullYear");function dI(e,t){return t===void 0?Nu(wr(e,ku)):Ro(e,t+10,Mu)}function pI(e,t){return t===void 0?Nu(wr(e,Fu)):Ro(e,t+100,Mu)}function gT(e,t,n){var r=(hT(e)+7-(n||0))%7;return t===void 0?r:Ro(e,t-r,xu)}function hI(e,t,n,r){var a,i,s;switch(n){case uv:case Xp:case eh:case th:case xu:case kf:a=t.getTime()-e.getTime();break;case nh:case Mu:case ku:case Fu:a=(Nu(t)-Nu(e))*12+fv(t)-fv(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case uv:i=1;break;case Xp:i=1e3;break;case eh:i=1e3*60;break;case th:i=1e3*60*60;break;case xu:i=1e3*60*60*24;break;case kf:i=1e3*60*60*24*7;break;case nh:i=1;break;case Mu:i=12;break;case ku:i=120;break;case Fu:i=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return s=a/i,r?s:Math.round(s)}function bl(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var a=new Date(n);return a["set"+e](r),t&&a["get"+e]()!=r&&(e==="Hours"||r>=t&&a.getHours()-n.getHours()<Math.floor(r/t))&&a["set"+e](r+t),a}}function $f(e){return function(t,n,r){return e(+wr(t,r),+wr(n,r))}}const $D=Object.freeze(Object.defineProperty({__proto__:null,add:Ro,century:pI,date:mT,day:hT,decade:dI,diff:hI,endOf:cv,eq:kh,gt:_v,gte:Fh,hours:ih,inRange:pT,lt:Ew,lte:zf,max:dT,milliseconds:ah,min:fT,minutes:Ff,month:fv,neq:Sw,seconds:oh,startOf:wr,subtract:rh,weekday:gT,year:Nu},Symbol.toStringTag,{value:"Module"}));function mI(e){if(Array.isArray(e))return S1(e)}function vT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $g(e){return mI(e)||vT(e)||Dw(e)||gI()}function vI(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var yT=vI;function yI(e,t){return e===t||e!==e&&t!==t}var Nh=yI,wI=typeof Vn=="object"&&Vn&&Vn.Object===Object&&Vn,wT=wI,bI=wT,DI=typeof self=="object"&&self&&self.Object===Object&&self,SI=bI||DI||Function("return this")(),xi=SI,EI=xi,TI=EI.Symbol,qf=TI,qD=qf,bT=Object.prototype,CI=bT.hasOwnProperty,xI=bT.toString,Ap=qD?qD.toStringTag:void 0;function MI(e){var t=CI.call(e,Ap),n=e[Ap];try{e[Ap]=void 0;var r=!0}catch{}var a=xI.call(e);return r&&(t?e[Ap]=n:delete e[Ap]),a}var kI=MI,FI=Object.prototype,NI=FI.toString;function II(e){return NI.call(e)}var AI=II,WD=qf,OI=kI,RI=AI,LI="[object Null]",_I="[object Undefined]",GD=WD?WD.toStringTag:void 0;function PI(e){return e==null?e===void 0?_I:LI:GD&&GD in Object(e)?OI(e):RI(e)}var Wf=PI;function jI(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ms=jI,BI=Wf,YI=ms,HI="[object AsyncFunction]",UI="[object Function]",VI="[object GeneratorFunction]",zI="[object Proxy]";function $I(e){if(!YI(e))return!1;var t=BI(e);return t==UI||t==VI||t==HI||t==zI}var Tw=$I,qI=9007199254740991;function WI(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qI}var Cw=WI,GI=Tw,KI=Cw;function QI(e){return e!=null&&KI(e.length)&&!GI(e)}var Ih=QI,ZI=9007199254740991,JI=/^(?:0|[1-9]\d*)$/;function XI(e,t){var n=typeof e;return t=t??ZI,!!t&&(n=="number"||n!="symbol"&&JI.test(e))&&e>-1&&e%1==0&&e<t}var xw=XI,eA=Nh,tA=Ih,nA=xw,rA=ms;function aA(e,t,n){if(!rA(n))return!1;var r=typeof t;return(r=="number"?tA(n)&&nA(t,n.length):r=="string"&&t in n)?eA(n[t],e):!1}var Pv=aA,oA=/\s/;function iA(e){for(var t=e.length;t--&&oA.test(e.charAt(t)););return t}var sA=iA,lA=sA,uA=/^\s+/;function cA(e){return e&&e.slice(0,lA(e)+1).replace(uA,"")}var fA=cA;function dA(e){return e!=null&&typeof e=="object"}var Dl=dA,pA=Wf,hA=Dl,mA="[object Symbol]";function gA(e){return typeof e=="symbol"||hA(e)&&pA(e)==mA}var Ah=gA,vA=fA,KD=ms,yA=Ah,QD=NaN,wA=/^[-+]0x[0-9a-f]+$/i,bA=/^0b[01]+$/i,DA=/^0o[0-7]+$/i,SA=parseInt;function EA(e){if(typeof e=="number")return e;if(yA(e))return QD;if(KD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=KD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=vA(e);var n=bA.test(e);return n||DA.test(e)?SA(e.slice(2),n?2:8):wA.test(e)?QD:+e}var TA=EA,CA=TA,ZD=1/0,xA=17976931348623157e292;function MA(e){if(!e)return e===0?e:0;if(e=CA(e),e===ZD||e===-ZD){var t=e<0?-1:1;return t*xA}return e===e?e:0}var DT=MA,kA=DT;function FA(e){var t=kA(e),n=t%1;return t===t?n?t-n:t:0}var ST=FA,NA=yT,IA=Pv,AA=ST,OA=Math.ceil,RA=Math.max;function LA(e,t,n){(n?IA(e,t,n):t===void 0)?t=1:t=RA(AA(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var a=0,i=0,s=Array(OA(r/t));a<r;)s[i++]=NA(e,a,a+=t);return s}var _A=LA;const PA=qn(_A);function Oh(e){return e&&e.ownerDocument||document}function jA(e){var t=Oh(e);return t&&t.defaultView||window}function BA(e,t){return jA(e).getComputedStyle(e,t)}var YA=/([A-Z])/g;function HA(e){return e.replace(YA,"-$1").toLowerCase()}var UA=/^ms-/;function Tg(e){return HA(e).replace(UA,"-ms-")}var VA=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function zA(e){return!!(e&&VA.test(e))}function gf(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Tg(t))||BA(e).getPropertyValue(Tg(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(Tg(a)):zA(a)?r+=a+"("+i+") ":n+=Tg(a)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function sh(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function $A(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Mw(e){return"window"in e&&e.window===e?e:$A(e)&&e.defaultView||!1}function ET(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,a){var i=Mw(r);if(a===void 0)return i?i[e]:r[t];i?i.scrollTo(i[e],a):r[t]=a}return n}const TT=ET("pageXOffset"),CT=ET("pageYOffset");function Tu(e){var t=Oh(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!sh(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+CT(r)-(r.clientTop||0),left:n.left+TT(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var qA=function(t){return!!t&&"offsetParent"in t};function WA(e){for(var t=Oh(e),n=e&&e.offsetParent;qA(n)&&n.nodeName!=="HTML"&&gf(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var GA=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function xT(e,t){var n={top:0,left:0},r;if(gf(e,"position")==="fixed")r=e.getBoundingClientRect();else{var a=t||WA(e);r=Tu(e),GA(a)!=="html"&&(n=Tu(a));var i=String(gf(a,"borderTopWidth")||0);n.top+=parseInt(i,10)-CT(a)||0;var s=String(gf(a,"borderLeftWidth")||0);n.left+=parseInt(s,10)-TT(a)||0}var c=String(gf(e,"marginTop")||0),d=String(gf(e,"marginLeft")||0);return Cn({},r,{top:r.top-n.top-(parseInt(c,10)||0),left:r.left-n.left-(parseInt(d,10)||0)})}const kw=!!(typeof window<"u"&&window.document&&window.document.createElement);var JD=new Date().getTime();function KA(e){var t=new Date().getTime(),n=Math.max(0,16-(t-JD)),r=setTimeout(e,n);return JD=t,r}var QA=["","webkit","moz","o","ms"],E1="clearTimeout",T1=KA,XD=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};kw&&QA.some(function(e){var t=XD(e,"request");return t in window&&(E1=XD(e,"cancel"),T1=function(r){return window[t](r)}),!!T1});var eS=function(t){typeof window[E1]=="function"&&window[E1](t)},MT=T1,F0;function ZA(e,t){if(!F0){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;F0=function(i,s){return r.call(i,s)}}return F0(e,t)}var JA=Function.prototype.bind.call(Function.prototype.call,[].slice);function XA(e,t){return JA(e.querySelectorAll(t))}var C1=!1,x1=!1;try{var N0={get passive(){return C1=!0},get once(){return x1=C1=!0}};kw&&(window.addEventListener("test",N0,N0),window.removeEventListener("test",N0,!0))}catch{}function eO(e,t,n,r){if(r&&typeof r!="boolean"&&!x1){var a=r.once,i=r.capture,s=n;!x1&&a&&(s=n.__once||function c(d){this.removeEventListener(t,c,i),n.call(this,d)},n.__once=s),e.addEventListener(t,s,C1?r:i)}e.addEventListener(t,n,r)}function tO(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t}function tS(e){const t=tO(e);return A.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function nS(){return A.useState(null)}function nO(){const e=A.useRef(!0),t=A.useRef(()=>e.current);return A.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function rO(e){const t=nO();return[e[0],A.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var aO=V3({defaultModifiers:[B3,H3,R3,L3,Y3,j3,U3,O3]}),rS=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},oO={name:"applyStyles",enabled:!1},iO={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,a=r.reference,i=r.popper;if("removeAttribute"in a){var s=(a.getAttribute("aria-describedby")||"").split(",").filter(function(c){return c.trim()!==i.id});s.length?a.setAttribute("aria-describedby",s.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,a=r.elements,i=a.popper,s=a.reference,c=(n=i.getAttribute("role"))==null?void 0:n.toLowerCase();if(i.id&&c==="tooltip"&&"setAttribute"in s){var d=s.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(i.id)!==-1)return;s.setAttribute("aria-describedby",d?d+","+i.id:i.id)}}},sO=[];function lO(e,t,n){var r=n===void 0?{}:n,a=r.enabled,i=a===void 0?!0:a,s=r.placement,c=s===void 0?"bottom":s,d=r.strategy,h=d===void 0?"absolute":d,g=r.modifiers,m=g===void 0?sO:g,w=Lv(r,["enabled","placement","strategy","modifiers"]),b=A.useRef(),T=A.useCallback(function(){var N;(N=b.current)==null||N.update()},[]),E=A.useCallback(function(){var N;(N=b.current)==null||N.forceUpdate()},[]),M=rO(A.useState({placement:c,update:T,forceUpdate:E,attributes:{},styles:{popper:rS(h),arrow:{}}})),k=M[0],I=M[1],B=A.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(j){var R=j.state,_={},$={};Object.keys(R.elements).forEach(function(q){_[q]=R.styles[q],$[q]=R.attributes[q]}),I({state:R,styles:_,attributes:$,update:T,forceUpdate:E,placement:R.placement})}}},[T,E,I]);return A.useEffect(function(){!b.current||!i||b.current.setOptions({placement:c,strategy:h,modifiers:[].concat(m,[B,oO])})},[h,c,B,i]),A.useEffect(function(){if(!(!i||e==null||t==null))return b.current=aO(e,t,Cn({},w,{placement:c,strategy:h,modifiers:[].concat(m,[iO,B])})),function(){b.current!=null&&(b.current.destroy(),b.current=void 0,I(function(N){return Cn({},N,{attributes:{},styles:{popper:rS(h)}})}))}},[i,e,t]),k}function uO(e,t,n,r){var a=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}function Pp(e,t,n,r){return eO(e,t,n,r),function(){uO(e,t,n,r)}}function cO(e){return e&&"setState"in e?cw.findDOMNode(e):e??null}const fO=function(e){return Oh(cO(e))};var dO=27,aS=function(){};function pO(e){return e.button===0}function hO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var oS=function(t){return t&&("current"in t?t.current:t)};function mO(e,t,n){var r=n===void 0?{}:n,a=r.disabled,i=r.clickTrigger,s=i===void 0?"click":i,c=A.useRef(!1),d=t||aS,h=A.useCallback(function(w){var b,T=oS(e);lF(!!T,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),c.current=!T||hO(w)||!pO(w)||!!sh(T,(b=w.composedPath==null?void 0:w.composedPath()[0])!=null?b:w.target)},[e]),g=tS(function(w){c.current||d(w)}),m=tS(function(w){w.keyCode===dO&&d(w)});A.useEffect(function(){if(!(a||e==null)){var w=window.event,b=fO(oS(e)),T=Pp(b,s,h,!0),E=Pp(b,s,function(I){if(I===w){w=void 0;return}g(I)}),M=Pp(b,"keyup",function(I){if(I===w){w=void 0;return}m(I)}),k=[];return"ontouchstart"in b.documentElement&&(k=[].slice.call(b.body.children).map(function(I){return Pp(I,"mousemove",aS)})),function(){T(),E(),M(),k.forEach(function(I){return I()})}}},[e,a,s,h,g,m])}function gO(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function vO(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function yO(e){var t,n,r,a,i=e.enabled,s=e.enableEvents,c=e.placement,d=e.flip,h=e.offset,g=e.fixed,m=e.containerPadding,w=e.arrowElement,b=e.popperConfig,T=b===void 0?{}:b,E=gO(T.modifiers);return Cn({},T,{placement:c,enabled:i,strategy:g?"fixed":T.strategy,modifiers:vO(Cn({},E,{eventListeners:{enabled:s},preventOverflow:Cn({},E.preventOverflow,{options:m?Cn({padding:m},(t=E.preventOverflow)==null?void 0:t.options):(n=E.preventOverflow)==null?void 0:n.options}),offset:{options:Cn({offset:h},(r=E.offset)==null?void 0:r.options)},arrow:Cn({},E.arrow,{enabled:!!w,options:Cn({},(a=E.arrow)==null?void 0:a.options,{element:w})}),flip:Cn({enabled:!!d},E.flip)}))})}function wO(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function bO(e,t){e.classList?e.classList.add(t):wO(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function iS(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function DO(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=iS(e.className,t):e.setAttribute("class",iS(e.className&&e.className.baseVal||"",t))}var Cg;function kT(e){if((!Cg&&Cg!==0||e)&&kw){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Cg=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Cg}var I0=function(t){var n;return typeof document>"u"?null:t==null?Oh().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function sS(e,t){var n=A.useState(function(){return I0(e)}),r=n[0],a=n[1];if(!r){var i=I0(e);i&&a(i)}return A.useEffect(function(){t&&r&&t(r)},[t,r]),A.useEffect(function(){var s=I0(e);s!==r&&a(s)},[e,r]),r}const lS=e=>!e||typeof e=="function"?e:t=>{e.current=t};function SO(e,t){const n=lS(e),r=lS(t);return a=>{n&&n(a),r&&r(a)}}function EO(e,t){return A.useMemo(()=>SO(e,t),[e,t])}var Fw=Q.forwardRef(function(e,t){var n=e.flip,r=e.offset,a=e.placement,i=e.containerPadding,s=i===void 0?5:i,c=e.popperConfig,d=c===void 0?{}:c,h=e.transition,g=nS(),m=g[0],w=g[1],b=nS(),T=b[0],E=b[1],M=EO(w,t),k=sS(e.container),I=sS(e.target),B=A.useState(!e.show),N=B[0],j=B[1],R=lO(I,m,yO({placement:a,enableEvents:!!e.show,containerPadding:s||5,flip:n,offset:r,arrowElement:T,popperConfig:d})),_=R.styles,$=R.attributes,q=Lv(R,["styles","attributes"]);e.show?N&&j(!1):!e.transition&&!N&&j(!0);var z=function(){j(!0),e.onExited&&e.onExited.apply(e,arguments)},ee=e.show||h&&!N;if(mO(m,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!ee)return null;var ie=e.children(Cn({},q,{show:!!e.show,props:Cn({},$.popper,{style:_.popper,ref:M}),arrowProps:Cn({},$.arrow,{style:_.arrow,ref:E})}));if(h){var ae=e.onExit,me=e.onExiting,fe=e.onEnter,be=e.onEntering,Te=e.onEntered;ie=Q.createElement(h,{in:e.show,appear:!0,onExit:ae,onExiting:me,onExited:z,onEnter:fe,onEntering:be,onEntered:Te},ie)}return k?cw.createPortal(ie,k):null});Fw.displayName="Overlay";Fw.propTypes={show:Ne.bool,placement:Ne.oneOf(dw),target:Ne.any,container:Ne.any,flip:Ne.bool,children:Ne.func.isRequired,containerPadding:Ne.number,popperConfig:Ne.object,rootClose:Ne.bool,rootCloseEvent:Ne.oneOf(["click","mousedown"]),rootCloseDisabled:Ne.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(t.rootClose){var i;return(i=Ne.func).isRequired.apply(i,[t].concat(r))}return Ne.func.apply(Ne,[t].concat(r))},transition:Ne.elementType,onEnter:Ne.func,onEntering:Ne.func,onEntered:Ne.func,onExit:Ne.func,onExiting:Ne.func,onExited:Ne.func};const TO=Fw;function CO(){this.__data__=[],this.size=0}var xO=CO,MO=Nh;function kO(e,t){for(var n=e.length;n--;)if(MO(e[n][0],t))return n;return-1}var jv=kO,FO=jv,NO=Array.prototype,IO=NO.splice;function AO(e){var t=this.__data__,n=FO(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():IO.call(t,n,1),--this.size,!0}var OO=AO,RO=jv;function LO(e){var t=this.__data__,n=RO(t,e);return n<0?void 0:t[n][1]}var _O=LO,PO=jv;function jO(e){return PO(this.__data__,e)>-1}var BO=jO,YO=jv;function HO(e,t){var n=this.__data__,r=YO(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var UO=HO,VO=xO,zO=OO,$O=_O,qO=BO,WO=UO;function Gf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gf.prototype.clear=VO;Gf.prototype.delete=zO;Gf.prototype.get=$O;Gf.prototype.has=qO;Gf.prototype.set=WO;var Bv=Gf,GO=Bv;function KO(){this.__data__=new GO,this.size=0}var QO=KO;function ZO(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var JO=ZO;function XO(e){return this.__data__.get(e)}var eR=XO;function tR(e){return this.__data__.has(e)}var nR=tR,rR=xi,aR=rR["__core-js_shared__"],oR=aR,A0=oR,uS=function(){var e=/[^.]+$/.exec(A0&&A0.keys&&A0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function iR(e){return!!uS&&uS in e}var sR=iR,lR=Function.prototype,uR=lR.toString;function cR(e){if(e!=null){try{return uR.call(e)}catch{}try{return e+""}catch{}}return""}var FT=cR,fR=Tw,dR=sR,pR=ms,hR=FT,mR=/[\\^$.*+?()[\]{}|]/g,gR=/^\[object .+?Constructor\]$/,vR=Function.prototype,yR=Object.prototype,wR=vR.toString,bR=yR.hasOwnProperty,DR=RegExp("^"+wR.call(bR).replace(mR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SR(e){if(!pR(e)||dR(e))return!1;var t=fR(e)?DR:gR;return t.test(hR(e))}var ER=SR;function TR(e,t){return e==null?void 0:e[t]}var CR=TR,xR=ER,MR=CR;function kR(e,t){var n=MR(e,t);return xR(n)?n:void 0}var _u=kR,FR=_u,NR=xi,IR=FR(NR,"Map"),Nw=IR,AR=_u,OR=AR(Object,"create"),Yv=OR,cS=Yv;function RR(){this.__data__=cS?cS(null):{},this.size=0}var LR=RR;function _R(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var PR=_R,jR=Yv,BR="__lodash_hash_undefined__",YR=Object.prototype,HR=YR.hasOwnProperty;function UR(e){var t=this.__data__;if(jR){var n=t[e];return n===BR?void 0:n}return HR.call(t,e)?t[e]:void 0}var VR=UR,zR=Yv,$R=Object.prototype,qR=$R.hasOwnProperty;function WR(e){var t=this.__data__;return zR?t[e]!==void 0:qR.call(t,e)}var GR=WR,KR=Yv,QR="__lodash_hash_undefined__";function ZR(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=KR&&t===void 0?QR:t,this}var JR=ZR,XR=LR,eL=PR,tL=VR,nL=GR,rL=JR;function Kf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kf.prototype.clear=XR;Kf.prototype.delete=eL;Kf.prototype.get=tL;Kf.prototype.has=nL;Kf.prototype.set=rL;var aL=Kf,fS=aL,oL=Bv,iL=Nw;function sL(){this.size=0,this.__data__={hash:new fS,map:new(iL||oL),string:new fS}}var lL=sL;function uL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var cL=uL,fL=cL;function dL(e,t){var n=e.__data__;return fL(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Hv=dL,pL=Hv;function hL(e){var t=pL(this,e).delete(e);return this.size-=t?1:0,t}var mL=hL,gL=Hv;function vL(e){return gL(this,e).get(e)}var yL=vL,wL=Hv;function bL(e){return wL(this,e).has(e)}var DL=bL,SL=Hv;function EL(e,t){var n=SL(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var TL=EL,CL=lL,xL=mL,ML=yL,kL=DL,FL=TL;function Qf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qf.prototype.clear=CL;Qf.prototype.delete=xL;Qf.prototype.get=ML;Qf.prototype.has=kL;Qf.prototype.set=FL;var Iw=Qf,NL=Bv,IL=Nw,AL=Iw,OL=200;function RL(e,t){var n=this.__data__;if(n instanceof NL){var r=n.__data__;if(!IL||r.length<OL-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new AL(r)}return n.set(e,t),this.size=n.size,this}var LL=RL,_L=Bv,PL=QO,jL=JO,BL=eR,YL=nR,HL=LL;function Zf(e){var t=this.__data__=new _L(e);this.size=t.size}Zf.prototype.clear=PL;Zf.prototype.delete=jL;Zf.prototype.get=BL;Zf.prototype.has=YL;Zf.prototype.set=HL;var Aw=Zf,UL="__lodash_hash_undefined__";function VL(e){return this.__data__.set(e,UL),this}var zL=VL;function $L(e){return this.__data__.has(e)}var qL=$L,WL=Iw,GL=zL,KL=qL;function dv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new WL;++t<n;)this.add(e[t])}dv.prototype.add=dv.prototype.push=GL;dv.prototype.has=KL;var QL=dv;function ZL(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var JL=ZL;function XL(e,t){return e.has(t)}var e_=XL,t_=QL,n_=JL,r_=e_,a_=1,o_=2;function i_(e,t,n,r,a,i){var s=n&a_,c=e.length,d=t.length;if(c!=d&&!(s&&d>c))return!1;var h=i.get(e),g=i.get(t);if(h&&g)return h==t&&g==e;var m=-1,w=!0,b=n&o_?new t_:void 0;for(i.set(e,t),i.set(t,e);++m<c;){var T=e[m],E=t[m];if(r)var M=s?r(E,T,m,t,e,i):r(T,E,m,e,t,i);if(M!==void 0){if(M)continue;w=!1;break}if(b){if(!n_(t,function(k,I){if(!r_(b,I)&&(T===k||a(T,k,n,r,i)))return b.push(I)})){w=!1;break}}else if(!(T===E||a(T,E,n,r,i))){w=!1;break}}return i.delete(e),i.delete(t),w}var NT=i_,s_=xi,l_=s_.Uint8Array,IT=l_;function u_(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var c_=u_;function f_(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var d_=f_,dS=qf,pS=IT,p_=Nh,h_=NT,m_=c_,g_=d_,v_=1,y_=2,w_="[object Boolean]",b_="[object Date]",D_="[object Error]",S_="[object Map]",E_="[object Number]",T_="[object RegExp]",C_="[object Set]",x_="[object String]",M_="[object Symbol]",k_="[object ArrayBuffer]",F_="[object DataView]",hS=dS?dS.prototype:void 0,O0=hS?hS.valueOf:void 0;function N_(e,t,n,r,a,i,s){switch(n){case F_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k_:return!(e.byteLength!=t.byteLength||!i(new pS(e),new pS(t)));case w_:case b_:case E_:return p_(+e,+t);case D_:return e.name==t.name&&e.message==t.message;case T_:case x_:return e==t+"";case S_:var c=m_;case C_:var d=r&v_;if(c||(c=g_),e.size!=t.size&&!d)return!1;var h=s.get(e);if(h)return h==t;r|=y_,s.set(e,t);var g=h_(c(e),c(t),r,a,i,s);return s.delete(e),g;case M_:if(O0)return O0.call(e)==O0.call(t)}return!1}var I_=N_;function A_(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var Ow=A_,O_=Array.isArray,io=O_,R_=Ow,L_=io;function __(e,t,n){var r=t(e);return L_(e)?r:R_(r,n(e))}var AT=__;function P_(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[a++]=s)}return i}var j_=P_;function B_(){return[]}var OT=B_,Y_=j_,H_=OT,U_=Object.prototype,V_=U_.propertyIsEnumerable,mS=Object.getOwnPropertySymbols,z_=mS?function(e){return e==null?[]:(e=Object(e),Y_(mS(e),function(t){return V_.call(e,t)}))}:H_,Rw=z_;function $_(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var q_=$_,W_=Wf,G_=Dl,K_="[object Arguments]";function Q_(e){return G_(e)&&W_(e)==K_}var Z_=Q_,gS=Z_,J_=Dl,RT=Object.prototype,X_=RT.hasOwnProperty,eP=RT.propertyIsEnumerable,tP=gS(function(){return arguments}())?gS:function(e){return J_(e)&&X_.call(e,"callee")&&!eP.call(e,"callee")},Lw=tP,pv={exports:{}};function nP(){return!1}var rP=nP;pv.exports;(function(e,t){var n=xi,r=rP,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,c=s?n.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||r;e.exports=h})(pv,pv.exports);var Uv=pv.exports,aP=Wf,oP=Cw,iP=Dl,sP="[object Arguments]",lP="[object Array]",uP="[object Boolean]",cP="[object Date]",fP="[object Error]",dP="[object Function]",pP="[object Map]",hP="[object Number]",mP="[object Object]",gP="[object RegExp]",vP="[object Set]",yP="[object String]",wP="[object WeakMap]",bP="[object ArrayBuffer]",DP="[object DataView]",SP="[object Float32Array]",EP="[object Float64Array]",TP="[object Int8Array]",CP="[object Int16Array]",xP="[object Int32Array]",MP="[object Uint8Array]",kP="[object Uint8ClampedArray]",FP="[object Uint16Array]",NP="[object Uint32Array]",sn={};sn[SP]=sn[EP]=sn[TP]=sn[CP]=sn[xP]=sn[MP]=sn[kP]=sn[FP]=sn[NP]=!0;sn[sP]=sn[lP]=sn[bP]=sn[uP]=sn[DP]=sn[cP]=sn[fP]=sn[dP]=sn[pP]=sn[hP]=sn[mP]=sn[gP]=sn[vP]=sn[yP]=sn[wP]=!1;function IP(e){return iP(e)&&oP(e.length)&&!!sn[aP(e)]}var AP=IP;function OP(e){return function(t){return e(t)}}var Vv=OP,hv={exports:{}};hv.exports;(function(e,t){var n=wT,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,s=i&&n.process,c=function(){try{var d=a&&a.require&&a.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();e.exports=c})(hv,hv.exports);var _w=hv.exports,RP=AP,LP=Vv,vS=_w,yS=vS&&vS.isTypedArray,_P=yS?LP(yS):RP,Pw=_P,PP=q_,jP=Lw,BP=io,YP=Uv,HP=xw,UP=Pw,VP=Object.prototype,zP=VP.hasOwnProperty;function $P(e,t){var n=BP(e),r=!n&&jP(e),a=!n&&!r&&YP(e),i=!n&&!r&&!a&&UP(e),s=n||r||a||i,c=s?PP(e.length,String):[],d=c.length;for(var h in e)(t||zP.call(e,h))&&!(s&&(h=="length"||a&&(h=="offset"||h=="parent")||i&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||HP(h,d)))&&c.push(h);return c}var LT=$P,qP=Object.prototype;function WP(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||qP;return e===n}var jw=WP;function GP(e,t){return function(n){return e(t(n))}}var _T=GP,KP=_T,QP=KP(Object.keys,Object),ZP=QP,JP=jw,XP=ZP,ej=Object.prototype,tj=ej.hasOwnProperty;function nj(e){if(!JP(e))return XP(e);var t=[];for(var n in Object(e))tj.call(e,n)&&n!="constructor"&&t.push(n);return t}var rj=nj,aj=LT,oj=rj,ij=Ih;function sj(e){return ij(e)?aj(e):oj(e)}var Rh=sj,lj=AT,uj=Rw,cj=Rh;function fj(e){return lj(e,cj,uj)}var PT=fj,wS=PT,dj=1,pj=Object.prototype,hj=pj.hasOwnProperty;function mj(e,t,n,r,a,i){var s=n&dj,c=wS(e),d=c.length,h=wS(t),g=h.length;if(d!=g&&!s)return!1;for(var m=d;m--;){var w=c[m];if(!(s?w in t:hj.call(t,w)))return!1}var b=i.get(e),T=i.get(t);if(b&&T)return b==t&&T==e;var E=!0;i.set(e,t),i.set(t,e);for(var M=s;++m<d;){w=c[m];var k=e[w],I=t[w];if(r)var B=s?r(I,k,w,t,e,i):r(k,I,w,e,t,i);if(!(B===void 0?k===I||a(k,I,n,r,i):B)){E=!1;break}M||(M=w=="constructor")}if(E&&!M){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(E=!1)}return i.delete(e),i.delete(t),E}var gj=mj,vj=_u,yj=xi,wj=vj(yj,"DataView"),bj=wj,Dj=_u,Sj=xi,Ej=Dj(Sj,"Promise"),Tj=Ej,Cj=_u,xj=xi,Mj=Cj(xj,"Set"),kj=Mj,Fj=_u,Nj=xi,Ij=Fj(Nj,"WeakMap"),Aj=Ij,M1=bj,k1=Nw,F1=Tj,N1=kj,I1=Aj,jT=Wf,Jf=FT,bS="[object Map]",Oj="[object Object]",DS="[object Promise]",SS="[object Set]",ES="[object WeakMap]",TS="[object DataView]",Rj=Jf(M1),Lj=Jf(k1),_j=Jf(F1),Pj=Jf(N1),jj=Jf(I1),vu=jT;(M1&&vu(new M1(new ArrayBuffer(1)))!=TS||k1&&vu(new k1)!=bS||F1&&vu(F1.resolve())!=DS||N1&&vu(new N1)!=SS||I1&&vu(new I1)!=ES)&&(vu=function(e){var t=jT(e),n=t==Oj?e.constructor:void 0,r=n?Jf(n):"";if(r)switch(r){case Rj:return TS;case Lj:return bS;case _j:return DS;case Pj:return SS;case jj:return ES}return t});var zv=vu,R0=Aw,Bj=NT,Yj=I_,Hj=gj,CS=zv,xS=io,MS=Uv,Uj=Pw,Vj=1,kS="[object Arguments]",FS="[object Array]",xg="[object Object]",zj=Object.prototype,NS=zj.hasOwnProperty;function $j(e,t,n,r,a,i){var s=xS(e),c=xS(t),d=s?FS:CS(e),h=c?FS:CS(t);d=d==kS?xg:d,h=h==kS?xg:h;var g=d==xg,m=h==xg,w=d==h;if(w&&MS(e)){if(!MS(t))return!1;s=!0,g=!1}if(w&&!g)return i||(i=new R0),s||Uj(e)?Bj(e,t,n,r,a,i):Yj(e,t,d,n,r,a,i);if(!(n&Vj)){var b=g&&NS.call(e,"__wrapped__"),T=m&&NS.call(t,"__wrapped__");if(b||T){var E=b?e.value():e,M=T?t.value():t;return i||(i=new R0),a(E,M,n,r,i)}}return w?(i||(i=new R0),Hj(e,t,n,r,a,i)):!1}var qj=$j,Wj=qj,IS=Dl;function BT(e,t,n,r,a){return e===t?!0:e==null||t==null||!IS(e)&&!IS(t)?e!==e&&t!==t:Wj(e,t,n,r,BT,a)}var Bw=BT,Gj=Bw;function Kj(e,t){return Gj(e,t)}var Qj=Kj;const Zj=qn(Qj);function L0(e,t){var n=Mw(e);return n?n.innerHeight:t?e.clientHeight:Tu(e).height}function YT(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(ZA(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function Jj(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Xj=Jj,eB=Aw,tB=Bw,nB=1,rB=2;function aB(e,t,n,r){var a=n.length,i=a,s=!r;if(e==null)return!i;for(e=Object(e);a--;){var c=n[a];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<i;){c=n[a];var d=c[0],h=e[d],g=c[1];if(s&&c[2]){if(h===void 0&&!(d in e))return!1}else{var m=new eB;if(r)var w=r(h,g,d,e,t,m);if(!(w===void 0?tB(g,h,nB|rB,r,m):w))return!1}}return!0}var oB=aB,iB=ms;function sB(e){return e===e&&!iB(e)}var HT=sB,lB=HT,uB=Rh;function cB(e){for(var t=uB(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,lB(a)]}return t}var fB=cB;function dB(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var UT=dB,pB=oB,hB=fB,mB=UT;function gB(e){var t=hB(e);return t.length==1&&t[0][2]?mB(t[0][0],t[0][1]):function(n){return n===e||pB(n,e,t)}}var vB=gB,yB=io,wB=Ah,bB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DB=/^\w*$/;function SB(e,t){if(yB(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wB(e)?!0:DB.test(e)||!bB.test(e)||t!=null&&e in Object(t)}var Yw=SB,VT=Iw,EB="Expected a function";function Hw(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(EB);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var s=e.apply(this,r);return n.cache=i.set(a,s)||i,s};return n.cache=new(Hw.Cache||VT),n}Hw.Cache=VT;var TB=Hw,CB=TB,xB=500;function MB(e){var t=CB(e,function(r){return n.size===xB&&n.clear(),r}),n=t.cache;return t}var kB=MB,FB=kB,NB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IB=/\\(\\)?/g,AB=FB(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(NB,function(n,r,a,i){t.push(a?i.replace(IB,"$1"):r||n)}),t}),OB=AB;function RB(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Uw=RB,AS=qf,LB=Uw,_B=io,PB=Ah,jB=1/0,OS=AS?AS.prototype:void 0,RS=OS?OS.toString:void 0;function zT(e){if(typeof e=="string")return e;if(_B(e))return LB(e,zT)+"";if(PB(e))return RS?RS.call(e):"";var t=e+"";return t=="0"&&1/e==-jB?"-0":t}var BB=zT,YB=BB;function HB(e){return e==null?"":YB(e)}var UB=HB,VB=io,zB=Yw,$B=OB,qB=UB;function WB(e,t){return VB(e)?e:zB(e,t)?[e]:$B(qB(e))}var $v=WB,GB=Ah,KB=1/0;function QB(e){if(typeof e=="string"||GB(e))return e;var t=e+"";return t=="0"&&1/e==-KB?"-0":t}var Lh=QB,ZB=$v,JB=Lh;function XB(e,t){t=ZB(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[JB(t[n++])];return n&&n==r?e:void 0}var qv=XB,eY=qv;function tY(e,t,n){var r=e==null?void 0:eY(e,t);return r===void 0?n:r}var nY=tY;function rY(e,t){return e!=null&&t in Object(e)}var aY=rY,oY=$v,iY=Lw,sY=io,lY=xw,uY=Cw,cY=Lh;function fY(e,t,n){t=oY(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var s=cY(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&uY(a)&&lY(s,a)&&(sY(e)||iY(e)))}var dY=fY,pY=aY,hY=dY;function mY(e,t){return e!=null&&hY(e,t,pY)}var gY=mY,vY=Bw,yY=nY,wY=gY,bY=Yw,DY=HT,SY=UT,EY=Lh,TY=1,CY=2;function xY(e,t){return bY(e)&&DY(t)?SY(EY(e),t):function(n){var r=yY(n,e);return r===void 0&&r===t?wY(n,e):vY(t,r,TY|CY)}}var MY=xY;function kY(e){return e}var Wv=kY;function FY(e){return function(t){return t==null?void 0:t[e]}}var NY=FY,IY=qv;function AY(e){return function(t){return IY(t,e)}}var OY=AY,RY=NY,LY=OY,_Y=Yw,PY=Lh;function jY(e){return _Y(e)?RY(PY(e)):LY(e)}var BY=jY,YY=vB,HY=MY,UY=Wv,VY=io,zY=BY;function $Y(e){return typeof e=="function"?e:e==null?UY:typeof e=="object"?VY(e)?HY(e[0],e[1]):YY(e):zY(e)}var Gv=$Y,qY=Xj,WY=Gv,GY=ST,KY=Math.max;function QY(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:GY(n);return a<0&&(a=KY(r+a,0)),qY(e,WY(t),a)}var ZY=QY;const JY=qn(ZY);var XY=Math.ceil,eH=Math.max;function tH(e,t,n,r){for(var a=-1,i=eH(XY((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++a]=e,e+=n;return s}var nH=tH,rH=nH,aH=Pv,_0=DT;function oH(e){return function(t,n,r){return r&&typeof r!="number"&&aH(t,n,r)&&(n=r=void 0),t=_0(t),n===void 0?(n=t,t=0):n=_0(n),r=r===void 0?t<n?1:-1:_0(r),rH(t,n,r,e)}}var iH=oH,sH=iH,lH=sH(),uH=lH;const cH=qn(uH);var LS=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function fH(e,t){return!!(e===t||LS(e)&&LS(t))}function dH(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!fH(e[n],t[n]))return!1;return!0}function $T(e,t){t===void 0&&(t=dH);var n=null;function r(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var s=e.apply(this,a);return n={lastResult:s,lastArgs:a,lastThis:this},s}return r.clear=function(){n=null},r}var _S=qf,pH=Lw,hH=io,PS=_S?_S.isConcatSpreadable:void 0;function mH(e){return hH(e)||pH(e)||!!(PS&&e&&e[PS])}var gH=mH,vH=Ow,yH=gH;function qT(e,t,n,r,a){var i=-1,s=e.length;for(n||(n=yH),a||(a=[]);++i<s;){var c=e[i];t>0&&n(c)?t>1?qT(c,t-1,n,r,a):vH(a,c):r||(a[a.length]=c)}return a}var WT=qT;function wH(e){return function(t,n,r){for(var a=-1,i=Object(t),s=r(t),c=s.length;c--;){var d=s[e?c:++a];if(n(i[d],d,i)===!1)break}return t}}var bH=wH,DH=bH,SH=DH(),EH=SH,TH=EH,CH=Rh;function xH(e,t){return e&&TH(e,t,CH)}var Vw=xH,MH=Ih;function kH(e,t){return function(n,r){if(n==null)return n;if(!MH(n))return e(n,r);for(var a=n.length,i=t?a:-1,s=Object(n);(t?i--:++i<a)&&r(s[i],i,s)!==!1;);return n}}var FH=kH,NH=Vw,IH=FH,AH=IH(NH),OH=AH,RH=OH,LH=Ih;function _H(e,t){var n=-1,r=LH(e)?Array(e.length):[];return RH(e,function(a,i,s){r[++n]=t(a,i,s)}),r}var PH=_H;function jH(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var BH=jH,jS=Ah;function YH(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=jS(e),s=t!==void 0,c=t===null,d=t===t,h=jS(t);if(!c&&!h&&!i&&e>t||i&&s&&d&&!c&&!h||r&&s&&d||!n&&d||!a)return 1;if(!r&&!i&&!h&&e<t||h&&n&&a&&!r&&!i||c&&n&&a||!s&&a||!d)return-1}return 0}var HH=YH,UH=HH;function VH(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,s=a.length,c=n.length;++r<s;){var d=UH(a[r],i[r]);if(d){if(r>=c)return d;var h=n[r];return d*(h=="desc"?-1:1)}}return e.index-t.index}var zH=VH,P0=Uw,$H=qv,qH=Gv,WH=PH,GH=BH,KH=Vv,QH=zH,ZH=Wv,JH=io;function XH(e,t,n){t.length?t=P0(t,function(i){return JH(i)?function(s){return $H(s,i.length===1?i[0]:i)}:i}):t=[ZH];var r=-1;t=P0(t,KH(qH));var a=WH(e,function(i,s,c){var d=P0(t,function(h){return h(i)});return{criteria:d,index:++r,value:i}});return GH(a,function(i,s){return QH(i,s,n)})}var eU=XH;function tU(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var nU=tU,rU=nU,BS=Math.max;function aU(e,t,n){return t=BS(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=BS(r.length-t,0),s=Array(i);++a<i;)s[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(s),rU(e,this,c)}}var GT=aU;function oU(e){return function(){return e}}var iU=oU,sU=_u,lU=function(){try{var e=sU(Object,"defineProperty");return e({},"",{}),e}catch{}}(),KT=lU,uU=iU,YS=KT,cU=Wv,fU=YS?function(e,t){return YS(e,"toString",{configurable:!0,enumerable:!1,value:uU(t),writable:!0})}:cU,dU=fU,pU=800,hU=16,mU=Date.now;function gU(e){var t=0,n=0;return function(){var r=mU(),a=hU-(r-n);if(n=r,a>0){if(++t>=pU)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var vU=gU,yU=dU,wU=vU,bU=wU(yU),QT=bU,DU=Wv,SU=GT,EU=QT;function TU(e,t){return EU(SU(e,t,DU),e+"")}var ZT=TU,CU=WT,xU=eU,MU=ZT,HS=Pv,kU=MU(function(e,t){if(e==null)return[];var n=t.length;return n>1&&HS(e,t[0],t[1])?t=[]:n>2&&HS(t[0],t[1],t[2])&&(t=[t[0]]),xU(e,CU(t,1),[])}),FU=kU;const NU=qn(FU);function A1(e,t){var n=Mw(e);return n?n.innerWidth:t?e.clientWidth:Tu(e).width}function JT(e){return nT(e)||vT(e)||Dw(e)||rT()}function IU(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var XT=IU,US=KT;function AU(e,t,n){t=="__proto__"&&US?US(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var zw=AU,OU=zw,RU=Nh,LU=Object.prototype,_U=LU.hasOwnProperty;function PU(e,t,n){var r=e[t];(!(_U.call(e,t)&&RU(r,n))||n===void 0&&!(t in e))&&OU(e,t,n)}var e4=PU,jU=e4,BU=zw;function YU(e,t,n,r){var a=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var c=t[i],d=r?r(n[c],e[c],c,n,e):void 0;d===void 0&&(d=e[c]),a?BU(n,c,d):jU(n,c,d)}return n}var _h=YU,HU=_h,UU=Rh;function VU(e,t){return e&&HU(t,UU(t),e)}var zU=VU;function $U(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var qU=$U,WU=ms,GU=jw,KU=qU,QU=Object.prototype,ZU=QU.hasOwnProperty;function JU(e){if(!WU(e))return KU(e);var t=GU(e),n=[];for(var r in e)r=="constructor"&&(t||!ZU.call(e,r))||n.push(r);return n}var XU=JU,eV=LT,tV=XU,nV=Ih;function rV(e){return nV(e)?eV(e,!0):tV(e)}var Kv=rV,aV=_h,oV=Kv;function iV(e,t){return e&&aV(t,oV(t),e)}var sV=iV,mv={exports:{}};mv.exports;(function(e,t){var n=xi,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,s=i?n.Buffer:void 0,c=s?s.allocUnsafe:void 0;function d(h,g){if(g)return h.slice();var m=h.length,w=c?c(m):new h.constructor(m);return h.copy(w),w}e.exports=d})(mv,mv.exports);var lV=mv.exports;function uV(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var cV=uV,fV=_h,dV=Rw;function pV(e,t){return fV(e,dV(e),t)}var hV=pV,mV=_T,gV=mV(Object.getPrototypeOf,Object),Qv=gV,vV=Ow,yV=Qv,wV=Rw,bV=OT,DV=Object.getOwnPropertySymbols,SV=DV?function(e){for(var t=[];e;)vV(t,wV(e)),e=yV(e);return t}:bV,t4=SV,EV=_h,TV=t4;function CV(e,t){return EV(e,TV(e),t)}var xV=CV,MV=AT,kV=t4,FV=Kv;function NV(e){return MV(e,FV,kV)}var n4=NV,IV=Object.prototype,AV=IV.hasOwnProperty;function OV(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&AV.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var RV=OV,VS=IT;function LV(e){var t=new e.constructor(e.byteLength);return new VS(t).set(new VS(e)),t}var $w=LV,_V=$w;function PV(e,t){var n=t?_V(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var jV=PV,BV=/\w*$/;function YV(e){var t=new e.constructor(e.source,BV.exec(e));return t.lastIndex=e.lastIndex,t}var HV=YV,zS=qf,$S=zS?zS.prototype:void 0,qS=$S?$S.valueOf:void 0;function UV(e){return qS?Object(qS.call(e)):{}}var VV=UV,zV=$w;function $V(e,t){var n=t?zV(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var qV=$V,WV=$w,GV=jV,KV=HV,QV=VV,ZV=qV,JV="[object Boolean]",XV="[object Date]",ez="[object Map]",tz="[object Number]",nz="[object RegExp]",rz="[object Set]",az="[object String]",oz="[object Symbol]",iz="[object ArrayBuffer]",sz="[object DataView]",lz="[object Float32Array]",uz="[object Float64Array]",cz="[object Int8Array]",fz="[object Int16Array]",dz="[object Int32Array]",pz="[object Uint8Array]",hz="[object Uint8ClampedArray]",mz="[object Uint16Array]",gz="[object Uint32Array]";function vz(e,t,n){var r=e.constructor;switch(t){case iz:return WV(e);case JV:case XV:return new r(+e);case sz:return GV(e,n);case lz:case uz:case cz:case fz:case dz:case pz:case hz:case mz:case gz:return ZV(e,n);case ez:return new r;case tz:case az:return new r(e);case nz:return KV(e);case rz:return new r;case oz:return QV(e)}}var yz=vz,wz=ms,WS=Object.create,bz=function(){function e(){}return function(t){if(!wz(t))return{};if(WS)return WS(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),r4=bz,Dz=r4,Sz=Qv,Ez=jw;function Tz(e){return typeof e.constructor=="function"&&!Ez(e)?Dz(Sz(e)):{}}var Cz=Tz,xz=zv,Mz=Dl,kz="[object Map]";function Fz(e){return Mz(e)&&xz(e)==kz}var Nz=Fz,Iz=Nz,Az=Vv,GS=_w,KS=GS&&GS.isMap,Oz=KS?Az(KS):Iz,Rz=Oz,Lz=zv,_z=Dl,Pz="[object Set]";function jz(e){return _z(e)&&Lz(e)==Pz}var Bz=jz,Yz=Bz,Hz=Vv,QS=_w,ZS=QS&&QS.isSet,Uz=ZS?Hz(ZS):Yz,Vz=Uz,zz=Aw,$z=XT,qz=e4,Wz=zU,Gz=sV,Kz=lV,Qz=cV,Zz=hV,Jz=xV,Xz=PT,e$=n4,t$=zv,n$=RV,r$=yz,a$=Cz,o$=io,i$=Uv,s$=Rz,l$=ms,u$=Vz,c$=Rh,f$=Kv,d$=1,p$=2,h$=4,a4="[object Arguments]",m$="[object Array]",g$="[object Boolean]",v$="[object Date]",y$="[object Error]",o4="[object Function]",w$="[object GeneratorFunction]",b$="[object Map]",D$="[object Number]",i4="[object Object]",S$="[object RegExp]",E$="[object Set]",T$="[object String]",C$="[object Symbol]",x$="[object WeakMap]",M$="[object ArrayBuffer]",k$="[object DataView]",F$="[object Float32Array]",N$="[object Float64Array]",I$="[object Int8Array]",A$="[object Int16Array]",O$="[object Int32Array]",R$="[object Uint8Array]",L$="[object Uint8ClampedArray]",_$="[object Uint16Array]",P$="[object Uint32Array]",rn={};rn[a4]=rn[m$]=rn[M$]=rn[k$]=rn[g$]=rn[v$]=rn[F$]=rn[N$]=rn[I$]=rn[A$]=rn[O$]=rn[b$]=rn[D$]=rn[i4]=rn[S$]=rn[E$]=rn[T$]=rn[C$]=rn[R$]=rn[L$]=rn[_$]=rn[P$]=!0;rn[y$]=rn[o4]=rn[x$]=!1;function qg(e,t,n,r,a,i){var s,c=t&d$,d=t&p$,h=t&h$;if(n&&(s=a?n(e,r,a,i):n(e)),s!==void 0)return s;if(!l$(e))return e;var g=o$(e);if(g){if(s=n$(e),!c)return Qz(e,s)}else{var m=t$(e),w=m==o4||m==w$;if(i$(e))return Kz(e,c);if(m==i4||m==a4||w&&!a){if(s=d||w?{}:a$(e),!c)return d?Jz(e,Gz(s,e)):Zz(e,Wz(s,e))}else{if(!rn[m])return a?e:{};s=r$(e,m,c)}}i||(i=new zz);var b=i.get(e);if(b)return b;i.set(e,s),u$(e)?e.forEach(function(M){s.add(qg(M,t,n,M,e,i))}):s$(e)&&e.forEach(function(M,k){s.set(k,qg(M,t,n,k,e,i))});var T=h?d?e$:Xz:d?f$:c$,E=g?void 0:T(e);return $z(E||e,function(M,k){E&&(k=M,M=e[k]),qz(s,k,qg(M,t,n,k,e,i))}),s}var j$=qg;function B$(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Y$=B$,H$=qv,U$=yT;function V$(e,t){return t.length<2?e:H$(e,U$(t,0,-1))}var z$=V$,$$=$v,q$=Y$,W$=z$,G$=Lh;function K$(e,t){return t=$$(t,e),e=W$(e,t),e==null||delete e[G$(q$(t))]}var Q$=K$,Z$=Wf,J$=Qv,X$=Dl,eq="[object Object]",tq=Function.prototype,nq=Object.prototype,s4=tq.toString,rq=nq.hasOwnProperty,aq=s4.call(Object);function oq(e){if(!X$(e)||Z$(e)!=eq)return!1;var t=J$(e);if(t===null)return!0;var n=rq.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&s4.call(n)==aq}var iq=oq,sq=iq;function lq(e){return sq(e)?void 0:e}var uq=lq,cq=WT;function fq(e){var t=e==null?0:e.length;return t?cq(e,1):[]}var dq=fq,pq=dq,hq=GT,mq=QT;function gq(e){return mq(hq(e,void 0,pq),e+"")}var vq=gq,yq=Uw,wq=j$,bq=Q$,Dq=$v,Sq=_h,Eq=uq,Tq=vq,Cq=n4,xq=1,Mq=2,kq=4,Fq=Tq(function(e,t){var n={};if(e==null)return n;var r=!1;t=yq(t,function(i){return i=Dq(i,e),r||(r=i.length>1),i}),Sq(e,Cq(e),n),r&&(n=wq(n,xq|Mq|kq,Eq));for(var a=t.length;a--;)bq(n,t[a]);return n}),Nq=Fq;const Iq=qn(Nq);var Aq=ZT,Oq=Nh,Rq=Pv,Lq=Kv,l4=Object.prototype,_q=l4.hasOwnProperty,Pq=Aq(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&Rq(t[0],t[1],a)&&(r=1);++n<r;)for(var i=t[n],s=Lq(i),c=-1,d=s.length;++c<d;){var h=s[c],g=e[h];(g===void 0||Oq(g,l4[h])&&!_q.call(e,h))&&(e[h]=i[h])}return e}),jq=Pq;const Bq=qn(jq);var Yq=XT,Hq=r4,Uq=Vw,Vq=Gv,zq=Qv,$q=io,qq=Uv,Wq=Tw,Gq=ms,Kq=Pw;function Qq(e,t,n){var r=$q(e),a=r||qq(e)||Kq(e);if(t=Vq(t),n==null){var i=e&&e.constructor;a?n=r?new i:[]:Gq(e)?n=Wq(i)?Hq(zq(e)):{}:n={}}return(a?Yq:Uq)(e,function(s,c,d){return t(n,s,c,d)}),n}var Zq=Qq;const Jq=qn(Zq);var Xq=zw,eW=Vw,tW=Gv;function nW(e,t){var n={};return t=tW(t),eW(e,function(r,a,i){Xq(n,a,t(r,a,i))}),n}var rW=nW;const aW=qn(rW);var oW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vn,function(){return function(n,r,a){r.prototype.isBetween=function(i,s,c,d){var h=a(i),g=a(s),m=(d=d||"()")[0]==="(",w=d[1]===")";return(m?this.isAfter(h,c):!this.isBefore(h,c))&&(w?this.isBefore(g,c):!this.isAfter(g,c))||(m?this.isBefore(h,c):!this.isAfter(h,c))&&(w?this.isAfter(g,c):!this.isBefore(g,c))}}})})(oW);var iW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vn,function(){return function(n,r){r.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(iW);var sW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vn,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(sW);var lW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vn,function(){return function(n,r,a){var i=r.prototype,s=function(m){return m&&(m.indexOf?m:m.s)},c=function(m,w,b,T,E){var M=m.name?m:m.$locale(),k=s(M[w]),I=s(M[b]),B=k||I.map(function(j){return j.slice(0,T)});if(!E)return B;var N=M.weekStart;return B.map(function(j,R){return B[(R+(N||0))%7]})},d=function(){return a.Ls[a.locale()]},h=function(m,w){return m.formats[w]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,E,M){return E||M.slice(1)})}(m.formats[w.toUpperCase()])},g=function(){var m=this;return{months:function(w){return w?w.format("MMMM"):c(m,"months")},monthsShort:function(w){return w?w.format("MMM"):c(m,"monthsShort","months",3)},firstDayOfWeek:function(){return m.$locale().weekStart||0},weekdays:function(w){return w?w.format("dddd"):c(m,"weekdays")},weekdaysMin:function(w){return w?w.format("dd"):c(m,"weekdaysMin","weekdays",2)},weekdaysShort:function(w){return w?w.format("ddd"):c(m,"weekdaysShort","weekdays",3)},longDateFormat:function(w){return h(m.$locale(),w)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return g.bind(this)()},a.localeData=function(){var m=d();return{firstDayOfWeek:function(){return m.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(w){return h(m,w)},meridiem:m.meridiem,ordinal:m.ordinal}},a.months=function(){return c(d(),"months")},a.monthsShort=function(){return c(d(),"monthsShort","months",3)},a.weekdays=function(m){return c(d(),"weekdays",null,null,m)},a.weekdaysShort=function(m){return c(d(),"weekdaysShort","weekdays",3,m)},a.weekdaysMin=function(m){return c(d(),"weekdaysMin","weekdays",2,m)}}})})(lW);var uW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,i){var s=a.prototype,c=s.format;i.en.formats=n,s.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var h=this.$locale().formats,g=function(m,w){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(b,T,E){var M=E&&E.toUpperCase();return T||w[E]||n[E]||w[M].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,I,B){return I||B.slice(1)})})}(d,h===void 0?{}:h);return c.call(this,g)}}})})(uW);var cW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vn,function(){return function(n,r,a){var i=function(s,c){if(!c||!c.length||c.length===1&&!c[0]||c.length===1&&Array.isArray(c[0])&&!c[0].length)return null;var d;c.length===1&&c[0].length>0&&(c=c[0]),d=(c=c.filter(function(g){return g}))[0];for(var h=1;h<c.length;h+=1)c[h].isValid()&&!c[h][s](d)||(d=c[h]);return d};a.max=function(){var s=[].slice.call(arguments,0);return i("isAfter",s)},a.min=function(){var s=[].slice.call(arguments,0);return i("isBefore",s)}}})})(cW);var fW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Vn,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,s,c){var d=s.prototype;c.utc=function(E){var M={date:E,utc:!0,args:arguments};return new s(M)},d.utc=function(E){var M=c(this.toDate(),{locale:this.$L,utc:!0});return E?M.add(this.utcOffset(),n):M},d.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var h=d.parse;d.parse=function(E){E.utc&&(this.$u=!0),this.$utils().u(E.$offset)||(this.$offset=E.$offset),h.call(this,E)};var g=d.init;d.init=function(){if(this.$u){var E=this.$d;this.$y=E.getUTCFullYear(),this.$M=E.getUTCMonth(),this.$D=E.getUTCDate(),this.$W=E.getUTCDay(),this.$H=E.getUTCHours(),this.$m=E.getUTCMinutes(),this.$s=E.getUTCSeconds(),this.$ms=E.getUTCMilliseconds()}else g.call(this)};var m=d.utcOffset;d.utcOffset=function(E,M){var k=this.$utils().u;if(k(E))return this.$u?0:k(this.$offset)?m.call(this):this.$offset;if(typeof E=="string"&&(E=function(j){j===void 0&&(j="");var R=j.match(r);if(!R)return null;var _=(""+R[0]).match(a)||["-",0,0],$=_[0],q=60*+_[1]+ +_[2];return q===0?0:$==="+"?q:-q}(E),E===null))return this;var I=Math.abs(E)<=16?60*E:E,B=this;if(M)return B.$offset=I,B.$u=E===0,B;if(E!==0){var N=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(I+N,n)).$offset=I,B.$x.$localOffset=N}else B=this.utc();return B};var w=d.format;d.format=function(E){var M=E||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return w.call(this,M)},d.valueOf=function(){var E=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*E},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var b=d.toDate;d.toDate=function(E){return E==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():b.call(this)};var T=d.diff;d.diff=function(E,M,k){if(E&&this.$u===E.$u)return T.call(this,E,M,k);var I=this.local(),B=c(E).local();return T.call(I,B,M,k)}}})})(fW);function rs(e){return e.children}var ga={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},qr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},JS=Object.keys(qr).map(function(e){return qr[e]});Ne.oneOfType([Ne.string,Ne.func]);Ne.any;Ne.func;Ne.oneOfType([Ne.arrayOf(Ne.oneOf(JS)),Ne.objectOf(function(e,t){var n=JS.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return Ne.elementType.apply(Ne,[e,t].concat(a))})]);Ne.oneOfType([Ne.oneOf(["overlap","no-overlap"]),Ne.func]);function hn(e,t){e&&e.apply(null,[].concat(t))}var XS={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function u4(e,t){var n=wr(e,"month");return wr(n,"week",t.startOfWeek())}function c4(e,t){var n=cv(e,"month");return cv(n,"week",t.startOfWeek())}function dW(e,t){for(var n=u4(e,t),r=c4(e,t),a=[];zf(n,r,"day");)a.push(n),n=Ro(n,1,"day");return a}function pW(e,t){var n=wr(e,t);return kh(n,e)?n:Ro(n,1,t)}function hW(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,a=[];zf(r,t,n);)a.push(r),r=Ro(r,1,n);return a}function mW(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=wr(e,"day"),e=ih(e,ih(t)),e=Ff(e,Ff(t)),e=oh(e,oh(t)),ah(e,ah(t)))}function e2(e){return ih(e)===0&&Ff(e)===0&&oh(e)===0&&ah(e)===0}function gW(e,t,n,r){return n==="day"&&(n="date"),Math.abs($D[n](e,void 0,r)-$D[n](t,void 0,r))}function qw(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+wr(e,n)/XS[n]-+wr(t,n)/XS[n]))}var vW=Ne.oneOfType([Ne.string,Ne.func]);function yW(e,t,n,r,a){var i=typeof r=="function"?r(n,a,e):t.call(e,n,r,a);return Jp(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function wW(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function Ww(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function bW(e,t){return qw(e,t,"minutes")+Ww(e,t)}function DW(e){var t=wr(e,"day");return qw(t,e,"minutes")+Ww(t,e)}function SW(e,t){return Ew(e,t,"day")}function EW(e,t,n){var r=kh(e,t,"minutes");return r?Fh(t,n,"minutes"):_v(t,n,"minutes")}function O1(e,t){return gW(e,t,"day")}function TW(e){var t=e.evtA,n=t.start,r=t.end,a=t.allDay,i=e.evtB,s=i.start,c=i.end,d=i.allDay,h=+wr(n,"day")-+wr(s,"day"),g=O1(n,r),m=O1(s,c);return h||m-g||!!d-!!a||+n-+s||+r-+c}function CW(e){var t=e.event,n=t.start,r=t.end,a=e.range,i=a.start,s=a.end,c=wr(n,"day"),d=zf(c,s,"day"),h=Sw(c,r,"minutes"),g=h?_v(r,i,"minutes"):Fh(r,i,"minutes");return d&&g}function xW(e,t){return kh(e,t,"day")}function MW(e,t){return e2(e)&&e2(t)}var kW=lr(function e(t){var n=this;sr(this,e),Jp(typeof t.format=="function","date localizer `format(..)` must be a function"),Jp(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||vW,this.formats=t.formats,this.format=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return yW.apply(void 0,[n,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||mW,this.inRange=t.inRange||pT,this.lt=t.lt||Ew,this.lte=t.lte||zf,this.gt=t.gt||_v,this.gte=t.gte||Fh,this.eq=t.eq||kh,this.neq=t.neq||Sw,this.startOf=t.startOf||wr,this.endOf=t.endOf||cv,this.add=t.add||Ro,this.range=t.range||hW,this.diff=t.diff||qw,this.ceil=t.ceil||pW,this.min=t.min||fT,this.max=t.max||dT,this.minutes=t.minutes||Ff,this.daySpan=t.daySpan||O1,this.firstVisibleDay=t.firstVisibleDay||u4,this.lastVisibleDay=t.lastVisibleDay||c4,this.visibleDays=t.visibleDays||dW,this.getSlotDate=t.getSlotDate||wW,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Ww,this.getTotalMin=t.getTotalMin||bW,this.getMinutesFromMidnight=t.getMinutesFromMidnight||DW,this.continuesPrior=t.continuesPrior||SW,this.continuesAfter=t.continuesAfter||EW,this.sortEvents=t.sortEvents||TW,this.inEventRange=t.inEventRange||CW,this.isSameDate=t.isSameDate||xW,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||MW,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function FW(e,t,n,r){var a=Xt(Xt({},e.formats),n);return Xt(Xt({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(s,c){return e.format(s,a[c]||c,t)}})}var NW={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function IW(e){return Xt(Xt({},NW),e)}function AW(e){var t=e.ref,n=e.callback;A.useEffect(function(){var r=function(i){t.current&&!t.current.contains(i.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var OW=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],f4=function(e){Kr(t,e);function t(){return sr(this,t),Gr(this,t,arguments)}return lr(t,[{key:"render",value:function(){var r=this.props,a=r.style,i=r.className,s=r.event,c=r.selected,d=r.isAllDay,h=r.onSelect,g=r.onDoubleClick,m=r.onKeyPress,w=r.localizer,b=r.continuesPrior,T=r.continuesAfter,E=r.accessors,M=r.getters,k=r.children,I=r.components,B=I.event,N=I.eventWrapper,j=r.slotStart,R=r.slotEnd,_=Ci(r,OW);delete _.resizable;var $=E.title(s),q=E.tooltip(s),z=E.end(s),ee=E.start(s),ie=E.allDay(s),ae=d||ie||w.diff(ee,w.ceil(z,"day"),"day")>1,me=M.eventProp(s,ee,z,c),fe=Q.createElement("div",{className:"rbc-event-content",title:q||void 0},B?Q.createElement(B,{event:s,continuesPrior:b,continuesAfter:T,title:$,isAllDay:ie,localizer:w,slotStart:j,slotEnd:R}):$);return Q.createElement(N,Object.assign({},this.props,{type:"date"}),Q.createElement("div",Object.assign({},_,{style:Xt(Xt({},me.style),a),className:$n("rbc-event",i,me.className,{"rbc-selected":c,"rbc-event-allday":ae,"rbc-event-continues-prior":b,"rbc-event-continues-after":T}),onClick:function(Te){return h&&h(s,Te)},onDoubleClick:function(Te){return g&&g(s,Te)},onKeyDown:function(Te){return m&&m(s,Te)}}),typeof k=="function"?k(fe):fe))}}]),t}(Q.Component);function Zv(e,t){return!e||t==null?!1:Zj(e,t)}function d4(e,t){var n=e.right-e.left,r=n/t;return r}function p4(e,t,n,r){var a=d4(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function RW(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function LW(e,t,n,r,a){var i=-1,s=-1,c=r-1,d=d4(t,r),h=p4(t,n.x,a,r),g=t.top<n.y&&t.bottom>n.y,m=t.top<e.y&&t.bottom>e.y,w=e.y>t.bottom,b=t.top>e.y,T=n.top<t.top&&n.bottom>t.bottom;return T&&(i=0,s=c),g&&(b?(i=0,s=h):w&&(i=h,s=c)),m&&(i=s=a?c-Math.floor((e.x-t.left)/d):Math.floor((e.x-t.left)/d),g?h<i?i=h:s=h:e.y<n.y?s=c:i=0),{startIdx:i,endIdx:s}}function _W(e){var t=e.target,n=e.offset,r=e.container,a=e.box,i=Tu(t),s=i.top,c=i.left,d=i.width,h=i.height,g=Tu(r),m=g.top,w=g.left,b=g.width,T=g.height,E=Tu(a),M=E.width,k=E.height,I=m+T,B=w+b,N=s+k,j=c+M,R=n.x,_=n.y,$=N>I?s-k-_:s+_+h,q=j>B?c+R-M+d:c+R;return{topOffset:$,leftOffset:q}}function PW(e){var t=e.containerRef,n=e.accessors,r=e.getters,a=e.selected,i=e.components,s=e.localizer,c=e.position,d=e.show,h=e.events,g=e.slotStart,m=e.slotEnd,w=e.onSelect,b=e.onDoubleClick,T=e.onKeyPress,E=e.handleDragStart,M=e.popperRef,k=e.target,I=e.offset;AW({ref:M,callback:d}),A.useLayoutEffect(function(){var j=_W({target:k,offset:I,container:t.current,box:M.current}),R=j.topOffset,_=j.leftOffset;M.current.style.top="".concat(R,"px"),M.current.style.left="".concat(_,"px")},[I.x,I.y,k]);var B=c.width,N={minWidth:B+B/2};return Q.createElement("div",{style:N,className:"rbc-overlay",ref:M},Q.createElement("div",{className:"rbc-overlay-header"},s.format(g,"dayHeaderFormat")),h.map(function(j,R){return Q.createElement(f4,{key:R,type:"popup",localizer:s,event:j,getters:r,onSelect:w,accessors:n,components:i,onDoubleClick:b,onKeyPress:T,continuesPrior:s.lt(n.end(j),g,"day"),continuesAfter:s.gte(n.start(j),m,"day"),slotStart:g,slotEnd:m,selected:Zv(j,a),draggable:!0,onDragStart:function(){return E(j)},onDragEnd:function(){return d()}})}))}var h4=Q.forwardRef(function(e,t){return Q.createElement(PW,Object.assign({},e,{popperRef:t}))});h4.propTypes={accessors:Ne.object.isRequired,getters:Ne.object.isRequired,selected:Ne.object,components:Ne.object.isRequired,localizer:Ne.object.isRequired,position:Ne.object.isRequired,show:Ne.func.isRequired,events:Ne.array.isRequired,slotStart:Ne.instanceOf(Date).isRequired,slotEnd:Ne.instanceOf(Date),onSelect:Ne.func,onDoubleClick:Ne.func,onKeyPress:Ne.func,handleDragStart:Ne.func,style:Ne.object,offset:Ne.shape({x:Ne.number,y:Ne.number})};function jW(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,a=e.overlay,i=e.accessors,s=e.localizer,c=e.components,d=e.getters,h=e.selected,g=e.handleSelectEvent,m=e.handleDoubleClickEvent,w=e.handleKeyPressEvent,b=e.handleDragStart,T=e.onHide,E=e.overlayDisplay,M=A.useRef(null);if(!a.position)return null;var k=r;isNaN(r)||(k={x:r,y:r});var I=a.position,B=a.events,N=a.date,j=a.end;return Q.createElement(TO,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:T,target:a.target},function(R){var _=R.props;return Q.createElement(h4,Object.assign({},_,{containerRef:t,ref:M,target:a.target,offset:k,accessors:i,getters:d,selected:h,components:c,localizer:s,position:I,show:E,events:B,slotStart:N,slotEnd:j,onSelect:g,onDoubleClick:m,onKeyPress:w,handleDragStart:b}))})}var Gw=Q.forwardRef(function(e,t){return Q.createElement(jW,Object.assign({},e,{containerRef:t}))});Gw.propTypes={popupOffset:Ne.oneOfType([Ne.number,Ne.shape({x:Ne.number,y:Ne.number})]),overlay:Ne.shape({position:Ne.object,events:Ne.array,date:Ne.instanceOf(Date),end:Ne.instanceOf(Date)}),accessors:Ne.object.isRequired,localizer:Ne.object.isRequired,components:Ne.object.isRequired,getters:Ne.object.isRequired,selected:Ne.object,handleSelectEvent:Ne.func,handleDoubleClickEvent:Ne.func,handleKeyPressEvent:Ne.func,handleDragStart:Ne.func,onHide:Ne.func,overlayDisplay:Ne.func};function Fr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Pp(n,e,t,{passive:!1})}function BW(e,t,n){return!e||sh(e,document.elementFromPoint(t,n))}function YW(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return YT(a,".rbc-event",e)}function HW(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return YT(a,".rbc-show-more",e)}function gv(e,t){return!!YW(e,t)}function UW(e,t){return!!HW(e,t)}function hf(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var t2=5,VW=250,m4=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,a=r===void 0?!1:r,i=n.longPressThreshold,s=i===void 0?250:i,c=n.validContainers,d=c===void 0?[]:c;sr(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=s,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Fr("touchmove",function(){},window),this._removeKeyDownListener=Fr("keydown",this._keyListener),this._removeKeyUpListener=Fr("keyup",this._keyListener),this._removeDropFromOutsideListener=Fr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Fr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return lr(e,[{key:"on",value:function(n,r){var a=this._listeners[n]||(this._listeners[n]=[]);return a.push(r),{remove:function(){var s=a.indexOf(r);s!==-1&&a.splice(s,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var s,c=this._listeners[n]||[];return c.forEach(function(d){s===void 0&&(s=d.apply(void 0,a))}),s}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:n2(r,Iu(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var a=this,i=null,s=null,c=null,d=function(w){i=setTimeout(function(){g(),n(w)},a.longPressThreshold),s=Fr("touchmove",function(){return g()}),c=Fr("touchend",function(){return g()})},h=Fr("touchstart",d),g=function(){i&&clearTimeout(i),s&&s(),c&&c(),i=null,s=null,c=null};return r&&d(r),function(){g(),h()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Fr("mousedown",function(i){n._removeInitialEventListener(),n._handleInitialEvent(i),n._removeInitialEventListener=Fr("mousedown",n._handleInitialEvent)}),a=Fr("touchstart",function(i){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,i)});this._removeInitialEventListener=function(){r(),a()}}},{key:"_dropFromOutsideListener",value:function(n){var r=hf(n),a=r.pageX,i=r.pageY,s=r.clientX,c=r.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:s,clientY:c}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=hf(n),a=r.pageX,i=r.pageY,s=r.clientX,c=r.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:s,clientY:c}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(!this.isDetached){var r=hf(n),a=r.clientX,i=r.clientY,s=r.pageX,c=r.pageY,d=this.container(),h,g;if(!(n.which===3||n.button===2||!BW(d,a,i))){if(!this.globalMouse&&d&&!sh(d,n.target)){var m=zW(0),w=m.top,b=m.left,T=m.bottom,E=m.right;if(g=Iu(d),h=n2({top:g.top-w,left:g.left-b,bottom:g.bottom+T,right:g.right+E},{top:c,left:s}),!h)return}var M=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:s,y:c,clientX:a,clientY:i});if(M!==!1)switch(n.type){case"mousedown":this._removeEndListener=Fr("mouseup",this._handleTerminatingEvent),this._onEscListener=Fr("keydown",this._handleTerminatingEvent),this._removeMoveListener=Fr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Fr("touchend",this._handleTerminatingEvent),this._removeMoveListener=Fr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,a=this.validContainers;return!a||!a.length||!r?!0:a.some(function(i){return!!r.closest(i)})}},{key:"_handleTerminatingEvent",value:function(n){var r=hf(n),a=r.pageX,i=r.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var s=!this.container||sh(this.container(),n.target),c=this._isWithinValidContainer(n),d=this._selectRect,h=this.isClick(a,i);return this._initialEventData=null,n.key==="Escape"||!c?this.emit("reset"):h&&s?this._handleClickEvent(n):h?this.emit("reset"):this.emit("select",d)}}},{key:"_handleClickEvent",value:function(n){var r=hf(n),a=r.pageX,i=r.pageY,s=r.clientX,c=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<VW?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:s,clientY:c})):(this._lastClickData={timestamp:d},this.emit("click",{x:a,y:i,clientX:s,clientY:c}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,a=r.x,i=r.y,s=hf(n),c=s.pageX,d=s.pageY,h=Math.abs(a-c),g=Math.abs(i-d),m=Math.min(c,a),w=Math.min(d,i),b=this.selecting;this.isClick(c,d)&&!b&&!(h||g)||(this.selecting=!0,this._selectRect={top:w,left:m,x:c,y:d,right:m+h,bottom:w+g},b||this.emit("selectStart",this._initialEventData),this.isClick(c,d)||this.emit("selecting",this._selectRect),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var a=this._initialEventData,i=a.x,s=a.y,c=a.isTouch;return!c&&Math.abs(n-i)<=t2&&Math.abs(r-s)<=t2}}]),e}();function zW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return us(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function n2(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Iu(e),a=r.top,i=r.left,s=r.right,c=s===void 0?i:s,d=r.bottom,h=d===void 0?a:d,g=Iu(t),m=g.top,w=g.left,b=g.right,T=b===void 0?w:b,E=g.bottom,M=E===void 0?m:E;return!(h-n<m||a+n>M||c-n<w||i+n>T)}function Iu(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+r2("left"),r=t.top+r2("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function r2(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var $W=function(e){Kr(t,e);function t(n,r){var a;return sr(this,t),a=Gr(this,t,[n,r]),a.state={selecting:!1},a.containerRef=A.createRef(),a}return lr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,a=r.range,i=r.getNow,s=r.getters,c=r.date,d=r.components.dateCellWrapper,h=r.localizer,g=this.state,m=g.selecting,w=g.startIdx,b=g.endIdx,T=i();return Q.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(E,M){var k=m&&M>=w&&M<=b,I=s.dayProp(E),B=I.className,N=I.style;return Q.createElement(d,{key:M,value:E,range:a},Q.createElement("div",{style:N,className:$n("rbc-day-bg",B,k&&"rbc-selected-cell",h.isSameDate(E,T)&&"rbc-today",c&&h.neq(c,E,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,a=this.containerRef.current,i=this._selector=new m4(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(d,h){if(!gv(a,d)&&!UW(a,d)){var g=Iu(a),m=r.props,w=m.range,b=m.rtl;if(RW(g,d)){var T=p4(g,d.x,b,w.length);r._selectSlot({startIdx:T,endIdx:T,action:h,box:d})}}r._initial={},r.setState({selecting:!1})};i.on("selecting",function(c){var d=r.props,h=d.range,g=d.rtl,m=-1,w=-1;if(r.state.selecting||(hn(r.props.onSelectStart,[c]),r._initial={x:c.x,y:c.y}),i.isSelected(a)){var b=Iu(a),T=LW(r._initial,b,c,h.length,g);m=T.startIdx,w=T.endIdx}r.setState({selecting:!0,startIdx:m,endIdx:w})}),i.on("beforeSelect",function(c){if(r.props.selectable==="ignoreEvents")return!gv(r.containerRef.current,c)}),i.on("click",function(c){return s(c,"click")}),i.on("doubleClick",function(c){return s(c,"doubleClick")}),i.on("select",function(c){r._selectSlot(Xt(Xt({},r.state),{},{action:"select",bounds:c})),r._initial={},r.setState({selecting:!1}),hn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var a=r.endIdx,i=r.startIdx,s=r.action,c=r.bounds,d=r.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:s,bounds:c,box:d,resourceId:this.props.resourceId})}}]),t}(Q.Component),Di={propTypes:{slotMetrics:Ne.object.isRequired,selected:Ne.object,isAllDay:Ne.bool,accessors:Ne.object.isRequired,localizer:Ne.object.isRequired,components:Ne.object.isRequired,getters:Ne.object.isRequired,onSelect:Ne.func,onDoubleClick:Ne.func,onKeyPress:Ne.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,s=t.onSelect,c=t.onDoubleClick,d=t.onKeyPress,h=t.localizer,g=t.slotMetrics,m=t.components,w=t.resizable,b=g.continuesPrior(n),T=g.continuesAfter(n);return Q.createElement(f4,{event:n,getters:i,localizer:h,accessors:a,components:m,onSelect:s,onDoubleClick:c,onKeyPress:d,continuesPrior:b,continuesAfter:T,slotStart:g.first,slotEnd:g.last,selected:Zv(n,r),resizable:w})},renderSpan:function(t,n,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(n)/t*100+"%";return Q.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},g4=function(e){Kr(t,e);function t(){return sr(this,t),Gr(this,t,arguments)}return lr(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.segments,s=a.slotMetrics.slots,c=a.className,d=1;return Q.createElement("div",{className:$n(c,"rbc-row")},i.reduce(function(h,g,m){var w=g.event,b=g.left,T=g.right,E=g.span,M="_lvl_"+m,k=b-d,I=Di.renderEvent(r.props,w);return k&&h.push(Di.renderSpan(s,k,"".concat(M,"_gap"))),h.push(Di.renderSpan(s,E,M,I)),d=T+1,h},[]))}}]),t}(Q.Component);g4.defaultProps=Xt({},Di.defaultProps);function v4(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function qW(e,t,n,r){var a=v4({dateRange:t,localizer:r}),i=a.first,s=a.last,c=r.diff(i,s,"day"),d=r.max(r.startOf(n.start(e),"day"),i),h=r.min(r.ceil(n.end(e),"day"),s),g=JY(t,function(w){return r.isSameDate(w,d)}),m=r.diff(d,h,"day");return m=Math.min(m,c),m=Math.max(m-r.segmentOffset,1),{event:e,span:m,left:g+1,right:Math.max(g+m,1)}}function y4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,a,i=[],s=[];for(n=0;n<e.length;n++){for(a=e[n],r=0;r<i.length&&WW(a,i[r]);r++);r>=t?s.push(a):(i[r]||(i[r]=[])).push(a)}for(n=0;n<i.length;n++)i[n].sort(function(c,d){return c.left-d.left});return{levels:i,extra:s}}function lh(e,t,n,r,a){var i={start:r.start(e),end:r.end(e)},s={start:t,end:n};return a.inEventRange({event:i,range:s})}function WW(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function GW(e,t,n){var r=$g(e),a=[],i=[];r.forEach(function(d){var h=t.start(d),g=t.end(d);n.daySpan(h,g)>1?a.push(d):i.push(d)});var s=a.sort(function(d,h){return R1(d,h,t,n)}),c=i.sort(function(d,h){return R1(d,h,t,n)});return[].concat($g(s),$g(c))}function R1(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:i})}var w4=function(t,n){return t.left<=n&&t.right>=n},a2=function(t,n){return t.filter(function(r){return w4(r,n)}).map(function(r){return r.event})},b4=function(e){Kr(t,e);function t(){return sr(this,t),Gr(this,t,arguments)}return lr(t,[{key:"render",value:function(){for(var r=this.props,a=r.segments,i=r.slotMetrics.slots,s=y4(a).levels[0],c=1,d=1,h=[];c<=i;){var g="_lvl_"+c,m=s.filter(function(I){return w4(I,c)})[0]||{},w=m.event,b=m.left,T=m.right,E=m.span;if(!w){c++;continue}var M=Math.max(0,b-d);if(this.canRenderSlotEvent(b,E)){var k=Di.renderEvent(this.props,w);M&&h.push(Di.renderSpan(i,M,g+"_gap")),h.push(Di.renderSpan(i,E,g,k)),d=c=T+1}else M&&h.push(Di.renderSpan(i,M,g+"_gap")),h.push(Di.renderSpan(i,1,g,this.renderShowMore(a,c))),d=c+=1}return Q.createElement("div",{className:"rbc-row"},h)}},{key:"canRenderSlotEvent",value:function(r,a){var i=this.props.segments;return cH(r,r+a).every(function(s){var c=a2(i,s).length;return c===1})}},{key:"renderShowMore",value:function(r,a){var i=this,s=this.props,c=s.localizer,d=s.slotMetrics,h=d.getEventsForSlot(a),g=a2(r,a),m=g.length;return m?Q.createElement("button",{type:"button",key:"sm_"+a,className:$n("rbc-button-link","rbc-show-more"),onClick:function(b){return i.showMore(a,b)}},c.messages.showMore(m,g,h)):!1}},{key:"showMore",value:function(r,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(r,a.target)}}]),t}(Q.Component);b4.defaultProps=Xt({},Di.defaultProps);var KW=function(t){var n=t.children;return Q.createElement("div",{className:"rbc-row-content-scroll-container"},n)},QW=function(t,n){return t.left<=n&&t.right>=n},ZW=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function D4(){return $T(function(e){for(var t=e.range,n=e.events,r=e.maxRows,a=e.minRows,i=e.accessors,s=e.localizer,c=v4({dateRange:t,localizer:s}),d=c.first,h=c.last,g=n.map(function(E){return qW(E,t,i,s)}),m=y4(g,Math.max(r-1,1)),w=m.levels,b=m.extra,T=b.length>0?a-1:a;w.length<T;)w.push([]);return{first:d,last:h,levels:w,extra:b,range:t,slots:t.length,clone:function(M){var k=D4();return k(Xt(Xt({},e),M))},getDateForSlot:function(M){return t[M]},getSlotForDate:function(M){return t.find(function(k){return s.isSameDate(k,M)})},getEventsForSlot:function(M){return g.filter(function(k){return QW(k,M)}).map(function(k){return k.event})},continuesPrior:function(M){return s.continuesPrior(i.start(M),d)},continuesAfter:function(M){var k=i.start(M),I=i.end(M);return s.continuesAfter(k,I,h)}}},ZW)}var vv=function(e){Kr(t,e);function t(){var n;sr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Gr(this,t,[].concat(a)),n.handleSelectSlot=function(s){var c=n.props,d=c.range,h=c.onSelectSlot;h(d.slice(s.start,s.end+1),s)},n.handleShowMore=function(s,c){var d=n.props,h=d.range,g=d.onShowMore,m=n.slotMetrics(n.props),w=XA(n.containerRef.current,".rbc-row-bg")[0],b;w&&(b=w.children[s-1]);var T=m.getEventsForSlot(s);g(T,h[s-1],b,s,c)},n.getContainer=function(){var s=n.props.container;return s?s():n.containerRef.current},n.renderHeadingCell=function(s,c){var d=n.props,h=d.renderHeader,g=d.getNow,m=d.localizer;return h({date:s,key:"header_".concat(c),className:$n("rbc-date-cell",m.isSameDate(s,g())&&"rbc-now")})},n.renderDummy=function(){var s=n.props,c=s.className,d=s.range,h=s.renderHeader,g=s.showAllEvents;return Q.createElement("div",{className:c,ref:n.containerRef},Q.createElement("div",{className:$n("rbc-row-content",g&&"rbc-row-content-scrollable")},h&&Q.createElement("div",{className:"rbc-row",ref:n.headingRowRef},d.map(n.renderHeadingCell)),Q.createElement("div",{className:"rbc-row",ref:n.eventRowRef},Q.createElement("div",{className:"rbc-row-segment"},Q.createElement("div",{className:"rbc-event"},Q.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=A.createRef(),n.headingRowRef=A.createRef(),n.eventRowRef=A.createRef(),n.slotMetrics=D4(),n}return lr(t,[{key:"getRowLimit",value:function(){var r,a=L0(this.eventRowRef.current),i=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?L0(this.headingRowRef.current):0,s=L0(this.containerRef.current)-i;return Math.max(Math.floor(s/a),1)}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.rtl,s=r.range,c=r.className,d=r.selected,h=r.selectable,g=r.renderForMeasure,m=r.accessors,w=r.getters,b=r.components,T=r.getNow,E=r.renderHeader,M=r.onSelect,k=r.localizer,I=r.onSelectStart,B=r.onSelectEnd,N=r.onDoubleClick,j=r.onKeyPress,R=r.resourceId,_=r.longPressThreshold,$=r.isAllDay,q=r.resizable,z=r.showAllEvents;if(g)return this.renderDummy();var ee=this.slotMetrics(this.props),ie=ee.levels,ae=ee.extra,me=z?KW:rs,fe=b.weekWrapper,be={selected:d,accessors:m,getters:w,localizer:k,components:b,onSelect:M,onDoubleClick:N,onKeyPress:j,resourceId:R,slotMetrics:ee,resizable:q};return Q.createElement("div",{className:c,role:"rowgroup",ref:this.containerRef},Q.createElement($W,{localizer:k,date:a,getNow:T,rtl:i,range:s,selectable:h,container:this.getContainer,getters:w,onSelectStart:I,onSelectEnd:B,onSelectSlot:this.handleSelectSlot,components:b,longPressThreshold:_,resourceId:R}),Q.createElement("div",{className:$n("rbc-row-content",z&&"rbc-row-content-scrollable"),role:"row"},E&&Q.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),Q.createElement(me,null,Q.createElement(fe,Object.assign({isAllDay:$},be,{rtl:this.props.rtl}),ie.map(function(Te,J){return Q.createElement(g4,Object.assign({key:J,segments:Te},be))}),!!ae.length&&Q.createElement(b4,Object.assign({segments:ae,onShowMore:this.handleShowMore},be))))))}}]),t}(Q.Component);vv.defaultProps={minRows:0,maxRows:1/0};var S4=function(t){var n=t.label;return Q.createElement("span",{role:"columnheader","aria-sort":"none"},n)},JW=function(t){var n=t.label,r=t.drilldownView,a=t.onDrillDown;return r?Q.createElement("button",{type:"button",className:"rbc-button-link",onClick:a,role:"cell"},n):Q.createElement("span",null,n)},XW=["date","className"],eG=function(t,n,r,a,i){return t.filter(function(s){return lh(s,n,r,a,i)})},Jv=function(e){Kr(t,e);function t(){var n;sr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Gr(this,t,[].concat(a)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(s,c){var d=n.props,h=d.events,g=d.components,m=d.selectable,w=d.getNow,b=d.selected,T=d.date,E=d.localizer,M=d.longPressThreshold,k=d.accessors,I=d.getters,B=d.showAllEvents,N=n.state,j=N.needLimitMeasure,R=N.rowLimit,_=eG($g(h),s[0],s[s.length-1],k,E),$=GW(_,k,E);return Q.createElement(vv,{key:c,ref:c===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:w,date:T,range:s,events:$,maxRows:B?1/0:R,selected:b,selectable:m,components:g,accessors:k,getters:I,localizer:E,renderHeader:n.readerDateHeading,renderForMeasure:j,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:M,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:B})},n.readerDateHeading=function(s){var c=s.date,d=s.className,h=Ci(s,XW),g=n.props,m=g.date,w=g.getDrilldownView,b=g.localizer,T=b.neq(c,m,"month"),E=b.isSameDate(c,m),M=w(c),k=b.format(c,"dateFormat"),I=n.props.components.dateHeader||JW;return Q.createElement("div",Object.assign({},h,{className:$n(d,T&&"rbc-off-range",E&&"rbc-current"),role:"cell"}),Q.createElement(I,{label:k,date:c,drilldownView:M,isOffRange:T,onDrillDown:function(N){return n.handleHeadingClick(c,M,N)}}))},n.handleSelectSlot=function(s,c){n._pendingSelection=n._pendingSelection.concat(s),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(c)})},n.handleHeadingClick=function(s,c,d){d.preventDefault(),n.clearSelection(),hn(n.props.onDrillDown,[s,c])},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onKeyPressEvent,c)},n.handleShowMore=function(s,c,d,h,g){var m=n.props,w=m.popup,b=m.onDrillDown,T=m.onShowMore,E=m.getDrilldownView,M=m.doShowMoreDrillDown;if(n.clearSelection(),w){var k=xT(d,n.containerRef.current);n.setState({overlay:{date:c,events:s,position:k,target:g}})}else M&&hn(b,[c,E(c)||qr.DAY]);hn(T,[s,c,h])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=A.createRef(),n.slotRowRef=A.createRef(),n._bgRows=[],n._pendingSelection=[],n}return lr(t,[{key:"componentDidMount",value:function(){var r=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||MT(function(){a=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,s=r.className,c=i.visibleDays(a,i),d=PA(c,7);return this._weekCount=d.length,Q.createElement("div",{className:$n("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},Q.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var a=this.props,i=a.localizer,s=a.components,c=r[0],d=r[r.length-1],h=s.header||S4;return i.range(c,d,"day").map(function(g,m){return Q.createElement("div",{key:"header_"+m,className:"rbc-header"},Q.createElement(h,{date:g,localizer:i,label:i.format(g,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,a,i=this,s=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},c=this.props,d=c.accessors,h=c.localizer,g=c.components,m=c.getters,w=c.selected,b=c.popupOffset,T=c.handleDragStart,E=function(){return i.setState({overlay:null})};return Q.createElement(Gw,{overlay:s,accessors:d,localizer:h,components:g,getters:m,selected:w,popupOffset:b,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:T,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:E})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(c,d){return+c-+d});var i=new Date(a[0]),s=new Date(a[a.length-1]);s.setDate(a[a.length-1].getDate()+1),hn(this.props.onSelectSlot,{slots:a,start:i,end:s,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,a){var i=r.date,s=r.localizer;return{date:i,needLimitMeasure:s.neq(i,a.date,"month")}}}]),t}(Q.Component);Jv.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),a=n.lastVisibleDay(e,n);return{start:r,end:a}};Jv.navigate=function(e,t,n){var r=n.localizer;switch(t){case ga.PREVIOUS:return r.add(e,-1,"month");case ga.NEXT:return r.add(e,1,"month");default:return e}};Jv.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var o2=function(t){var n=t.min,r=t.max,a=t.step,i=t.slots,s=t.localizer;return"".concat(+s.startOf(n,"minutes"))+"".concat(+s.startOf(r,"minutes"))+"".concat(a,"-").concat(i)};function Kw(e){for(var t=e.min,n=e.max,r=e.step,a=e.timeslots,i=e.localizer,s=o2({start:t,end:n,step:r,timeslots:a,localizer:i}),c=1+i.getTotalMin(t,n),d=i.getMinutesFromMidnight(t),h=Math.ceil((c-1)/(r*a)),g=h*a,m=new Array(h),w=new Array(g),b=0;b<h;b++){m[b]=new Array(a);for(var T=0;T<a;T++){var E=b*a+T,M=E*r;w[E]=m[b][T]=i.getSlotDate(t,d,M)}}var k=w.length*r;w.push(i.getSlotDate(t,d,k));function I(B){var N=i.diff(t,B,"minutes")+i.getDstOffset(t,B);return Math.min(N,c)}return{groups:m,update:function(N){return o2(N)!==s?Kw(N):this},dateIsInGroup:function(N,j){var R=m[j+1];return i.inRange(N,m[j][0],R?R[0]:n,"minutes")},nextSlot:function(N){var j=w[Math.min(w.indexOf(N)+1,w.length-1)];return j===N&&(j=i.add(N,r,"minutes")),j},closestSlotToPosition:function(N){var j=Math.min(w.length-1,Math.max(0,Math.floor(N*g)));return w[j]},closestSlotFromPoint:function(N,j){var R=Math.abs(j.top-j.bottom);return this.closestSlotToPosition((N.y-j.top)/R)},closestSlotFromDate:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(N,t,"minutes"))return w[0];if(i.gt(N,n,"minutes"))return w[w.length-1];var R=i.diff(t,N,"minutes");return w[(R-R%r)/r+j]},startsBeforeDay:function(N){return i.lt(N,t,"day")},startsAfterDay:function(N){return i.gt(N,n,"day")},startsBefore:function(N){return i.lt(i.merge(t,N),t,"minutes")},startsAfter:function(N){return i.gt(i.merge(n,N),n,"minutes")},getRange:function(N,j,R,_){R||(N=i.min(n,i.max(t,N))),_||(j=i.min(n,i.max(t,j)));var $=I(N),q=I(j),z=q>r*g&&!i.eq(n,j)?($-r)/(r*g)*100:$/(r*g)*100;return{top:z,height:q/(r*g)*100-z,start:I(N),startDate:N,end:I(j),endDate:j}},getCurrentTimePosition:function(N){var j=I(N),R=j/(r*g)*100;return R}}}var tG=function(){function e(t,n){var r=n.accessors,a=n.slotMetrics;sr(this,e);var i=a.getRange(r.start(t),r.end(t)),s=i.start,c=i.startDate,d=i.end,h=i.endDate,g=i.top,m=i.height;this.start=s,this.end=d,this.startMs=+c,this.endMs=+h,this.top=g,this.height=m,this.data=t}return lr(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,a=n.xOffset,i=n._width,s=r.indexOf(this)+1;return a+s*i}}]),e}();function nG(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function rG(e){for(var t=NU(e,["startMs",function(c){return-c.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a++){var i=t[a];if(!(r.endMs>i.startMs)){if(a>0){var s=t.splice(a,1)[0];n.push(s)}break}}}return n}function E4(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,i=t.map(function(g){return new tG(g,{slotMetrics:r,accessors:a})}),s=rG(i),c=[],d=function(){var m=s[h],w=c.find(function(E){return E.end>m.start||Math.abs(m.start-E.start)<n});if(!w)return m.rows=[],c.push(m),1;m.container=w;for(var b=null,T=w.rows.length-1;!b&&T>=0;T--)nG(w.rows[T],m,n)&&(b=w.rows[T]);b?(b.leaves.push(m),m.row=b):(m.leaves=[],w.rows.push(m))},h=0;h<s.length;h++)d();return s.map(function(g){return{event:g.data,style:{top:g.top,height:g.height,width:g.width,xOffset:Math.max(0,g.xOffset)}}})}function T4(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var a=T4(e.friends[r],t,n);t=t>a?t:a}return t}function aG(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,i=E4({events:t,minimumStartDifference:n,slotMetrics:r,accessors:a});i.sort(function(fe,be){return fe=fe.style,be=be.style,fe.top!==be.top?fe.top>be.top?1:-1:fe.height!==be.height?fe.top+fe.height<be.top+be.height?1:-1:0});for(var s=0;s<i.length;++s)i[s].friends=[],delete i[s].style.left,delete i[s].style.left,delete i[s].idx,delete i[s].size;for(var c=0;c<i.length-1;++c)for(var d=i[c],h=d.style.top,g=d.style.top+d.style.height,m=c+1;m<i.length;++m){var w=i[m],b=w.style.top,T=w.style.top+w.style.height;(b>=h&&T<=g||T>h&&T<=g||b>=h&&b<g)&&(d.friends.push(w),w.friends.push(d))}for(var E=0;E<i.length;++E){for(var M=i[E],k=[],I=0;I<100;++I)k.push(1);for(var B=0;B<M.friends.length;++B)M.friends[B].idx!==void 0&&(k[M.friends[B].idx]=0);M.idx=k.indexOf(1)}for(var N=0;N<i.length;++N){var j=0;if(!i[N].size){var R=[],_=T4(i[N],0,R);j=100/(_+1),i[N].size=j;for(var $=0;$<R.length;++$)R[$].size=j}}for(var q=0;q<i.length;++q){var z=i[q];z.style.left=z.idx*z.size;for(var ee=0,ie=0;ie<z.friends.length;++ie){var ae=z.friends[ie].idx;ee=ee>ae?ee:ae}ee<=z.idx&&(z.size=100-z.idx*z.size);var me=z.idx===0?0:3;z.style.width="calc(".concat(z.size,"% - ").concat(me,"px)"),z.style.height="calc(".concat(z.style.height,"% - 2px)"),z.style.xOffset="calc(".concat(z.style.left,"% + ").concat(me,"px)")}return i}var i2={overlap:E4,"no-overlap":aG};function oG(e){return!!(e&&e.constructor&&e.call&&e.apply)}function iG(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in i2&&(n=i2[t]),oG(n)?n.apply(this,arguments):[]}var C4=function(e){Kr(t,e);function t(){return sr(this,t),Gr(this,t,arguments)}return lr(t,[{key:"render",value:function(){var r=this.props,a=r.renderSlot,i=r.resource,s=r.group,c=r.getters,d=r.components,h=d===void 0?{}:d,g=h.timeSlotWrapper,m=g===void 0?rs:g,w=c?c.slotGroupProp(s):{};return Q.createElement("div",Object.assign({className:"rbc-timeslot-group"},w),s.map(function(b,T){var E=c?c.slotProp(b,i):{};return Q.createElement(m,{key:T,value:b,resource:i},Q.createElement("div",Object.assign({},E,{className:$n("rbc-time-slot",E.className)}),a&&a(b,T)))}))}}]),t}(A.Component);function Mg(e){return typeof e=="string"?e:e+"%"}function sG(e){var t=e.style,n=e.className,r=e.event,a=e.accessors,i=e.rtl,s=e.selected,c=e.label,d=e.continuesPrior,h=e.continuesAfter,g=e.getters,m=e.onClick,w=e.onDoubleClick,b=e.isBackgroundEvent,T=e.onKeyPress,E=e.components,M=E.event,k=E.eventWrapper,I=a.title(r),B=a.tooltip(r),N=a.end(r),j=a.start(r),R=g.eventProp(r,j,N,s),_=[Q.createElement("div",{key:"1",className:"rbc-event-label"},c),Q.createElement("div",{key:"2",className:"rbc-event-content"},M?Q.createElement(M,{event:r,title:I}):I)],$=t.height,q=t.top,z=t.width,ee=t.xOffset,ie=Xt(Xt({},R.style),{},yu({top:Mg(q),height:Mg($),width:Mg(z)},i?"right":"left",Mg(ee)));return Q.createElement(k,Object.assign({type:"time"},e),Q.createElement("div",{role:"button",tabIndex:0,onClick:m,onDoubleClick:w,style:ie,onKeyDown:T,title:B?(typeof c=="string"?c+": ":"")+B:void 0,className:$n(b?"rbc-background-event":"rbc-event",n,R.className,{"rbc-selected":s,"rbc-event-continues-earlier":d,"rbc-event-continues-later":h})},_))}var lG=function(t){var n=t.children,r=t.className,a=t.style,i=t.innerRef;return Q.createElement("div",{className:r,style:a,ref:i},n)},uG=Q.forwardRef(function(e,t){return Q.createElement(lG,Object.assign({},e,{innerRef:t}))}),cG=["dayProp"],fG=["eventContainerWrapper"],x4=function(e){Kr(t,e);function t(){var n;sr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Gr(this,t,[].concat(a)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(s){var c=s.events,d=s.isBackgroundEvent,h=n.props,g=h.rtl,m=h.selected,w=h.accessors,b=h.localizer,T=h.getters,E=h.components,M=h.step,k=h.timeslots,I=h.dayLayoutAlgorithm,B=h.resizable,N=tT(n),j=N.slotMetrics,R=b.messages,_=iG({events:c,accessors:w,slotMetrics:j,minimumStartDifference:Math.ceil(M*k/2),dayLayoutAlgorithm:I});return _.map(function($,q){var z=$.event,ee=$.style,ie=w.end(z),ae=w.start(z),me="eventTimeRangeFormat",fe,be=j.startsBeforeDay(ae),Te=j.startsAfterDay(ie);be?me="eventTimeRangeEndFormat":Te&&(me="eventTimeRangeStartFormat"),be&&Te?fe=R.allDay:fe=b.format({start:ae,end:ie},me);var J=be||j.startsBefore(ae),ve=Te||j.startsAfter(ie);return Q.createElement(sG,{style:ee,event:z,label:fe,key:"evt_"+q,getters:T,rtl:g,components:E,continuesPrior:J,continuesAfter:ve,accessors:w,resource:n.props.resource,selected:Zv(z,m),onClick:function(G){return n._select(Xt(Xt(Xt({},z),n.props.resource&&{sourceResource:n.props.resource}),d&&{isBackgroundEvent:!0}),G)},onDoubleClick:function(G){return n._doubleClick(z,G)},isBackgroundEvent:d,onKeyPress:function(G){return n._keyPress(z,G)},resizable:B})})},n._selectable=function(){var s=n.containerRef.current,c=n.props,d=c.longPressThreshold,h=c.localizer,g=n._selector=new m4(function(){return s},{longPressThreshold:d}),m=function(E){var M=n.props.onSelecting,k=n.state||{},I=w(E),B=I.startDate,N=I.endDate;M&&(h.eq(k.startDate,B,"minutes")&&h.eq(k.endDate,N,"minutes")||M({start:B,end:N,resourceId:n.props.resource})===!1)||(n.state.start!==I.start||n.state.end!==I.end||n.state.selecting!==I.selecting)&&n.setState(I)},w=function(E){var M=n.slotMetrics.closestSlotFromPoint(E,Iu(s));n.state.selecting||(n._initialSlot=M);var k=n._initialSlot;h.lte(k,M)?M=n.slotMetrics.nextSlot(M):h.gt(k,M)&&(k=n.slotMetrics.nextSlot(k));var I=n.slotMetrics.getRange(h.min(k,M),h.max(k,M));return Xt(Xt({},I),{},{selecting:!0,top:"".concat(I.top,"%"),height:"".concat(I.height,"%")})},b=function(E,M){if(!gv(n.containerRef.current,E)){var k=w(E),I=k.startDate,B=k.endDate;n._selectSlot({startDate:I,endDate:B,action:M,box:E})}n.setState({selecting:!1})};g.on("selecting",m),g.on("selectStart",m),g.on("beforeSelect",function(T){if(n.props.selectable==="ignoreEvents")return!gv(n.containerRef.current,T)}),g.on("click",function(T){return b(T,"click")}),g.on("doubleClick",function(T){return b(T,"doubleClick")}),g.on("select",function(T){n.state.selecting&&(n._selectSlot(Xt(Xt({},n.state),{},{action:"select",bounds:T})),n.setState({selecting:!1}))}),g.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(s){for(var c=s.startDate,d=s.endDate,h=s.action,g=s.bounds,m=s.box,w=c,b=[];n.props.localizer.lte(w,d);)b.push(w),w=new Date(+w+n.props.step*60*1e3);hn(n.props.onSelectSlot,{slots:b,start:c,end:d,resourceId:n.props.resource,action:h,bounds:g,box:m})},n._select=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onSelectEvent,c)},n._doubleClick=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onDoubleClickEvent,c)},n._keyPress=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onKeyPressEvent,c)},n.slotMetrics=Kw(n.props),n.containerRef=A.createRef(),n}return lr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,a){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(this.props);var i=this.props,s=i.getNow,c=i.isNow,d=i.localizer,h=i.date,g=i.min,m=i.max,w=d.neq(r.getNow(),s(),"minutes");if(r.isNow!==c||w){if(this.clearTimeIndicatorInterval(),c){var b=!w&&d.eq(r.date,h,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(b)}}else c&&(d.neq(r.min,g,"minutes")||d.neq(r.max,m,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,a=r.min,i=r.max,s=r.getNow,c=s();if(c>=a&&c<=i){var d=this.slotMetrics.getCurrentTimePosition(c);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.max,s=r.rtl,c=r.isNow,d=r.resource,h=r.accessors,g=r.localizer,m=r.getters,w=m.dayProp,b=Ci(m,cG),T=r.components,E=T.eventContainerWrapper,M=Ci(T,fG),k=this.slotMetrics,I=this.state,B=I.selecting,N=I.top,j=I.height,R=I.startDate,_=I.endDate,$={start:R,end:_},q=w(i),z=q.className,ee=q.style,ie=M.dayColumnWrapper||uG;return Q.createElement(ie,{ref:this.containerRef,date:a,style:ee,className:$n(z,"rbc-day-slot","rbc-time-column",c&&"rbc-now",c&&"rbc-today",B&&"rbc-slot-selecting"),slotMetrics:k},k.groups.map(function(ae,me){return Q.createElement(C4,{key:me,group:ae,resource:d,getters:b,components:M})}),Q.createElement(E,{localizer:g,resource:d,accessors:h,getters:b,components:M,slotMetrics:k},Q.createElement("div",{className:$n("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),B&&Q.createElement("div",{className:"rbc-slot-selection",style:{top:N,height:j}},Q.createElement("span",null,g.format($,"selectRangeFormat"))),c&&this.intervalTriggered&&Q.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(Q.Component);x4.defaultProps={dragThroughEvents:!0,timeslots:2};function dG(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var pG=function(t){var n=t.min,r=t.max,a=t.timeslots,i=t.step,s=t.localizer,c=t.getNow,d=t.resource,h=t.components,g=t.getters,m=t.gutterRef,w=h.timeGutterWrapper,b=A.useMemo(function(){return dG({min:n,max:r,localizer:s})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),s]),T=b.start,E=b.end,M=A.useState(Kw({min:T,max:E,timeslots:a,step:i,localizer:s})),k=os(M,2),I=k[0],B=k[1];A.useEffect(function(){I&&B(I.update({min:T,max:E,timeslots:a,step:i,localizer:s}))},[T==null?void 0:T.toISOString(),E==null?void 0:E.toISOString(),a,i]);var N=A.useCallback(function(j,R){if(R)return null;var _=I.dateIsInGroup(c(),R);return Q.createElement("span",{className:$n("rbc-label",_&&"rbc-now")},s.format(j,"timeGutterFormat"))},[I,s,c]);return Q.createElement(w,{slotMetrics:I},Q.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:m},I.groups.map(function(j,R){return Q.createElement(C4,{key:R,group:j,resource:d,components:h,renderSlot:N,getters:g})})))},hG=Q.forwardRef(function(e,t){return Q.createElement(pG,Object.assign({gutterRef:t},e))}),mG=function(t){var n=t.label;return Q.createElement(Q.Fragment,null,n)},gG=function(e){Kr(t,e);function t(){var n;sr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Gr(this,t,[].concat(a)),n.handleHeaderClick=function(s,c,d){d.preventDefault(),hn(n.props.onDrillDown,[s,c])},n.renderRow=function(s){var c=n.props,d=c.events,h=c.rtl,g=c.selectable,m=c.getNow,w=c.range,b=c.getters,T=c.localizer,E=c.accessors,M=c.components,k=c.resizable,I=E.resourceId(s),B=s?d.filter(function(N){return E.resource(N)===I}):d;return Q.createElement(vv,{isAllDay:!0,rtl:h,getNow:m,minRows:2,maxRows:n.props.allDayMaxRows+1,range:w,events:B,resourceId:I,className:"rbc-allday-cell",selectable:g,selected:n.props.selected,components:M,accessors:E,getters:b,localizer:T,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:k})},n}return lr(t,[{key:"renderHeaderCells",value:function(r){var a=this,i=this.props,s=i.localizer,c=i.getDrilldownView,d=i.getNow,h=i.getters.dayProp,g=i.components.header,m=g===void 0?S4:g,w=d();return r.map(function(b,T){var E=c(b),M=s.format(b,"dayFormat"),k=h(b),I=k.className,B=k.style,N=Q.createElement(m,{date:b,label:M,localizer:s});return Q.createElement("div",{key:T,style:B,className:$n("rbc-header",I,s.isSameDate(b,w)&&"rbc-today")},E?Q.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(R){return a.handleHeaderClick(b,E,R)}},N):Q.createElement("span",null,N))})}},{key:"render",value:function(){var r=this,a=this.props,i=a.width,s=a.rtl,c=a.resources,d=a.range,h=a.events,g=a.getNow,m=a.accessors,w=a.selectable,b=a.components,T=a.getters,E=a.scrollRef,M=a.localizer,k=a.isOverflowing,I=a.components,B=I.timeGutterHeader,N=I.resourceHeader,j=N===void 0?mG:N,R=a.resizable,_={};k&&(_[s?"marginLeft":"marginRight"]="".concat(kT()-1,"px"));var $=c.groupEvents(h);return Q.createElement("div",{style:_,ref:E,className:$n("rbc-time-header",k&&"rbc-overflowing")},Q.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},B&&Q.createElement(B,null)),c.map(function(q,z){var ee=os(q,2),ie=ee[0],ae=ee[1];return Q.createElement("div",{className:"rbc-time-header-content",key:ie||z},ae&&Q.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(z)},Q.createElement("div",{className:"rbc-header"},Q.createElement(j,{index:z,label:m.resourceTitle(ae),resource:ae}))),Q.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),Q.createElement(vv,{isAllDay:!0,rtl:s,getNow:g,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:$.get(ie)||[],resourceId:ae&&ie,className:"rbc-allday-cell",selectable:w,selected:r.props.selected,components:b,accessors:m,getters:T,localizer:M,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:R}))}))}}]),t}(Q.Component),j0={};function vG(e,t){return{map:function(r){return e?e.map(function(a,i){return r([t.resourceId(a),a],i)}):[r([j0,null],0)]},groupEvents:function(r){var a=new Map;return e?(r.forEach(function(i){var s=t.resource(i)||j0;if(Array.isArray(s))s.forEach(function(d){var h=a.get(d)||[];h.push(i),a.set(d,h)});else{var c=a.get(s)||[];c.push(i),a.set(s,c)}}),a):(a.set(j0,r),a)}}}var Xf=function(e){Kr(t,e);function t(n){var r;return sr(this,t),r=Gr(this,t,[n]),r.handleScroll=function(a){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=a.target.scrollLeft)},r.handleResize=function(){eS(r.rafHandle),r.rafHandle=MT(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];hn(r.props.onKeyPressEvent,i)},r.handleSelectEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];hn(r.props.onSelectEvent,i)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];hn(r.props.onDoubleClickEvent,i)},r.handleShowMore=function(a,i,s,c,d){var h=r.props,g=h.popup,m=h.onDrillDown,w=h.onShowMore,b=h.getDrilldownView,T=h.doShowMoreDrillDown;if(r.clearSelection(),g){var E=xT(s,r.containerRef.current);r.setState({overlay:{date:i,events:a,position:Xt(Xt({},E),{},{width:"200px"}),target:d}})}else T&&hn(m,[i,b(i)||qr.DAY]);hn(w,[a,i,c])},r.handleSelectAllDaySlot=function(a,i){var s=r.props.onSelectSlot,c=new Date(a[0]),d=new Date(a[a.length-1]);d.setDate(a[a.length-1].getDate()+1),hn(s,{slots:a,start:c,end:d,action:i.action,resourceId:i.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var a=r.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;r.state.isOverflowing!==i&&(r._updatingOverflow=!0,r.setState({isOverflowing:i},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=$T(function(a,i){return vG(a,i)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=Q.createRef(),r.contentRef=Q.createRef(),r.containerRef=Q.createRef(),r._scrollRatio=null,r.gutterRef=A.createRef(),r}return lr(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),eS(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,a,i,s){var c=this,d=this.props,h=d.min,g=d.max,m=d.components,w=d.accessors,b=d.localizer,T=d.dayLayoutAlgorithm,E=this.memoizedResources(this.props.resources,w),M=E.groupEvents(a),k=E.groupEvents(i);return E.map(function(I,B){var N=os(I,2),j=N[0],R=N[1];return r.map(function(_,$){var q=(M.get(j)||[]).filter(function(ee){return b.inRange(_,w.start(ee),w.end(ee),"day")}),z=(k.get(j)||[]).filter(function(ee){return b.inRange(_,w.start(ee),w.end(ee),"day")});return Q.createElement(x4,Object.assign({},c.props,{localizer:b,min:b.merge(_,h),max:b.merge(_,g),resource:R&&j,components:m,isNow:b.isSameDate(_,s),key:B+"-"+$,date:_,events:q,backgroundEvents:z,dayLayoutAlgorithm:T}))})})}},{key:"render",value:function(){var r,a=this.props,i=a.events,s=a.backgroundEvents,c=a.range,d=a.width,h=a.rtl,g=a.selected,m=a.getNow,w=a.resources,b=a.components,T=a.accessors,E=a.getters,M=a.localizer,k=a.min,I=a.max,B=a.showMultiDayTimes,N=a.longPressThreshold,j=a.resizable;d=d||this.state.gutterWidth;var R=c[0],_=c[c.length-1];this.slots=c.length;var $=[],q=[],z=[];return i.forEach(function(ee){if(lh(ee,R,_,T,M)){var ie=T.start(ee),ae=T.end(ee);T.allDay(ee)||M.startAndEndAreDateOnly(ie,ae)||!B&&!M.isSameDate(ie,ae)?$.push(ee):q.push(ee)}}),s.forEach(function(ee){lh(ee,R,_,T,M)&&z.push(ee)}),$.sort(function(ee,ie){return R1(ee,ie,T,M)}),Q.createElement("div",{className:$n("rbc-time-view",w&&"rbc-time-view-resources"),ref:this.containerRef},Q.createElement(gG,{range:c,events:$,width:d,rtl:h,getNow:m,localizer:M,selected:g,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(w,T),selectable:this.props.selectable,accessors:T,getters:E,components:b,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:N,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:j}),this.props.popup&&this.renderOverlay(),Q.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Q.createElement(hG,{date:R,ref:this.gutterRef,localizer:M,min:M.merge(R,k),max:M.merge(R,I),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:b,className:"rbc-time-gutter",getters:E}),this.renderEvents(c,q,z,m())))}},{key:"renderOverlay",value:function(){var r,a,i=this,s=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},c=this.props,d=c.accessors,h=c.localizer,g=c.components,m=c.getters,w=c.selected,b=c.popupOffset,T=c.handleDragStart,E=function(){return i.setState({overlay:null})};return Q.createElement(Gw,{overlay:s,accessors:d,localizer:h,components:g,getters:m,selected:w,popupOffset:b,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:T,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:E})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=r.gutterRef)!==null&&a!==void 0&&a.current?A1(r.gutterRef.current):void 0;i&&r.state.gutterWidth!==i&&r.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=r.min,i=r.max,s=r.scrollToTime,c=r.localizer,d=c.diff(c.merge(s,a),s,"milliseconds"),h=c.diff(a,i,"milliseconds");this._scrollRatio=d/h}}]),t}(A.Component);Xf.defaultProps={step:30,timeslots:2};var yG=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Xv=function(e){Kr(t,e);function t(){return sr(this,t),Gr(this,t,arguments)}return lr(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,s=r.min,c=s===void 0?i.startOf(new Date,"day"):s,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,g=r.scrollToTime,m=g===void 0?i.startOf(new Date,"day"):g,w=r.enableAutoScroll,b=w===void 0?!0:w,T=Ci(r,yG),E=t.range(a,{localizer:i});return Q.createElement(Xf,Object.assign({},T,{range:E,eventOffset:10,localizer:i,min:c,max:h,scrollToTime:m,enableAutoScroll:b}))}}]),t}(Q.Component);Xv.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};Xv.navigate=function(e,t,n){var r=n.localizer;switch(t){case ga.PREVIOUS:return r.add(e,-1,"day");case ga.NEXT:return r.add(e,1,"day");default:return e}};Xv.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var wG=["date","localizer","min","max","scrollToTime","enableAutoScroll"],gl=function(e){Kr(t,e);function t(){return sr(this,t),Gr(this,t,arguments)}return lr(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,s=r.min,c=s===void 0?i.startOf(new Date,"day"):s,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,g=r.scrollToTime,m=g===void 0?i.startOf(new Date,"day"):g,w=r.enableAutoScroll,b=w===void 0?!0:w,T=Ci(r,wG),E=t.range(a,this.props);return Q.createElement(Xf,Object.assign({},T,{range:E,eventOffset:15,localizer:i,min:c,max:h,scrollToTime:m,enableAutoScroll:b}))}}]),t}(Q.Component);gl.defaultProps=Xf.defaultProps;gl.navigate=function(e,t,n){var r=n.localizer;switch(t){case ga.PREVIOUS:return r.add(e,-1,"week");case ga.NEXT:return r.add(e,1,"week");default:return e}};gl.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),a=n.startOf(e,"week",r),i=n.endOf(e,"week",r);return n.range(a,i)};gl.title=function(e,t){var n=t.localizer,r=gl.range(e,{localizer:n}),a=JT(r),i=a[0],s=a.slice(1);return n.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var bG=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Qw(e,t){return gl.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Ph=function(e){Kr(t,e);function t(){return sr(this,t),Gr(this,t,arguments)}return lr(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,s=r.min,c=s===void 0?i.startOf(new Date,"day"):s,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,g=r.scrollToTime,m=g===void 0?i.startOf(new Date,"day"):g,w=r.enableAutoScroll,b=w===void 0?!0:w,T=Ci(r,bG),E=Qw(a,this.props);return Q.createElement(Xf,Object.assign({},T,{range:E,eventOffset:15,localizer:i,min:c,max:h,scrollToTime:m,enableAutoScroll:b}))}}]),t}(Q.Component);Ph.defaultProps=Xf.defaultProps;Ph.range=Qw;Ph.navigate=gl.navigate;Ph.title=function(e,t){var n=t.localizer,r=Qw(e,{localizer:n}),a=JT(r),i=a[0],s=a.slice(1);return n.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};function vl(e){var t=e.accessors,n=e.components,r=e.date,a=e.events,i=e.getters,s=e.length,c=e.localizer,d=e.onDoubleClickEvent,h=e.onSelectEvent,g=e.selected,m=A.useRef(null),w=A.useRef(null),b=A.useRef(null),T=A.useRef(null),E=A.useRef(null);A.useEffect(function(){I()});var M=function(_,$,q){var z=n.event,ee=n.date;return $=$.filter(function(ie){return lh(ie,c.startOf(_,"day"),c.endOf(_,"day"),t,c)}),$.map(function(ie,ae){var me=t.title(ie),fe=t.end(ie),be=t.start(ie),Te=i.eventProp(ie,be,fe,Zv(ie,g)),J=ae===0&&c.format(_,"agendaDateFormat"),ve=ae===0?Q.createElement("td",{rowSpan:$.length,className:"rbc-agenda-date-cell"},ee?Q.createElement(ee,{day:_,label:J}):J):!1;return Q.createElement("tr",{key:q+"_"+ae,className:Te.className,style:Te.style},ve,Q.createElement("td",{className:"rbc-agenda-time-cell"},k(_,ie)),Q.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(G){return h&&h(ie,G)},onDoubleClick:function(G){return d&&d(ie,G)}},z?Q.createElement(z,{event:ie,title:me}):me))},[])},k=function(_,$){var q="",z=n.time,ee=c.messages.allDay,ie=t.end($),ae=t.start($);return t.allDay($)||(c.eq(ae,ie)?ee=c.format(ae,"agendaTimeFormat"):c.isSameDate(ae,ie)?ee=c.format({start:ae,end:ie},"agendaTimeRangeFormat"):c.isSameDate(_,ae)?ee=c.format(ae,"agendaTimeFormat"):c.isSameDate(_,ie)&&(ee=c.format(ie,"agendaTimeFormat"))),c.gt(_,ae,"day")&&(q="rbc-continues-prior"),c.lt(_,ie,"day")&&(q+=" rbc-continues-after"),Q.createElement("span",{className:q.trim()},z?Q.createElement(z,{event:$,day:_,label:ee}):ee)},I=function(){if(E.current){var _=m.current,$=E.current.firstChild;if($){var q=T.current.scrollHeight>T.current.clientHeight,z=[],ee=z;z=[A1($.children[0]),A1($.children[1])],(ee[0]!==z[0]||ee[1]!==z[1])&&(w.current.style.width=z[0]+"px",b.current.style.width=z[1]+"px"),q?(bO(_,"rbc-header-overflowing"),_.style.marginRight=kT()+"px"):DO(_,"rbc-header-overflowing")}}},B=c.messages,N=c.add(r,s,"day"),j=c.range(r,N,"day");return a=a.filter(function(R){return lh(R,c.startOf(r,"day"),c.endOf(N,"day"),t,c)}),a.sort(function(R,_){return+t.start(R)-+t.start(_)}),Q.createElement("div",{className:"rbc-agenda-view"},a.length!==0?Q.createElement(Q.Fragment,null,Q.createElement("table",{ref:m,className:"rbc-agenda-table"},Q.createElement("thead",null,Q.createElement("tr",null,Q.createElement("th",{className:"rbc-header",ref:w},B.date),Q.createElement("th",{className:"rbc-header",ref:b},B.time),Q.createElement("th",{className:"rbc-header"},B.event)))),Q.createElement("div",{className:"rbc-agenda-content",ref:T},Q.createElement("table",{className:"rbc-agenda-table"},Q.createElement("tbody",{ref:E},j.map(function(R,_){return M(R,a,_)}))))):Q.createElement("span",{className:"rbc-agenda-empty"},B.noEventsInRange))}vl.defaultProps={length:30};vl.range=function(e,t){var n=t.length,r=n===void 0?vl.defaultProps.length:n,a=t.localizer,i=a.add(e,r,"day");return{start:e,end:i}};vl.navigate=function(e,t,n){var r=n.length,a=r===void 0?vl.defaultProps.length:r,i=n.localizer;switch(t){case ga.PREVIOUS:return i.add(e,-a,"day");case ga.NEXT:return i.add(e,a,"day");default:return e}};vl.title=function(e,t){var n=t.length,r=n===void 0?vl.defaultProps.length:n,a=t.localizer,i=a.add(e,r,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var Wg=yu(yu(yu(yu(yu({},qr.MONTH,Jv),qr.WEEK,gl),qr.WORK_WEEK,Ph),qr.DAY,Xv),qr.AGENDA,vl),DG=["action","date","today"];function SG(e,t){var n=t.action,r=t.date,a=t.today,i=Ci(t,DG);switch(e=typeof e=="string"?Wg[e]:e,n){case ga.TODAY:r=a||new Date;break;case ga.DATE:break;default:Jp(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,i)}return r}var EG=function(e){Kr(t,e);function t(){var n;sr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Gr(this,t,[].concat(a)),n.navigate=function(s){n.props.onNavigate(s)},n.view=function(s){n.props.onView(s)},n}return lr(t,[{key:"render",value:function(){var r=this.props,a=r.localizer.messages,i=r.label;return Q.createElement("div",{className:"rbc-toolbar"},Q.createElement("span",{className:"rbc-btn-group"},Q.createElement("button",{type:"button",onClick:this.navigate.bind(null,ga.TODAY)},a.today),Q.createElement("button",{type:"button",onClick:this.navigate.bind(null,ga.PREVIOUS)},a.previous),Q.createElement("button",{type:"button",onClick:this.navigate.bind(null,ga.NEXT)},a.next)),Q.createElement("span",{className:"rbc-toolbar-label"},i),Q.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(r){var a=this,i=this.props.views,s=this.props.view;if(i.length>1)return i.map(function(c){return Q.createElement("button",{type:"button",key:c,className:$n({"rbc-active":s===c}),onClick:a.view.bind(null,c)},r[c])})}}]),t}(Q.Component);function TG(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&us(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var ol=function(t){return function(n){return TG(n,t)}},CG=["view","date","getNow","onNavigate"],xG=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function M4(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=os(r[n],2),i=a[0],s=a[1];s&&t.push(i)}return t}function MG(e,t){var n=t.views,r=M4(n);return r.indexOf(e)!==-1}var k4=function(e){Kr(t,e);function t(){var n;sr(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Gr(this,t,[].concat(a)),n.getViews=function(){var s=n.props.views;return Array.isArray(s)?Jq(s,function(c,d){return c[d]=Wg[d]},{}):us(s)==="object"?aW(s,function(c,d){return c===!0?Wg[d]:c}):Wg},n.getView=function(){var s=n.getViews();return s[n.props.view]},n.getDrilldownView=function(s){var c=n.props,d=c.view,h=c.drilldownView,g=c.getDrilldownView;return g?g(s,d,Object.keys(n.getViews())):h},n.handleRangeChange=function(s,c,d){var h=n.props,g=h.onRangeChange,m=h.localizer;g&&c.range&&g(c.range(s,{localizer:m}),d)},n.handleNavigate=function(s,c){var d=n.props,h=d.view,g=d.date,m=d.getNow,w=d.onNavigate,b=Ci(d,CG),T=n.getView(),E=m();g=SG(T,Xt(Xt({},b),{},{action:s,date:c||g||E,today:E})),w(g,h,s),n.handleRangeChange(g,T)},n.handleViewChange=function(s){s!==n.props.view&&MG(s,n.props)&&n.props.onView(s);var c=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),c[s],s)},n.handleSelectEvent=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onKeyPressEvent,c)},n.handleSelectSlot=function(s){hn(n.props.onSelectSlot,s)},n.handleDrillDown=function(s,c){var d=n.props.onDrillDown;if(d){d(s,c,n.drilldownView);return}c&&n.handleViewChange(c),n.handleNavigate(ga.DATE,s)},n.state={context:t.getContext(n.props)},n}return lr(t,[{key:"render",value:function(){var r=this.props,a=r.view,i=r.toolbar,s=r.events,c=r.backgroundEvents,d=r.style,h=r.className,g=r.elementProps,m=r.date,w=r.getNow,b=r.length,T=r.showMultiDayTimes,E=r.onShowMore,M=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var k=Ci(r,xG);m=m||w();var I=this.getView(),B=this.state.context,N=B.accessors,j=B.components,R=B.getters,_=B.localizer,$=B.viewNames,q=j.toolbar||EG,z=I.title(m,{localizer:_,length:b});return Q.createElement("div",Object.assign({},g,{className:$n(h,"rbc-calendar",k.rtl&&"rbc-rtl"),style:d}),i&&Q.createElement(q,{date:m,view:a,views:$,label:z,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),Q.createElement(I,Object.assign({},k,{events:s,backgroundEvents:c,date:m,getNow:w,length:b,localizer:_,getters:R,components:j,accessors:N,showMultiDayTimes:T,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:E,doShowMoreDrillDown:M})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var a=r.startAccessor,i=r.endAccessor,s=r.allDayAccessor,c=r.tooltipAccessor,d=r.titleAccessor,h=r.resourceAccessor,g=r.resourceIdAccessor,m=r.resourceTitleAccessor,w=r.eventPropGetter,b=r.backgroundEventPropGetter,T=r.slotPropGetter,E=r.slotGroupPropGetter,M=r.dayPropGetter,k=r.view,I=r.views,B=r.localizer,N=r.culture,j=r.messages,R=j===void 0?{}:j,_=r.components,$=_===void 0?{}:_,q=r.formats,z=q===void 0?{}:q,ee=M4(I),ie=IW(R);return{viewNames:ee,localizer:FW(B,N,z,ie),getters:{eventProp:function(){return w&&w.apply(void 0,arguments)||{}},backgroundEventProp:function(){return b&&b.apply(void 0,arguments)||{}},slotProp:function(){return T&&T.apply(void 0,arguments)||{}},slotGroupProp:function(){return E&&E.apply(void 0,arguments)||{}},dayProp:function(){return M&&M.apply(void 0,arguments)||{}}},components:Bq($[k]||{},Iq($,ee),{eventWrapper:rs,backgroundEventWrapper:rs,eventContainerWrapper:rs,dateCellWrapper:rs,weekWrapper:rs,timeSlotWrapper:rs,timeGutterWrapper:rs}),accessors:{start:ol(a),end:ol(i),allDay:ol(s),tooltip:ol(c),title:ol(d),resource:ol(h),resourceId:ol(g),resourceTitle:ol(m)}}}}]),t}(Q.Component);k4.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:qr.MONTH,views:[qr.MONTH,qr.WEEK,qr.DAY,qr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:qr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var kG=sT(k4,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),FG=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"MMMM DD",n)+" – "+r.format(i,r.eq(a,i,"month")?"DD":"MMMM DD",n)},NG=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"L",n)+" – "+r.format(i,"L",n)},B0=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"LT",n)+" – "+r.format(i,"LT",n)},IG=function(t,n,r){var a=t.start;return r.format(a,"LT",n)+" – "},AG=function(t,n,r){var a=t.end;return" – "+r.format(a,"LT",n)},OG={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:B0,eventTimeRangeFormat:B0,eventTimeRangeStartFormat:IG,eventTimeRangeEndFormat:AG,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:FG,agendaHeaderFormat:NG,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:B0};function il(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function RG(e){var t=function(le,we){return we?le.locale(we):le};function n(G){return e(G).toDate().getTimezoneOffset()}function r(G,le){var we,ue,De=e(G).local(),Re=e(le).local();if(!e.tz)return De.toDate().getTimezoneOffset()-Re.toDate().getTimezoneOffset();var Ye=(we=De==null||(ue=De._z)===null||ue===void 0?void 0:ue.name)!==null&&we!==void 0?we:e.tz.guess(),Be=e.tz.zone(Ye).utcOffset(+De),yt=e.tz.zone(Ye).utcOffset(+Re);return Be-yt}function a(G){var le=e(G).startOf("day");return r(le,G)}function i(G,le,we){var ue=il(we),De=ue?e(G).startOf(ue):e(G),Re=ue?e(le).startOf(ue):e(le);return[De,Re,ue]}function s(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,le=arguments.length>1?arguments[1]:void 0,we=il(le);return we?e(G).startOf(we).toDate():e(G).toDate()}function c(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,le=arguments.length>1?arguments[1]:void 0,we=il(le);return we?e(G).endOf(we).toDate():e(G).toDate()}function d(G,le,we){var ue=i(G,le,we),De=os(ue,3),Re=De[0],Ye=De[1],Be=De[2];return Re.isSame(Ye,Be)}function h(G,le,we){return!d(G,le,we)}function g(G,le,we){var ue=i(G,le,we),De=os(ue,3),Re=De[0],Ye=De[1],Be=De[2];return Re.isAfter(Ye,Be)}function m(G,le,we){var ue=i(G,le,we),De=os(ue,3),Re=De[0],Ye=De[1],Be=De[2];return Re.isBefore(Ye,Be)}function w(G,le,we){var ue=i(G,le,we),De=os(ue,3),Re=De[0],Ye=De[1],Be=De[2];return Re.isSameOrBefore(Ye,Be)}function b(G,le,we){var ue=i(G,le,we),De=os(ue,3),Re=De[0],Ye=De[1],Be=De[2];return Re.isSameOrBefore(Ye,Be)}function T(G,le,we){var ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",De=il(ue),Re=e(G),Ye=e(le),Be=e(we);return Re.isBetween(Ye,Be,De,"[]")}function E(G,le){var we=e(G),ue=e(le),De=e.min(we,ue);return De.toDate()}function M(G,le){var we=e(G),ue=e(le),De=e.max(we,ue);return De.toDate()}function k(G,le){if(!G&&!le)return null;var we=e(le).format("HH:mm:ss"),ue=e(G).startOf("day").format("MM/DD/YYYY");return e("".concat(ue," ").concat(we),"MM/DD/YYYY HH:mm:ss").toDate()}function I(G,le,we){var ue=il(we);return e(G).add(le,ue).toDate()}function B(G,le){for(var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",ue=il(we),De=e(G).toDate(),Re=[];b(De,le);)Re.push(De),De=I(De,1,ue);return Re}function N(G,le){var we=il(le),ue=s(G,we);return d(ue,G)?ue:I(ue,1,we)}function j(G,le){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",ue=il(we),De=e(G),Re=e(le);return Re.diff(De,ue)}function R(G){var le=e(G);return le.minutes()}function _(G){var le=G?e.localeData(G):e.localeData();return le?le.firstDayOfWeek():0}function $(G){return e(G).startOf("month").startOf("week").toDate()}function q(G){return e(G).endOf("month").endOf("week").toDate()}function z(G){for(var le=$(G),we=q(G),ue=[];b(le,we);)ue.push(le),le=I(le,1,"d");return ue}function ee(G,le,we){return e(G).startOf("day").minute(le+we).toDate()}function ie(G,le){return j(G,le,"minutes")}function ae(G){var le=e(G).startOf("day"),we=e(G);return we.diff(le,"minutes")+a(G)}function me(G,le){var we=e(G),ue=e(le);return we.isBefore(ue,"day")}function fe(G,le,we){var ue=e(le),De=e(we);return ue.isSameOrAfter(De,"minutes")}function be(G,le){var we=e(G),ue=e(le),De=e.duration(ue.diff(we));return De.days()}function Te(G){var le=G.evtA,we=le.start,ue=le.end,De=le.allDay,Re=G.evtB,Ye=Re.start,Be=Re.end,yt=Re.allDay,Se=+s(we,"day")-+s(Ye,"day"),Ve=be(we,ue),Ke=be(Ye,Be);return Se||Ke-Ve||!!yt-!!De||+we-+Ye||+ue-+Be}function J(G){var le=G.event,we=le.start,ue=le.end,De=G.range,Re=De.start,Ye=De.end,Be=e(we).startOf("day"),yt=e(ue),Se=e(Re),Ve=e(Ye),Ke=Be.isSameOrBefore(Ve,"day"),Xe=!Be.isSame(yt,"minutes"),Ge=Xe?yt.isAfter(Se,"minutes"):yt.isSameOrAfter(Se,"minutes");return Ke&&Ge}function ve(G,le){var we=e(G),ue=e(le);return we.isSame(ue,"day")}function V(){var G=new Date,le=/-/.test(G.toString())?"-":"",we=G.getTimezoneOffset(),ue=Number("".concat(le).concat(Math.abs(we))),De=e().utcOffset();return De>ue?1:0}return new kW({formats:OG,firstOfWeek:_,firstVisibleDay:$,lastVisibleDay:q,visibleDays:z,format:function(le,we,ue){return t(e(le),ue).format(we)},lt:m,lte:b,gt:g,gte:w,eq:d,neq:h,merge:k,inRange:T,startOf:s,endOf:c,range:B,add:I,diff:j,ceil:N,min:E,max:M,minutes:R,getSlotDate:ee,getTimezoneOffset:n,getDstOffset:r,getTotalMin:ie,getMinutesFromMidnight:ae,continuesPrior:me,continuesAfter:fe,sortEvents:Te,inEventRange:J,isSameDate:ve,daySpan:be,browserTZOffset:V})}function s2(e,t,n,r,a){const i={start:r.start(e),end:r.end(e)},s={start:t,end:n};return a.inEventRange({event:i,range:s})}function LG(e,t){return!e||t==null?!1:cE.isEqual(e,t)}const yf={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};function cs({accessors:e,components:t,date:n,events:r,getters:a,length:i,localizer:s,onDoubleClickEvent:c,onSelectEvent:d,selected:h}){const g=A.useRef(null),m=A.useRef(null),w=A.useRef(null),b=A.useRef(null),T=A.useRef(null),E=(j,R,_)=>{const{event:$,date:q}=t;return R=R.filter(z=>s2(z,s.startOf(j,"day"),s.endOf(j,"day"),e,s)),R.map((z,ee)=>{const ie=e.title(z),ae=e.end(z),me=e.start(z),fe=a.eventProp(z,me,ae,LG(z,h)),be=ee===0&&s.format(j,"agendaDateFormat"),Te=ee===0?D.jsx("td",{rowSpan:R.length,className:"rbc-agenda-date-cell",children:q?D.jsx(q,{day:j,label:be}):be}):!1;return D.jsxs("tr",{className:fe.className,style:fe.style,children:[Te,D.jsx("td",{className:"rbc-agenda-time-cell",children:M(j,z)}),D.jsx("td",{className:"rbc-agenda-event-cell",onClick:J=>d&&d(z,J),onDoubleClick:J=>c&&c(z,J),children:$?D.jsx($,{event:z,title:ie}):ie})]},_+"_"+ee)},[])},M=(j,R)=>{const _=t.time;let $="",q=s.messages.allDay;const z=e.end(R),ee=e.start(R);return e.allDay(R)||(s.eq(ee,z)?q=s.format(ee,"agendaTimeFormat"):s.isSameDate(ee,z)?q=s.format({start:ee,end:z},"agendaTimeRangeFormat"):s.isSameDate(j,ee)?q=s.format(ee,"agendaTimeFormat"):s.isSameDate(j,z)&&(q=s.format(z,"agendaTimeFormat"))),s.gt(j,ee,"day")&&($="rbc-continues-prior"),s.lt(j,z,"day")&&($+=" rbc-continues-after"),D.jsx("span",{className:$.trim(),children:_?D.jsx(_,{event:R,day:j,label:q}):q})},{messages:k}=s,I=s.add(n,-i/2,"day"),B=s.add(n,i/2,"day"),N=s.range(I,B,"day");return r=r.filter(j=>s2(j,s.startOf(I,"day"),s.endOf(B,"day"),e,s)),r.sort((j,R)=>+e.start(j)-+e.start(R)),D.jsx("div",{className:"rbc-agenda-view",children:r.length!==0?D.jsxs(Q.Fragment,{children:[D.jsx("table",{ref:g,className:"rbc-agenda-table",children:D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{className:"rbc-header",ref:m,children:k.date}),D.jsx("th",{className:"rbc-header",ref:w,children:k.time}),D.jsx("th",{className:"rbc-header",children:k.event})]})})}),D.jsx("div",{className:"rbc-agenda-content",ref:b,children:D.jsx("table",{className:"rbc-agenda-table",children:D.jsx("tbody",{ref:T,children:N.map((j,R)=>E(j,r,R))})})})]}):D.jsx("span",{className:"rbc-agenda-empty",children:k.noEventsInRange})})}cs.propTypes={accessors:Ne.object.isRequired,components:Ne.object.isRequired,date:Ne.instanceOf(Date),events:Ne.array,getters:Ne.object.isRequired,length:Ne.number.isRequired,localizer:Ne.object.isRequired,onSelectEvent:Ne.func,onDoubleClickEvent:Ne.func,selected:Ne.object};cs.defaultProps={length:30};cs.range=(e,{length:t=cs.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),a=n.add(e,t/2,"day");return{customStart:r,customEnd:a}};cs.navigate=(e,t,{length:n=cs.defaultProps.length,localizer:r})=>{switch(t){case yf.PREVIOUS:return r.add(e,-n,"day");case yf.NEXT:return r.add(e,n,"day");default:return e}};cs.title=(e,{length:t=cs.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),a=n.add(e,t/2,"day");return n.format({start:r,end:a},"agendaHeaderFormat")};function F4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=F4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fs(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=F4(e))&&(r&&(r+=" "),r+=t);return r}function _G(e,t){e.hoverEl.toggleClass("thino-hover-popover",!0);const n=Mv(e.hoverEl);return n.render(D.jsx(If,{store:xe,context:Ft,children:D.jsx(ml,{memo:t})})),n}function PG({event:e}){const t=e.resource,n=t.content.split(`
`)[0].slice(0,20),r=Q.useRef(null),a=Q.useRef(null),i=Q.useRef(null);A.useEffect(()=>{if(a.current)return F.setIcon(a.current,"calendar"),()=>{r.current&&(r.current=null)}},[r]);const s=A.useCallback(d=>{i.current&&(i.current.unmount(),i.current=null),i.current=d},[]),c=A.useCallback(d=>{if(!r.current||!F.Keymap.isModifier(d.nativeEvent,"Mod"))return;const h=new F.HoverPopover(ct.getState().view,r.current,100),g=_G(h,t);s(g)},[r.current]);return D.jsxs("span",{className:"rbc-event-renderer","data-source-type":t.sourceType,"data-thino-type":t.thinoType,"data-thino-id":t.id,ref:r,"aria-label":t.path,onMouseOver:c,children:[D.jsx(jG,{event:e}),D.jsx("strong",{children:n})]})}const jG=({event:e})=>{const t=Q.useRef(null),n=e.resource;A.useEffect(()=>{t.current&&F.setIcon(t.current,n.thinoType==="JOURNAL"?"calendar":n.thinoType==="TASK-TODO"?"square":"check-square")},[n==null?void 0:n.thinoType,t]);const r=A.useCallback(async a=>{a.stopPropagation(),a.preventDefault(),await(async()=>{const s=await Me.updateMemo(n.id,n.content,n.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");s&&Me.editMemo(s)})()},[n==null?void 0:n.thinoType,n==null?void 0:n.id,n==null?void 0:n.content]);return D.jsx(D.Fragment,{children:D.jsxs("span",{className:"rbc-event-icon-group",children:[D.jsx("span",{className:"rbc-event-icon",ref:t,onClick:r}),D.jsx("span",{className:fs("rbc-event-time","hidden"),children:D.jsx("span",{className:"rbc-event-time-text",children:F.moment(e.start).format("HH:mm")})})]})})};function N4({views:e,view:t,messages:n,onView:r}){return e.map(a=>D.jsx("button",{type:"button",className:fs({"rbc-active":t===a}),onClick:()=>r(a),children:n[a]},a))}N4.propTypes={messages:Ne.object,onView:Ne.func,view:Ne.string,views:Ne.array};function I4({date:e,label:t,localizer:{messages:n},onNavigate:r,onView:a,view:i,views:s}){const c={previous:A.useRef(null),today:A.useRef(null),next:A.useRef(null)};A.useEffect(()=>{c&&(F.setIcon(c.previous.current,"chevron-left"),F.setIcon(c.today.current,"dot"),F.setIcon(c.next.current,"chevron-right"))},[c]);const d=A.useMemo(()=>D.jsxs(D.Fragment,{children:[D.jsx("button",{ref:c.previous,type:"button",onClick:()=>r(yf.PREVIOUS),"aria-label":n.previous,children:"<"}),D.jsx("button",{ref:c.today,type:"button",onClick:()=>r(yf.TODAY),"aria-label":n.today,children:"•"}),D.jsx("button",{ref:c.next,type:"button",onClick:()=>r(yf.NEXT),"aria-label":n.next,children:">"})]}),[n]);return D.jsxs("div",{className:"rbc-toolbar",children:[D.jsx("span",{className:fs("rbc-btn-group","thino-view-custom-toolbar"),children:d}),D.jsx("span",{className:"rbc-toolbar-label",children:D.jsx(av,{type:"text",handleValueChange:h=>{r(yf.DATE,F.moment(h,"YYYY-MM-DD").format("YYYY-MM-DDTHH:mm:ssZ"))},defaultText:t+(i==="week"?F.moment(e.valueOf(),"x").format(" [W]WW"):""),defaultValue:F.moment(e.valueOf(),"x").valueOf()})}),D.jsx("span",{className:"rbc-btn-group",children:D.jsx(N4,{view:i,views:s,messages:n,onView:a})})]})}I4.propTypes={date:Ne.instanceOf(Date),label:Ne.string,localizer:Ne.object,messages:Ne.object,onNavigate:Ne.func,onView:Ne.func,view:Ne.string,views:Ne.array};function BG({event:e,children:t,showPopup:n,callRender:r,...a}){const i=A.useRef(null),s=A.useRef(null),c=A.useCallback(d=>{if(!d.isTrusted){r();return}s.current=d.nativeEvent.target,s.current&&(s.current.hasClass("rbc-event")||(s.current=s.current.closest(".rbc-event")),i.current!==null?(window.clearTimeout(i.current),i.current=null):i.current=window.setTimeout(()=>{n(e,s.current),i.current=null},250))},[e,n]);return D.jsx(D.Fragment,{children:D.jsx("div",{className:"rbc-event-wrapper","aria-describedby":"thino",onClick:c,children:t})})}const YG=RG(F.moment),HG=({event:e})=>{const t=e.resource;return D.jsx(D.Fragment,{children:D.jsx(ml,{memo:t})})},UG=e=>{var ie;const{thinos:t}=e,[n,r]=Q.useState([]),[a,i]=Q.useState((app==null?void 0:app.loadLocalStorage("thino-calendar-view"))||"month"),[s,c]=Q.useState(null),d=Q.useRef(null),h=Q.useRef(null),[g,m]=Q.useState(!1),w=A.useRef(null),[b,T]=A.useState(new Date);A.useEffect(()=>()=>{d.current&&(d.current=null),h.current&&(h.current=null),w.current&&(w.current=null)},[]),A.useEffect(()=>{const ae=t.map(me=>{const fe=F.moment(me.createdAt,"YYYY-MM-DD HH:mm:ss"),be=fe.clone().add(1,"minute");return{title:me.content,start:new Date(fe.format("YYYY-MM-DDTHH:mm:ss")),end:new Date(be.format("YYYY-MM-DDTHH:mm:ss")),resource:me}});r(ae)},[t]),A.useEffect(()=>{app.saveLocalStorage("thino-calendar-view",a)},[a]),A.useEffect(()=>{g&&c(t.find(ae=>ae.id===s.id))},[t]),A.useEffect(()=>{s&&w.current.update()},[s]),w.current=Iv(d.current,h.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]});const E=A.useCallback(()=>{w.current.update(),w.current.update()},[]),M=A.useCallback((ae,me)=>{c(null),N(),w.current.state.elements.reference=me,c(ae.resource),j()},[]),k=A.useCallback(()=>{N(),c(null)},[]),I=A.useCallback((ae,me,fe)=>{var be;if(B(ae),me==="week"||me==="day"){const Te=d.current.find(".rbc-event-wrapper");if(d.current.closest(".memolist-wrapper"),Te){(be=Te.children[0])==null||be.click();return}else{setTimeout(()=>{var ve,V;const J=d.current.find(".rbc-event-wrapper");(V=(ve=J==null?void 0:J.children)==null?void 0:ve[0])==null||V.click()},0);return}}},[]),B=A.useCallback(ae=>{T(ae)},[T]);Eh(h,k);const N=A.useCallback(()=>{m(!1)},[m]),j=A.useCallback(()=>{w.current.update(),m(!0)},[m]),R=A.useCallback(ae=>{const me=ae.resource;rt.setEditMemoId(me.id)},[]),_=A.useCallback(ae=>{i(ae)},[i]),{components:$,views:q,messages:z}=A.useMemo(()=>({components:{toolbar:I4,eventWrapper:ae=>D.jsx(BG,{...ae,callRender:E,showPopup:M}),agenda:{event:HG},event:PG},views:{month:!0,agenda:cs,week:!0,day:!0},messages:{month:O("Month"),day:O("Day"),next:O("Next"),previous:O("Previous"),today:O("Today"),agenda:O("Agenda"),week:O("Week"),yesterday:O("Yesterday"),tomorrow:O("Tomorrow"),noEventsInRange:O("No thinos in range")}}),[]),ee=A.useMemo(()=>({timeGutterFormat:(ae,me,fe)=>fe.format(ae,"HH:mm",me),agendaTimeRangeFormat:({start:ae,end:me},fe,be)=>be.format(ae,"HH:mm",fe)+" — "+be.format(me,"HH:mm",fe),agendaHeaderFormat:({start:ae,end:me},fe,be)=>be.format(ae,"YYYY-MM-DD")+" — "+be.format(me,"YYYY-MM-DD")}),[]);return D.jsxs("div",{ref:d,className:"calendar-view",children:[D.jsx(kG,{date:b,messages:z,components:$,localizer:YG,events:n,views:q,onView:_,onDoubleClickEvent:R,onNavigate:I,formats:ee,defaultView:a,tooltipAccessor:null,startAccessor:"start",endAccessor:"end"}),D.jsx("div",{ref:h,style:(ie=w.current)==null?void 0:ie.styles.popper,className:fs("thino-popup-container",g?"":"hidden"),children:s&&D.jsx(ml,{memo:s})})]})};function hl(e,t){return typeof e=="function"?e(t):e}function ja(e,t){return n=>{t.setState(r=>({...r,[e]:hl(n,r[e])}))}}function yv(e){return e instanceof Function}function VG(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function zG(e,t){const n=[],r=a=>{a.forEach(i=>{n.push(i);const s=t(i);s!=null&&s.length&&r(s)})};return r(e),n}function pt(e,t,n){let r=[],a;return i=>{let s;n.key&&n.debug&&(s=Date.now());const c=e(i);if(!(c.length!==r.length||c.some((g,m)=>r[m]!==g)))return a;r=c;let h;if(n.key&&n.debug&&(h=Date.now()),a=t(...c),n==null||n.onChange==null||n.onChange(a),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-s)*100)/100,w=Math.round((Date.now()-h)*100)/100/16,b=(T,E)=>{for(T=String(T);T.length<E;)T=" "+T;return T}}return a}}function ht(e,t,n,r){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[t]},key:!1,onChange:r}}function $G(e,t,n,r){var a,i;const c={...e._getDefaultColumnDef(),...t},d=c.accessorKey;let h=(a=(i=c.id)!=null?i:d?d.replace(".","_"):void 0)!=null?a:typeof c.header=="string"?c.header:void 0,g;if(c.accessorFn?g=c.accessorFn:d&&(d.includes(".")?g=w=>{let b=w;for(const E of d.split(".")){var T;b=(T=b)==null?void 0:T[E]}return b}:g=w=>w[c.accessorKey]),!h)throw new Error;let m={id:`${String(h)}`,accessorFn:g,parent:r,depth:n,columnDef:c,columns:[],getFlatColumns:pt(()=>[!0],()=>{var w;return[m,...(w=m.columns)==null?void 0:w.flatMap(b=>b.getFlatColumns())]},ht(e.options,"debugColumns")),getLeafColumns:pt(()=>[e._getOrderColumnsFn()],w=>{var b;if((b=m.columns)!=null&&b.length){let T=m.columns.flatMap(E=>E.getLeafColumns());return w(T)}return[m]},ht(e.options,"debugColumns"))};for(const w of e._features)w.createColumn==null||w.createColumn(m,e);return m}const Nr="debugHeaders";function l2(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],c=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(c),s.push(d)};return c(i),s},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(i,e)}),i}const qG={createTable:e=>{e.getHeaderGroups=pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>{var i,s;const c=(i=r==null?void 0:r.map(m=>n.find(w=>w.id===m)).filter(Boolean))!=null?i:[],d=(s=a==null?void 0:a.map(m=>n.find(w=>w.id===m)).filter(Boolean))!=null?s:[],h=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(a!=null&&a.includes(m.id)));return kg(t,[...c,...h,...d],e)},ht(e.options,Nr)),e.getCenterHeaderGroups=pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(a!=null&&a.includes(i.id))),kg(t,n,e,"center")),ht(e.options,Nr)),e.getLeftHeaderGroups=pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var a;const i=(a=r==null?void 0:r.map(s=>n.find(c=>c.id===s)).filter(Boolean))!=null?a:[];return kg(t,i,e,"left")},ht(e.options,Nr)),e.getRightHeaderGroups=pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var a;const i=(a=r==null?void 0:r.map(s=>n.find(c=>c.id===s)).filter(Boolean))!=null?a:[];return kg(t,i,e,"right")},ht(e.options,Nr)),e.getFooterGroups=pt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),ht(e.options,Nr)),e.getLeftFooterGroups=pt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),ht(e.options,Nr)),e.getCenterFooterGroups=pt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),ht(e.options,Nr)),e.getRightFooterGroups=pt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),ht(e.options,Nr)),e.getFlatHeaders=pt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,Nr)),e.getLeftFlatHeaders=pt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,Nr)),e.getCenterFlatHeaders=pt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,Nr)),e.getRightFlatHeaders=pt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,Nr)),e.getCenterLeafHeaders=pt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ht(e.options,Nr)),e.getLeftLeafHeaders=pt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ht(e.options,Nr)),e.getRightLeafHeaders=pt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ht(e.options,Nr)),e.getLeafHeaders=pt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var a,i,s,c,d,h;return[...(a=(i=t[0])==null?void 0:i.headers)!=null?a:[],...(s=(c=n[0])==null?void 0:c.headers)!=null?s:[],...(d=(h=r[0])==null?void 0:h.headers)!=null?d:[]].map(g=>g.getLeafHeaders()).flat()},ht(e.options,Nr))}};function kg(e,t,n,r){var a,i;let s=0;const c=function(w,b){b===void 0&&(b=1),s=Math.max(s,b),w.filter(T=>T.getIsVisible()).forEach(T=>{var E;(E=T.columns)!=null&&E.length&&c(T.columns,b+1)},0)};c(e);let d=[];const h=(w,b)=>{const T={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},E=[];w.forEach(M=>{const k=[...E].reverse()[0],I=M.column.depth===T.depth;let B,N=!1;if(I&&M.column.parent?B=M.column.parent:(B=M.column,N=!0),k&&(k==null?void 0:k.column)===B)k.subHeaders.push(M);else{const j=l2(n,B,{id:[r,b,B.id,M==null?void 0:M.id].filter(Boolean).join("_"),isPlaceholder:N,placeholderId:N?`${E.filter(R=>R.column===B).length}`:void 0,depth:b,index:E.length});j.subHeaders.push(M),E.push(j)}T.headers.push(M),M.headerGroup=T}),d.push(T),b>0&&h(E,b-1)},g=t.map((w,b)=>l2(n,w,{depth:s,index:b}));h(g,s-1),d.reverse();const m=w=>w.filter(T=>T.column.getIsVisible()).map(T=>{let E=0,M=0,k=[0];T.subHeaders&&T.subHeaders.length?(k=[],m(T.subHeaders).forEach(B=>{let{colSpan:N,rowSpan:j}=B;E+=N,k.push(j)})):E=1;const I=Math.min(...k);return M+=I,T.colSpan=E,T.rowSpan=M,{colSpan:E,rowSpan:M}});return m((a=(i=d[0])==null?void 0:i.headers)!=null?a:[]),d}const Fg={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Y0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),WG={getDefaultColumnDef:()=>Fg,getInitialState:e=>({columnSizing:{},columnSizingInfo:Y0(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ja("columnSizing",e),onColumnSizingInfoChange:ja("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,a;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Fg.minSize,(r=i??e.columnDef.size)!=null?r:Fg.size),(a=e.columnDef.maxSize)!=null?a:Fg.maxSize)},e.getStart=pt(n=>[n,$p(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((a,i)=>a+i.getSize(),0),ht(t.options,"debugColumns")),e.getAfter=pt(n=>[n,$p(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((a,i)=>a+i.getSize(),0),ht(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...a}=n;return a})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=a=>{if(a.subHeaders.length)a.subHeaders.forEach(r);else{var i;n+=(i=a.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),a=r==null?void 0:r.getCanResize();return i=>{if(!r||!a||(i.persist==null||i.persist(),H0(i)&&i.touches&&i.touches.length>1))return;const s=e.getSize(),c=e?e.getLeafHeaders().map(k=>[k.column.id,k.column.getSize()]):[[r.id,r.getSize()]],d=H0(i)?Math.round(i.touches[0].clientX):i.clientX,h={},g=(k,I)=>{typeof I=="number"&&(t.setColumnSizingInfo(B=>{var N,j;const R=t.options.columnResizeDirection==="rtl"?-1:1,_=(I-((N=B==null?void 0:B.startOffset)!=null?N:0))*R,$=Math.max(_/((j=B==null?void 0:B.startSize)!=null?j:0),-.999999);return B.columnSizingStart.forEach(q=>{let[z,ee]=q;h[z]=Math.round(Math.max(ee+ee*$,0)*100)/100}),{...B,deltaOffset:_,deltaPercentage:$}}),(t.options.columnResizeMode==="onChange"||k==="end")&&t.setColumnSizing(B=>({...B,...h})))},m=k=>g("move",k),w=k=>{g("end",k),t.setColumnSizingInfo(I=>({...I,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,T={moveHandler:k=>m(k.clientX),upHandler:k=>{b==null||b.removeEventListener("mousemove",T.moveHandler),b==null||b.removeEventListener("mouseup",T.upHandler),w(k.clientX)}},E={moveHandler:k=>(k.cancelable&&(k.preventDefault(),k.stopPropagation()),m(k.touches[0].clientX),!1),upHandler:k=>{var I;b==null||b.removeEventListener("touchmove",E.moveHandler),b==null||b.removeEventListener("touchend",E.upHandler),k.cancelable&&(k.preventDefault(),k.stopPropagation()),w((I=k.touches[0])==null?void 0:I.clientX)}},M=GG()?{passive:!1}:!1;H0(i)?(b==null||b.addEventListener("touchmove",E.moveHandler,M),b==null||b.addEventListener("touchend",E.upHandler,M)):(b==null||b.addEventListener("mousemove",T.moveHandler,M),b==null||b.addEventListener("mouseup",T.upHandler,M)),t.setColumnSizingInfo(k=>({...k,startOffset:d,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Y0():(n=e.initialState.columnSizingInfo)!=null?n:Y0())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0}}};let Ng=null;function GG(){if(typeof Ng=="boolean")return Ng;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Ng=e,Ng}function H0(e){return e.type==="touchstart"}const KG={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ja("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var a,i;e.setExpanded(r?{}:(a=(i=e.initialState)==null?void 0:i.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const s=i.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var a;const i=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(c=>{s[c]=!0}):s=r,n=(a=n)!=null?a:!i,!i&&n)return{...s,[e.id]:!0};if(i&&!n){const{[e.id]:c,...d}=s;return d}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,a;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},A4=(e,t,n)=>{var r;const a=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(a))};A4.autoRemove=e=>Io(e);const O4=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};O4.autoRemove=e=>Io(e);const R4=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};R4.autoRemove=e=>Io(e);const L4=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};L4.autoRemove=e=>Io(e)||!(e!=null&&e.length);const _4=(e,t,n)=>!n.some(r=>{var a;return!((a=e.getValue(t))!=null&&a.includes(r))});_4.autoRemove=e=>Io(e)||!(e!=null&&e.length);const P4=(e,t,n)=>n.some(r=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(r)});P4.autoRemove=e=>Io(e)||!(e!=null&&e.length);const j4=(e,t,n)=>e.getValue(t)===n;j4.autoRemove=e=>Io(e);const B4=(e,t,n)=>e.getValue(t)==n;B4.autoRemove=e=>Io(e);const Zw=(e,t,n)=>{let[r,a]=n;const i=e.getValue(t);return i>=r&&i<=a};Zw.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,a=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(a)?1/0:a;if(i>s){const c=i;i=s,s=c}return[i,s]};Zw.autoRemove=e=>Io(e)||Io(e[0])&&Io(e[1]);const ts={includesString:A4,includesStringSensitive:O4,equalsString:R4,arrIncludes:L4,arrIncludesAll:_4,arrIncludesSome:P4,equals:j4,weakEquals:B4,inNumberRange:Zw};function Io(e){return e==null||e===""}const QG={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:ja("columnFilters",e),onGlobalFilterChange:ja("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?ts.includesString:typeof r=="number"?ts.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ts.equals:Array.isArray(r)?ts.arrIncludes:ts.weakEquals},e.getFilterFn=()=>{var n,r;return yv(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:ts[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,a;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,a,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const a=e.getFilterFn(),i=r==null?void 0:r.find(g=>g.id===e.id),s=hl(n,i?i.value:void 0);if(u2(a,s,e)){var c;return(c=r==null?void 0:r.filter(g=>g.id!==e.id))!=null?c:[]}const d={id:e.id,value:s};if(i){var h;return(h=r==null?void 0:r.map(g=>g.id===e.id?d:g))!=null?h:[]}return r!=null&&r.length?[...r,d]:[d]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ts.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return yv(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:ts[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=a=>{var i;return(i=hl(t,a))==null?void 0:i.filter(s=>{const c=n.find(d=>d.id===s.id);if(c){const d=c.getFilterFn();if(u2(d,s.value,c))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function u2(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const ZG=(e,t,n)=>n.reduce((r,a)=>{const i=a.getValue(e);return r+(typeof i=="number"?i:0)},0),JG=(e,t,n)=>{let r;return n.forEach(a=>{const i=a.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},XG=(e,t,n)=>{let r;return n.forEach(a=>{const i=a.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},eK=(e,t,n)=>{let r,a;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r===void 0?s>=s&&(r=a=s):(r>s&&(r=s),a<s&&(a=s)))}),[r,a]},tK=(e,t)=>{let n=0,r=0;if(t.forEach(a=>{let i=a.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},nK=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!VG(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),a=n.sort((i,s)=>i-s);return n.length%2!==0?a[r]:(a[r-1]+a[r])/2},rK=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),aK=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,oK=(e,t)=>t.length,U0={sum:ZG,min:JG,max:XG,extent:eK,mean:tK,median:nK,unique:rK,uniqueCount:aK,count:oK},iK={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ja("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r,a,i;return(n=(r=(a=(i=e.columnDef.enableGrouping)!=null?i:!0)!=null?a:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return U0.sum;if(Object.prototype.toString.call(r)==="[object Date]")return U0.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return yv(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:U0[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=n.subRows)!=null&&a.length)}}};function sK(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(s=>s.id===i)).filter(Boolean),...r]}const lK={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ja("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=pt(n=>[$p(t,n)],n=>n.findIndex(r=>r.id===e.id),ht(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=$p(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const a=$p(t,n);return((r=a[a.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=pt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>a=>{let i=[];if(!(t!=null&&t.length))i=a;else{const s=[...t],c=[...a];for(;c.length&&s.length;){const d=s.shift(),h=c.findIndex(g=>g.id===d);h>-1&&i.push(c.splice(h,1)[0])}i=[...i,...c]}return sK(i,n,r)},ht(e.options,"debugTable"))}},L1=0,_1=10,V0=()=>({pageIndex:L1,pageSize:_1}),uK={getInitialState:e=>({...e,pagination:{...V0(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ja("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const a=i=>hl(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=r=>{var a;e.setPagination(r?V0():(a=e.initialState.pagination)!=null?a:V0())},e.setPageIndex=r=>{e.setPagination(a=>{let i=hl(r,a.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,s)),{...a,pageIndex:i}})},e.resetPageIndex=r=>{var a,i;e.setPageIndex(r?L1:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?a:L1)},e.resetPageSize=r=>{var a,i;e.setPageSize(r?_1:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?a:_1)},e.setPageSize=r=>{e.setPagination(a=>{const i=Math.max(1,hl(r,a.pageSize)),s=a.pageSize*a.pageIndex,c=Math.floor(s/i);return{...a,pageIndex:c,pageSize:i}})},e.setPageCount=r=>e.setPagination(a=>{var i;let s=hl(r,(i=e.options.pageCount)!=null?i:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...a,pageCount:s}}),e.getPageOptions=pt(()=>[e.getPageCount()],r=>{let a=[];return r&&r>0&&(a=[...new Array(r)].fill(null).map((i,s)=>s)),a},ht(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:r<a-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},z0=()=>({left:[],right:[]}),$0=()=>({top:[],bottom:[]}),cK={getInitialState:e=>({columnPinning:z0(),rowPinning:$0(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ja("columnPinning",e),onRowPinningChange:ja("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var i,s;if(n==="right"){var c,d;return{left:((c=a==null?void 0:a.left)!=null?c:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((d=a==null?void 0:a.right)!=null?d:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var h,g;return{left:[...((h=a==null?void 0:a.left)!=null?h:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((g=a==null?void 0:a.right)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((i=a==null?void 0:a.left)!=null?i:[]).filter(m=>!(r!=null&&r.includes(m))),right:((s=a==null?void 0:a.right)!=null?s:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var a,i,s;return((a=r.columnDef.enablePinning)!=null?a:!0)&&((i=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(c=>c.id),{left:r,right:a}=t.getState().columnPinning,i=n.some(c=>r==null?void 0:r.includes(c)),s=n.some(c=>a==null?void 0:a.includes(c));return i?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();return a?(n=(r=t.getState().columnPinning)==null||(r=r[a])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,a)=>{const i=r?e.getLeafRows().map(d=>{let{id:h}=d;return h}):[],s=a?e.getParentRows().map(d=>{let{id:h}=d;return h}):[],c=new Set([...s,e.id,...i]);t.setRowPinning(d=>{var h,g;if(n==="bottom"){var m,w;return{top:((m=d==null?void 0:d.top)!=null?m:[]).filter(E=>!(c!=null&&c.has(E))),bottom:[...((w=d==null?void 0:d.bottom)!=null?w:[]).filter(E=>!(c!=null&&c.has(E))),...Array.from(c)]}}if(n==="top"){var b,T;return{top:[...((b=d==null?void 0:d.top)!=null?b:[]).filter(E=>!(c!=null&&c.has(E))),...Array.from(c)],bottom:((T=d==null?void 0:d.bottom)!=null?T:[]).filter(E=>!(c!=null&&c.has(E)))}}return{top:((h=d==null?void 0:d.top)!=null?h:[]).filter(E=>!(c!=null&&c.has(E))),bottom:((g=d==null?void 0:d.bottom)!=null?g:[]).filter(E=>!(c!=null&&c.has(E)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=t.options;return typeof r=="function"?r(e):(n=r??a)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:a}=t.getState().rowPinning,i=n.some(c=>r==null?void 0:r.includes(c)),s=n.some(c=>a==null?void 0:a.includes(c));return i?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();if(!a)return-1;const i=(n=t._getPinnedRows(a))==null?void 0:n.map(s=>{let{id:c}=s;return c});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=pt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,a)=>{const i=[...r??[],...a??[]];return n.filter(s=>!i.includes(s.column.id))},ht(t.options,"debugRows")),e.getLeftVisibleCells=pt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),ht(t.options,"debugRows")),e.getRightVisibleCells=pt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),ht(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?z0():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:z0())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var a,i;return!!((a=r.left)!=null&&a.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=pt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),ht(e.options,"debugColumns")),e.getRightLeafColumns=pt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),ht(e.options,"debugColumns")),e.getCenterLeafColumns=pt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const a=[...n??[],...r??[]];return t.filter(i=>!a.includes(i.id))},ht(e.options,"debugColumns")),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?$0():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:$0())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var a,i;return!!((a=r.top)!=null&&a.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=pt(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(n??[]).map(s=>{const c=e.getRow(s,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(s=>t.find(c=>c.id===s))).filter(Boolean).map(s=>({...s,position:r}))},ht(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=pt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const a=new Set([...n??[],...r??[]]);return t.filter(i=>!a.has(i.id))},ht(e.options,"debugRows"))}},fK={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ja("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):a.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach(i=>{P1(a,i.id,r,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=pt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?q0(e,n):{rows:[],flatRows:[],rowsById:{}},ht(e.options,"debugTable")),e.getFilteredSelectedRowModel=pt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?q0(e,n):{rows:[],flatRows:[],rowsById:{}},ht(e.options,"debugTable")),e.getGroupedSelectedRowModel=pt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?q0(e,n):{rows:[],flatRows:[],rowsById:{}},ht(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(a=>a.getCanSelect()&&!n[a.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(a=>!n[a.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const a=e.getIsSelected();t.setRowSelection(i=>{var s;if(n=typeof n<"u"?n:!a,e.getCanSelect()&&a===n)return i;const c={...i};return P1(c,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),c})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Jw(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return j1(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return j1(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var a;n&&e.toggleSelected((a=r.target)==null?void 0:a.checked)}}}},P1=(e,t,n,r,a)=>{var i;const s=a.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(c=>delete e[c]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=s.subRows)!=null&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach(c=>P1(e,c.id,n,r,a))};function q0(e,t){const n=e.getState().rowSelection,r=[],a={},i=function(s,c){return s.map(d=>{var h;const g=Jw(d,n);if(g&&(r.push(d),a[d.id]=d),(h=d.subRows)!=null&&h.length&&(d={...d,subRows:i(d.subRows)}),g)return d}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:a}}function Jw(e,t){var n;return(n=t[e.id])!=null?n:!1}function j1(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let a=!0,i=!1;return e.subRows.forEach(s=>{if(!(i&&!a)&&(s.getCanSelect()&&(Jw(s,t)?i=!0:a=!1),s.subRows&&s.subRows.length)){const c=j1(s,t);c==="all"?i=!0:(c==="some"&&(i=!0),a=!1)}}),a?"all":i?"some":!1}const B1=/([0-9]+)/gm,dK=(e,t,n)=>Y4(yl(e.getValue(n)).toLowerCase(),yl(t.getValue(n)).toLowerCase()),pK=(e,t,n)=>Y4(yl(e.getValue(n)),yl(t.getValue(n))),hK=(e,t,n)=>Xw(yl(e.getValue(n)).toLowerCase(),yl(t.getValue(n)).toLowerCase()),mK=(e,t,n)=>Xw(yl(e.getValue(n)),yl(t.getValue(n))),gK=(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},vK=(e,t,n)=>Xw(e.getValue(n),t.getValue(n));function Xw(e,t){return e===t?0:e>t?1:-1}function yl(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Y4(e,t){const n=e.split(B1).filter(Boolean),r=t.split(B1).filter(Boolean);for(;n.length&&r.length;){const a=n.shift(),i=r.shift(),s=parseInt(a,10),c=parseInt(i,10),d=[s,c].sort();if(isNaN(d[0])){if(a>i)return 1;if(i>a)return-1;continue}if(isNaN(d[1]))return isNaN(s)?-1:1;if(s>c)return 1;if(c>s)return-1}return n.length-r.length}const vf={alphanumeric:dK,alphanumericCaseSensitive:pK,text:hK,textCaseSensitive:mK,datetime:gK,basic:vK},yK={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ja("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const a of n){const i=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return vf.datetime;if(typeof i=="string"&&(r=!0,i.split(B1).length>1))return vf.alphanumeric}return r?vf.text:vf.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return yv(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:vf[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const a=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(s=>{const c=s==null?void 0:s.find(b=>b.id===e.id),d=s==null?void 0:s.findIndex(b=>b.id===e.id);let h=[],g,m=i?n:a==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?c?g="toggle":g="add":s!=null&&s.length&&d!==s.length-1?g="replace":c?g="toggle":g="replace",g==="toggle"&&(i||a||(g="remove")),g==="add"){var w;h=[...s,{id:e.id,desc:m}],h.splice(0,h.length-((w=t.options.maxMultiSortColCount)!=null?w:Number.MAX_SAFE_INTEGER))}else g==="toggle"?h=s.map(b=>b.id===e.id?{...b,desc:m}:b):g==="remove"?h=s.filter(b=>b.id!==e.id):h=[{id:e.id,desc:m}];return h})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,a;const i=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(a=t.options.enableMultiRemove)!=null)||a)?!1:s==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(a=>a.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},wK={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ja("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const a=e.columns;return(n=a.length?a.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=pt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),ht(t.options,"debugRows")),e.getVisibleCells=pt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,a)=>[...n,...r,...a],ht(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>pt(()=>[r(),r().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),ht(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,i)=>({...a,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function $p(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const c2=[qG,wK,lK,cK,QG,yK,iK,KG,uK,fK,WG];function bK(e){var t;e.debugAll||e.debugTable;let n={_features:c2};const r=n._features.reduce((g,m)=>Object.assign(g,m.getDefaultOptions==null?void 0:m.getDefaultOptions(n)),{}),a=g=>n.options.mergeOptions?n.options.mergeOptions(r,g):{...r,...g};let s={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(g=>{var m;s=(m=g.getInitialState==null?void 0:g.getInitialState(s))!=null?m:s});const c=[];let d=!1;const h={_features:c2,options:{...r,...e},initialState:s,_queue:g=>{c.push(g),d||(d=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();d=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{n.setState(n.initialState)},setOptions:g=>{const m=hl(g,n.options);n.options=a(m)},getState:()=>n.options.state,setState:g=>{n.options.onStateChange==null||n.options.onStateChange(g)},_getRowId:(g,m,w)=>{var b;return(b=n.options.getRowId==null?void 0:n.options.getRowId(g,m,w))!=null?b:`${w?[w.id,m].join("."):m}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(g,m)=>{let w=(m?n.getPrePaginationRowModel():n.getRowModel()).rowsById[g];if(!w&&(w=n.getCoreRowModel().rowsById[g],!w))throw new Error;return w},_getDefaultColumnDef:pt(()=>[n.options.defaultColumn],g=>{var m;return g=(m=g)!=null?m:{},{header:w=>{const b=w.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:w=>{var b,T;return(b=(T=w.renderValue())==null||T.toString==null?void 0:T.toString())!=null?b:null},...n._features.reduce((w,b)=>Object.assign(w,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...g}},ht(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:pt(()=>[n._getColumnDefs()],g=>{const m=function(w,b,T){return T===void 0&&(T=0),w.map(E=>{const M=$G(n,E,T,b),k=E;return M.columns=k.columns?m(k.columns,M,T+1):[],M})};return m(g)},ht(e,"debugColumns")),getAllFlatColumns:pt(()=>[n.getAllColumns()],g=>g.flatMap(m=>m.getFlatColumns()),ht(e,"debugColumns")),_getAllFlatColumnsById:pt(()=>[n.getAllFlatColumns()],g=>g.reduce((m,w)=>(m[w.id]=w,m),{}),ht(e,"debugColumns")),getAllLeafColumns:pt(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(g,m)=>{let w=g.flatMap(b=>b.getLeafColumns());return m(w)},ht(e,"debugColumns")),getColumn:g=>n._getAllFlatColumnsById()[g]};Object.assign(n,h);for(let g=0;g<n._features.length;g++){const m=n._features[g];m==null||m.createTable==null||m.createTable(n)}return n}function DK(e,t,n,r){const a=()=>{var s;return(s=i.getValue())!=null?s:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:a,getContext:pt(()=>[e,n,t,i],(s,c,d,h)=>({table:s,column:c,row:d,cell:h,getValue:h.getValue,renderValue:h.renderValue}),ht(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(i,n,t,e)},{}),i}const eb=(e,t,n,r,a,i,s)=>{let c={id:t,index:r,original:n,depth:a,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(c._valuesCache.hasOwnProperty(d))return c._valuesCache[d];const h=e.getColumn(d);if(h!=null&&h.accessorFn)return c._valuesCache[d]=h.accessorFn(c.original,r),c._valuesCache[d]},getUniqueValues:d=>{if(c._uniqueValuesCache.hasOwnProperty(d))return c._uniqueValuesCache[d];const h=e.getColumn(d);if(h!=null&&h.accessorFn)return h.columnDef.getUniqueValues?(c._uniqueValuesCache[d]=h.columnDef.getUniqueValues(c.original,r),c._uniqueValuesCache[d]):(c._uniqueValuesCache[d]=[c.getValue(d)],c._uniqueValuesCache[d])},renderValue:d=>{var h;return(h=c.getValue(d))!=null?h:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>zG(c.subRows,d=>d.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let d=[],h=c;for(;;){const g=h.getParentRow();if(!g)break;d.push(g),h=g}return d.reverse()},getAllCells:pt(()=>[e.getAllLeafColumns()],d=>d.map(h=>DK(e,c,h,h.id)),ht(e.options,"debugRows")),_getAllCellsByColumnId:pt(()=>[c.getAllCells()],d=>d.reduce((h,g)=>(h[g.column.id]=g,h),{}),ht(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const h=e._features[d];h==null||h.createRow==null||h.createRow(c,e)}return c};function SK(){return e=>pt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(a,i,s){i===void 0&&(i=0);const c=[];for(let h=0;h<a.length;h++){const g=eb(e,e._getRowId(a[h],h,s),a[h],h,i,void 0,s==null?void 0:s.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,c.push(g),e.options.getSubRows){var d;g.originalSubRows=e.options.getSubRows(a[h],h),(d=g.originalSubRows)!=null&&d.length&&(g.subRows=r(g.originalSubRows,i+1,g))}}return c};return n.rows=r(t),n},ht(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function H4(e,t,n){return n.options.filterFromLeafRows?EK(e,t,n):TK(e,t,n)}function EK(e,t,n){var r;const a=[],i={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,c=function(d,h){h===void 0&&(h=0);const g=[];for(let w=0;w<d.length;w++){var m;let b=d[w];const T=eb(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(T.columnFilters=b.columnFilters,(m=b.subRows)!=null&&m.length&&h<s){if(T.subRows=c(b.subRows,h+1),b=T,t(b)&&!T.subRows.length){g.push(b),i[b.id]=b,a.push(b);continue}if(t(b)||T.subRows.length){g.push(b),i[b.id]=b,a.push(b);continue}}else b=T,t(b)&&(g.push(b),i[b.id]=b,a.push(b))}return g};return{rows:c(e),flatRows:a,rowsById:i}}function TK(e,t,n){var r;const a=[],i={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,c=function(d,h){h===void 0&&(h=0);const g=[];for(let w=0;w<d.length;w++){let b=d[w];if(t(b)){var m;if((m=b.subRows)!=null&&m.length&&h<s){const E=eb(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);E.subRows=c(b.subRows,h+1),b=E}g.push(b),a.push(b),i[b.id]=b}}return g};return{rows:c(e),flatRows:a,rowsById:i}}function CK(){return e=>pt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let w=0;w<t.flatRows.length;w++)t.flatRows[w].columnFilters={},t.flatRows[w].columnFiltersMeta={};return t}const a=[],i=[];(n??[]).forEach(w=>{var b;const T=e.getColumn(w.id);if(!T)return;const E=T.getFilterFn();E&&a.push({id:w.id,filterFn:E,resolvedValue:(b=E.resolveFilterValue==null?void 0:E.resolveFilterValue(w.value))!=null?b:w.value})});const s=n.map(w=>w.id),c=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(w=>w.getCanGlobalFilter());r&&c&&d.length&&(s.push("__global__"),d.forEach(w=>{var b;i.push({id:w.id,filterFn:c,resolvedValue:(b=c.resolveFilterValue==null?void 0:c.resolveFilterValue(r))!=null?b:r})}));let h,g;for(let w=0;w<t.flatRows.length;w++){const b=t.flatRows[w];if(b.columnFilters={},a.length)for(let T=0;T<a.length;T++){h=a[T];const E=h.id;b.columnFilters[E]=h.filterFn(b,E,h.resolvedValue,M=>{b.columnFiltersMeta[E]=M})}if(i.length){for(let T=0;T<i.length;T++){g=i[T];const E=g.id;if(g.filterFn(b,E,g.resolvedValue,M=>{b.columnFiltersMeta[E]=M})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const m=w=>{for(let b=0;b<s.length;b++)if(w.columnFilters[s[b]]===!1)return!1;return!0};return H4(t.rows,m,e)},ht(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function xK(){return(e,t)=>pt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,a)=>{if(!n.rows.length||!(r!=null&&r.length)&&!a)return n;const i=[...r.map(c=>c.id).filter(c=>c!==t),a?"__global__":void 0].filter(Boolean),s=c=>{for(let d=0;d<i.length;d++)if(c.columnFilters[i[d]]===!1)return!1;return!0};return H4(n.rows,s,e)},ht(e.options,"debugTable"))}function MK(){return(e,t)=>pt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let i=0;i<n.flatRows.length;i++){const s=n.flatRows[i].getUniqueValues(t);for(let c=0;c<s.length;c++){const d=s[c];if(r.has(d)){var a;r.set(d,((a=r.get(d))!=null?a:0)+1)}else r.set(d,1)}}return r},ht(e.options,"debugTable"))}function kK(){return(e,t)=>pt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{var r;if(!n)return;const a=(r=n.flatRows[0])==null?void 0:r.getUniqueValues(t);if(typeof a>"u")return;let i=[a,a];for(let s=0;s<n.flatRows.length;s++){const c=n.flatRows[s].getUniqueValues(t);for(let d=0;d<c.length;d++){const h=c[d];h<i[0]?i[0]=h:h>i[1]&&(i[1]=h)}}return i},ht(e.options,"debugTable"))}function FK(){return e=>pt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,a=[],i=r.filter(d=>{var h;return(h=e.getColumn(d.id))==null?void 0:h.getCanSort()}),s={};i.forEach(d=>{const h=e.getColumn(d.id);h&&(s[d.id]={sortUndefined:h.columnDef.sortUndefined,invertSorting:h.columnDef.invertSorting,sortingFn:h.getSortingFn()})});const c=d=>{const h=d.map(g=>({...g}));return h.sort((g,m)=>{for(let b=0;b<i.length;b+=1){var w;const T=i[b],E=s[T.id],M=(w=T==null?void 0:T.desc)!=null?w:!1;let k=0;if(E.sortUndefined){const I=g.getValue(T.id),B=m.getValue(T.id),N=I===void 0,j=B===void 0;(N||j)&&(k=N&&j?0:N?E.sortUndefined:-E.sortUndefined)}if(k===0&&(k=E.sortingFn(g,m,T.id)),k!==0)return M&&(k*=-1),E.invertSorting&&(k*=-1),k}return g.index-m.index}),h.forEach(g=>{var m;a.push(g),(m=g.subRows)!=null&&m.length&&(g.subRows=c(g.subRows))}),h};return{rows:c(n.rows),flatRows:a,rowsById:n.rowsById}},ht(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function NK(e){const t=[],n=r=>{var a;t.push(r),(a=r.subRows)!=null&&a.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function IK(e){return t=>pt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:a,pageIndex:i}=n;let{rows:s,flatRows:c,rowsById:d}=r;const h=a*i,g=h+a;s=s.slice(h,g);let m;t.options.paginateExpandedRows?m={rows:s,flatRows:c,rowsById:d}:m=NK({rows:s,flatRows:c,rowsById:d}),m.flatRows=[];const w=b=>{m.flatRows.push(b),b.subRows.length&&b.subRows.forEach(w)};return m.rows.forEach(w),m},ht(t.options,"debugTable"))}function f2(e,t){return e?AK(e)?A.createElement(e,t):e:null}function AK(e){return OK(e)||typeof e=="function"||RK(e)}function OK(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function RK(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function LK(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=A.useState(()=>({current:bK(t)})),[r,a]=A.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:s=>{a(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const U4={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},_K=Object.keys(U4).join("|"),PK=new RegExp(_K,"g");function jK(e){return e.replace(PK,t=>U4[t])}const pa={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function BK(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:pa.MATCHES,!n.accessors){const s=d2(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const a=zK(e,n.accessors),i={rankedValue:e,rank:pa.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let s=0;s<a.length;s++){const c=a[s];let d=d2(c.itemValue,t,n);const{minRanking:h,maxRanking:g,threshold:m=n.threshold}=c.attributes;d<h&&d>=pa.MATCHES?d=h:d>g&&(d=g),d=Math.min(d,g),d>=m&&d>i.rank&&(i.rank=d,i.passed=!0,i.accessorIndex=s,i.accessorThreshold=m,i.rankedValue=c.itemValue)}return i}function d2(e,t,n){return e=p2(e,n),t=p2(t,n),t.length>e.length?pa.NO_MATCH:e===t?pa.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?pa.EQUAL:e.startsWith(t)?pa.STARTS_WITH:e.includes(` ${t}`)?pa.WORD_STARTS_WITH:e.includes(t)?pa.CONTAINS:t.length===1?pa.NO_MATCH:YK(e).includes(t)?pa.ACRONYM:HK(e,t))}function YK(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(i=>{t+=i.substr(0,1)})}),t}function HK(e,t){let n=0,r=0;function a(d,h,g){for(let m=g,w=h.length;m<w;m++)if(h[m]===d)return n+=1,m+1;return-1}function i(d){const h=1/d,g=n/t.length;return pa.MATCHES+g*h}const s=a(t[0],e,0);if(s<0)return pa.NO_MATCH;r=s;for(let d=1,h=t.length;d<h;d++){const g=t[d];if(r=a(g,e,r),!(r>-1))return pa.NO_MATCH}const c=r-s;return i(c)}function UK(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function p2(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=jK(e)),e}function VK(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function zK(e,t){const n=[];for(let r=0,a=t.length;r<a;r++){const i=t[r],s=$K(i),c=VK(e,i);for(let d=0,h=c.length;d<h;d++)n.push({itemValue:c[d],attributes:s})}return n}const h2={maxRanking:1/0,minRanking:-1/0};function $K(e){return typeof e=="function"?h2:{...h2,...e}}const qK=({thino:e})=>{const t=A.useRef(null);A.useEffect(()=>(t.current&&F.setIcon(t.current,"pin"),()=>{t.current&&(t.current=null)}),[t]);const n=A.useCallback(async()=>{e.pinned?await Me.unpinMemoById(e.id):await Me.pinMemoById(e.id)},[e]);return D.jsx("span",{ref:t,className:fs("pinned-status",e.pinned?"pinned":"not-pinned"),onClick:n})},WK=({thino:e})=>{const t=A.useRef(null);A.useEffect(()=>(t.current&&F.setIcon(t.current,e.thinoType==="JOURNAL"?"calendar":"check-square"),()=>{t.current&&(t.current=null)}),[t,e==null?void 0:e.thinoType]);const n=A.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const r=await Me.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");r&&Me.editMemo(r)},[e]);return D.jsx(D.Fragment,{children:e.thinoType!=="JOURNAL"?D.jsx("input",{className:fs("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":e.thinoType.slice(5),onClick:n}):D.jsx("span",{ref:t,className:"thino-type-status"})})},GK=({id:e,path:t})=>{const n=A.useRef(null);A.useEffect(()=>(n.current&&F.setIcon(n.current,"link"),()=>{n.current&&(n.current=null)}),[]);const r=A.useCallback(()=>{!e||!t||Me.openThinoByID(e)},[e,t]);return D.jsxs("span",{className:"source-thino",onClick:r,children:[D.jsx("span",{children:t}),D.jsx("span",{ref:n,className:"source-thino-icon"})]})},KK=({id:e,sourceType:t})=>{const n=A.useRef(null);A.useEffect(()=>{var a;return n.current&&F.setIcon(n.current,((a=Df.find(i=>i.title===t))==null?void 0:a.icon)||"list"),()=>{n.current&&(n.current=null)}},[]);const r=A.useCallback(async()=>{e&&await Me.openThinoByID(e)},[e]);return D.jsx("span",{ref:n,className:"source-type-icon",onClick:r})},m2=(e,t,n,r)=>{const a=BK(e.getValue(t),n);return r({itemRank:a}),a.passed},g2=(e,t,n)=>{var a,i;let r=0;return e.columnFiltersMeta[n]&&(r=UK((a=e.columnFiltersMeta[n])==null?void 0:a.itemRank,(i=t.columnFiltersMeta[n])==null?void 0:i.itemRank)),r===0?vf.alphanumeric(e,t,n):r};function QK({thinos:e}){var g;Q.useReducer(()=>({}),{})[1];const[t,n]=Q.useState([]),[r,a]=Q.useState(""),i=Q.useMemo(()=>[{header:O("Basic Info"),footer:m=>m.column.id,columns:[{accessorKey:"createdAt",header:()=>D.jsx("span",{className:"create-at-header-cell",children:O("Created At")}),cell:m=>m.getValue(),footer:m=>m.column.id,enableColumnFilter:!1},{accessorFn:m=>m.content,id:"content",header:()=>D.jsx("span",{className:"thino-header-cell",children:O("Thino")}),cell:m=>D.jsx(ml,{memo:m.row.original,type:"table"}),footer:m=>m.column.id,filterFn:"fuzzy",sortingFn:g2},{accessorFn:m=>m.thinoType,id:"thinoType",cell:m=>D.jsx(WK,{thino:m.row.original}),header:()=>D.jsx("span",{children:O("Thino Type")}),footer:m=>m.column.id},{accessorFn:m=>m.sourceType,id:"sourceType",cell:m=>D.jsx(KK,{id:m.row.original.id,sourceType:m.getValue()}),header:()=>D.jsx("span",{children:O("Source Type")}),footer:m=>m.column.id}]},{header:O("Additional Info"),footer:m=>m.column.id,columns:[{accessorKey:"pinned",header:()=>D.jsx("span",{children:O("Pinned Status")}),cell:m=>D.jsx(qK,{thino:m.row.original}),footer:m=>m.column.id,filterFn:"fuzzy",sortingFn:g2},{accessorKey:"rowStatus",header:()=>D.jsx("span",{children:O("Row status")}),cell:m=>D.jsx("span",{children:m.getValue()==="NORMAL"?"":m.getValue()}),footer:m=>m.column.id},{accessorKey:"path",header:()=>O("Path"),cell:m=>D.jsx(GK,{id:m.row.original.id,path:m.getValue()}),footer:m=>m.column.id}]}],[]),[s,c]=Q.useState(()=>e),d=()=>c(m=>e);A.useEffect(()=>{d()},[e]);const h=LK({data:s,columns:i,filterFns:{fuzzy:m2},initialState:{pagination:{pageSize:20}},state:{columnFilters:t,globalFilter:r},onColumnFiltersChange:n,onGlobalFilterChange:a,globalFilterFn:m2,getCoreRowModel:SK(),getFilteredRowModel:CK(),getSortedRowModel:FK(),getPaginationRowModel:IK(),getFacetedRowModel:xK(),getFacetedUniqueValues:MK(),getFacetedMinMaxValues:kK(),debugTable:!1,debugHeaders:!1,debugColumns:!1});return Q.useEffect(()=>{var m,w;((m=h.getState().columnFilters[0])==null?void 0:m.id)==="createdAt"&&((w=h.getState().sorting[0])==null?void 0:w.id)!=="createdAt"&&h.setSorting([{id:"createdAt",desc:!1}])},[(g=h.getState().columnFilters[0])==null?void 0:g.id]),D.jsxs("div",{className:"table-view",children:[D.jsx("div",{children:D.jsx(Gg,{value:r??"",onChange:m=>a(String(m)),className:"table-search-bar",placeholder:O("Search all columns...")})}),D.jsxs("table",{children:[D.jsx("thead",{children:h.getHeaderGroups().map(m=>D.jsx("tr",{children:m.headers.map(w=>D.jsx("th",{colSpan:w.colSpan,children:w.isPlaceholder?null:D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:fs(w.column.getCanSort()?"filter-header":"","table-header",w.column.id==="content"?"content-header":""),onClick:w.column.getToggleSortingHandler(),children:[f2(w.column.columnDef.header,w.getContext()),{asc:" 🔼",desc:" 🔽"}[w.column.getIsSorted()]??null]}),w.column.getCanFilter()?D.jsx(JK,{column:w.column,table:h}):null]})},w.id))},m.id))}),D.jsx("tbody",{children:h.getRowModel().rows.map(m=>D.jsx("tr",{className:fs(m.getValue("pinned")?"pinned":""),children:m.getVisibleCells().map(w=>D.jsx("td",{children:f2(w.column.columnDef.cell,w.getContext())},w.id))},m.id))})]}),D.jsxs("div",{className:"table-nav-bar",children:[D.jsx("button",{className:"prev-start-btn",onClick:()=>h.setPageIndex(0),disabled:!h.getCanPreviousPage(),children:"<<"}),D.jsx("button",{className:"prev-btn",onClick:()=>h.previousPage(),disabled:!h.getCanPreviousPage(),children:"<"}),D.jsx("button",{className:"next-btn",onClick:()=>h.nextPage(),disabled:!h.getCanNextPage(),children:">"}),D.jsx("button",{className:"next-end-btn",onClick:()=>h.setPageIndex(h.getPageCount()-1),disabled:!h.getCanNextPage(),children:">>"}),D.jsxs("span",{className:"table-page-info",children:[D.jsx("div",{children:O("Page")}),D.jsxs("strong",{children:[h.getState().pagination.pageIndex+1," of ",h.getPageCount()]})]}),D.jsxs("span",{className:"table-page-jump",children:["| ",O("Go to page"),":",D.jsx("input",{type:"number",defaultValue:h.getState().pagination.pageIndex+1,onChange:m=>{const w=m.target.value?Number(m.target.value)-1:0;h.setPageIndex(w)},className:"jump-inputer"})]}),D.jsx("select",{value:h.getState().pagination.pageSize,onChange:m=>{h.setPageSize(Number(m.target.value))},children:[10,20,30,40,50].map(m=>D.jsxs("option",{value:m,children:[O("Show")," ",m," ",O("rows")]},m))})]})]})}const ZK=e=>e==="sourceType"?["ALL"]:["ALL","ALL-TASK"];function JK({column:e,table:t}){var i,s,c,d,h,g,m,w,b;const n=(i=t.getPreFilteredRowModel().flatRows[0])==null?void 0:i.getValue(e.id),r=e.getFilterValue(),a=Q.useMemo(()=>typeof n=="number"?[]:Array.from(e.getFacetedUniqueValues().keys()).sort(),[e.getFacetedUniqueValues()]);return typeof n=="number"?D.jsx("div",{children:D.jsxs("div",{className:"filter-input-group",children:[D.jsx(Gg,{type:"number",min:Number(((s=e.getFacetedMinMaxValues())==null?void 0:s[0])??""),max:Number(((c=e.getFacetedMinMaxValues())==null?void 0:c[1])??""),value:(r==null?void 0:r[0])??"",onChange:T=>e.setFilterValue(E=>[T,E==null?void 0:E[1]]),placeholder:`Min ${(d=e.getFacetedMinMaxValues())!=null&&d[0]?`(${(h=e.getFacetedMinMaxValues())==null?void 0:h[0]})`:""}`,className:"filter-input-short"}),D.jsx(Gg,{type:"number",min:Number(((g=e.getFacetedMinMaxValues())==null?void 0:g[0])??""),max:Number(((m=e.getFacetedMinMaxValues())==null?void 0:m[1])??""),value:(r==null?void 0:r[1])??"",onChange:T=>e.setFilterValue(E=>[E==null?void 0:E[0],T]),placeholder:`Max ${(w=e.getFacetedMinMaxValues())!=null&&w[1]?`(${(b=e.getFacetedMinMaxValues())==null?void 0:b[1]})`:""}`,className:"filter-input-short"})]})}):D.jsx(D.Fragment,{children:a.length>1?D.jsxs(D.Fragment,{children:[e.id!=="path"&&e.id!=="content"&&e.id!=="thinoType"&&e.id!=="sourceType"&&D.jsx("datalist",{id:e.id+"list",children:a.slice(0,5e3).map(T=>D.jsx("option",{value:T},T))}),e.id==="thinoType"||e.id==="sourceType"?D.jsx("select",{id:e.id,onChange:T=>e.setFilterValue(T.target.value==="ALL"?"":T.target.value==="ALL-TASK"?"TASK":T.target.value),children:[...ZK(e.id),...a].map(T=>D.jsx("option",{value:T,children:O(T)},T))}):"",e.id!=="thinoType"&&e.id!=="sourceType"?D.jsx(Gg,{type:"text",value:r??"",onChange:T=>e.setFilterValue(T),placeholder:`Search... (${e.getFacetedUniqueValues().size})`,className:"filter-input-long",list:e.id+"list"}):""]}):""})}function Gg({value:e,onChange:t,debounce:n=500,...r}){const[a,i]=Q.useState(e);return Q.useEffect(()=>{i(e)},[e]),Q.useEffect(()=>{const s=setTimeout(()=>{t(a)},n);return()=>clearTimeout(s)},[a]),D.jsx("input",{...r,value:a,onChange:s=>i(s.target.value)})}let Y1;function XK(e){const t=e.filter(r=>r.pinned),n=e.filter(r=>!r.pinned);return[...t,...n]}function v2(e,t){const n={},r={day:"YYYY-MM-DD",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]1",year:"YYYY"};for(const a of e){const i=F.moment(a.createdAt,"YYYY/MM/DD HH:mm:ss").format(r[t]);if(a.pinned){n.PINNED||(n.PINNED=[]),n.PINNED.push(a);continue}n[i]||(n[i]=[]),n[i].push(a)}return n}function Ig(e){const{tag:t,duration:n,type:r,text:a,filter:i}=e,s=ln.getQueryById(i);return!(!!(t||n&&n.from<n.to||r||a||s)||s)}const eQ=({tempMemos:e,query:t,HideDoneTasks:n})=>{const r=e.filter(m=>m.rowStatus!=="ARCHIVED"&&!(m.deletedAt!==""&&m.deletedAt)),{tag:a,duration:i,type:s,text:c,filter:d}=t,h=ln.getQueryById(d);return!!(a||i&&i.from<i.to||s||c||h)||h||n?r.filter(m=>{let w=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(w=!1),m.content.contains("comment:")&&(w=!1),h){const b=JSON.parse(h.querystring);Array.isArray(b)&&(w=Th(m,b))}if(a){const b=new Set;for(const T of Array.from(m.content.match(ir)??[])){const M=T.replace(ir,"$1").trim().split("/");let k="";for(const I of M)k+=I,b.add(k),k+="/"}for(const T of Array.from(m.content.match(Lr)??[])){const M=T.replace(Lr,"$1").trim().split("/");let k="";for(const I of M)k+=I,b.add(k),k+="/"}for(const T of Array.from(m.content.match(La)??[])){const M=T.replace(La,"$2").trim().split("/");let k="";for(const I of M)k+=I,b.add(k),k+="/"}b.has(a)||(w=!1)}return i&&i.from<i.to&&(Ue.getTimeStampByDate(m.createdAt)<i.from||Ue.getTimeStampByDate(m.createdAt)>i.to)&&(w=!1),s&&(s==="NOT_TAGGED"&&(m.content.match(ir)!==null||m.content.match(La)!==null||m.content.match(Lr)!==null)||s==="LINKED"&&m.content.match(Rf)===null||s==="IMAGED"&&m.content.match(Lf)===null||s==="CONNECTED"&&m.content.match(Ou)===null)&&(w=!1),c&&!m.content.toLowerCase().includes(c.toLowerCase())&&(w=!1),w}):r.filter(m=>!m.content.contains("comment:"))},tQ=({updateThinosCount:e})=>{const{locationState:{query:t},memoState:{memos:n},globalState:{memoListView:r},dailyNotesState:{app:a,settings:i,verifyState:s,plugin:c}}=A.useContext(Ft),[d,h]=A.useState(!1),[g,m]=A.useState(!1),[w,b,T]=Or([]),[E,M]=A.useState([]),[k,I]=A.useState({}),[B,N]=A.useState((a==null?void 0:a.loadLocalStorage("showDayMark"))||!1),[j,R]=A.useState((a==null?void 0:a.loadLocalStorage("dayMarkRange"))||"day"),[_,$,q]=Or([]),z=A.useRef(0),ee=A.useRef(!1),ie=A.useRef(null),ae=A.useRef(null),me=A.useRef(null),fe=A.useRef(null),be=A.useRef(!1);A.useEffect(()=>()=>{ae.current&&(ae.current=null),me.current&&(me.current=null),fe.current&&(fe.current=null)},[]),A.useLayoutEffect(()=>{if((n.length!==0||!a)&&be.current===!0)return;const J=nQ(a);!J||J.length===0||($(J),M(J),N((a==null?void 0:a.loadLocalStorage("showDayMark"))||!1),a!=null&&a.loadLocalStorage("showDayMark")&&I(v2(J,(a==null?void 0:a.loadLocalStorage("dayMarkRange"))||"day")))},[a]),A.useEffect(()=>{if(n.length===0&&!Me.initialized)return;h(!1);const J=XK(n),ve=eQ({tempMemos:J,query:t,HideDoneTasks:(i==null?void 0:i.HideDoneTasks)||!1});return be.current=!0,e&&e(ve.length),$(ve),()=>{be.current=!1}},[n,t,i==null?void 0:i.HideDoneTasks]),A.useEffect(()=>{b(_.slice(0,w.length>20?Math.min(w.length,40):40))},[_]),A.useEffect(()=>{var J;w.length<40&&((J=me.current)==null||J.click()),Y1=_},[_]),A.useEffect(()=>{(Ig(t)&&w.length<_.length||w.length<_.length&&!Ig(t))&&m(!1),(Ig(t)&&w.length===n.length&&n.length>0||!Ig(t)&&w.length===_.length&&_.length>0)&&m(!0),rQ(w||[],a),M(w),a.saveLocalStorage("showDayMark",i==null?void 0:i.showDayMark),a.saveLocalStorage("dayMarkRange",i==null?void 0:i.dayMarkRange),N((i==null?void 0:i.showDayMark)||!1),R((i==null?void 0:i.dayMarkRange)||"day"),i!=null&&i.showDayMark&&I(v2(w,i==null?void 0:i.dayMarkRange))},[w,i==null?void 0:i.showDayMark,i==null?void 0:i.dayMarkRange]),A.useEffect(()=>{if(!ae.current)return;const J=async()=>{ee.current||(z.current++,await Te(),z.current>=1&&(ee.current=!0,setTimeout(()=>{z.current=0,ee.current=!1},3e3)))};w.length<40&&J();const ve=new IntersectionObserver(([V])=>{if(V.isIntersecting){if(g)return;J()}else z.current=0,ee.current=!1});return ae!=null&&ae.current&&ve.observe(ae.current),()=>{ae!=null&&ae.current&&ve.unobserve(ae.current)}},[d,g,ae]),A.useEffect(()=>{var J;(J=fe.current)==null||J.scrollTo({top:0})},[t]);const Te=async()=>{try{if(q.current.length>T.current.length){h(!0);const J=Math.min(T.current.length+40,q.current.length)-T.current.length,ve=q.current.slice(T.current.length,T.current.length+J);b(V=>[...V,...ve]),h(!1),m(ve.length<40)}}catch(J){console.error(J),new F.Notice(J.response.data.message)}};return D.jsxs("div",{className:`memolist-wrapper ${g?"completed":""}`,ref:fe,children:[D.jsxs("div",{ref:ie,className:"memolist-container",children:[r==="calendar"&&D.jsx(UG,{thinos:_}),r==="table"&&D.jsx(QK,{thinos:_}),(!B||r!=="waterfall")&&r!=="calendar"&&r!=="table"&&D.jsxs(bw,{breakpointCols:r==="waterfall"?3:1,className:`${r}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:[B&&r==="list"&&Object.keys(k).length>0&&D.jsx(D.Fragment,{children:Object.keys(k).map(J=>D.jsx(BD,{type:"list",thinos:k[J],dayMark:J,dayMarkRange:j},J))}),!B&&E.map((J,ve)=>D.jsx(ml,{memo:J},`${J.id}-${F.moment(J.updatedAt,"YYYY-MM-DD HH:mm:ss").format("x")}-${ve}`))]}),B&&r==="waterfall"&&Object.keys(k).length>0&&D.jsx(D.Fragment,{children:Object.keys(k).map(J=>D.jsx(BD,{type:"waterfall",thinos:k[J],dayMark:J,dayMarkRange:j},J))})]}),D.jsx("div",{ref:ae,className:fs("status-text-container",r==="calendar"||r==="table"?"hidden":""),children:D.jsx("p",{className:"status-text",children:d?O("Fetching data..."):g?_.length===0?O("Noooop!"):O("All Data is Loaded 🎉"):D.jsx(D.Fragment,{children:D.jsx("span",{ref:me,className:"cursor-pointer hover:text-green-600",onClick:Te,children:O("fetch more")})})})})]})};function V4(e){return`memosListCache:${e}`}function nQ(e){var t;try{const n=V4(e.appId),r=zn.get([n])[n];return r?((t=JSON.parse(r))==null?void 0:t.memos)??[]:[]}catch(n){return console.error(n),[]}}function rQ(e,t){try{if(!e)return;const n=e==null?void 0:e.slice(0,100),r=V4(t.appId);zn.set({[r]:JSON.stringify({memos:n})})}catch(n){console.error(n)}}const aQ=e=>{const t=[];return e.map(n=>{t.length==0?t.push({date:F.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]}):t.some(a=>{if(a.date==F.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"))return a.have.push(n),!0})||t.push({date:F.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]})}),t},oQ=e=>Me.getState().commentMemos.filter(t=>t.linkId===e.hasId).sort((t,n)=>Ue.getTimeStampByDate(t.createdAt)-Ue.getTimeStampByDate(n.createdAt)).map(t=>({...t,createdAtStr:Ue.getDateTimeString(t.createdAt),dateStr:Ue.getDateString(t.createdAt)})),iQ=e=>{const t=ct.getState().settings,n=W8(),r=t!=null&&t.ShowDate?"    ":"",a="YYYY/MM/DD HH:mm:ss",i=/comment:(.*)$/g,s=/^\d{14}/g,c=(m,w,b)=>{const T=F.moment(m.createdAt,a).format("HH:mm");return b?b.replace(/{TIME}/g,T).replace(/{CONTENT}/g,w):`${T} ${w}`},d=m=>{const w=m.match(/TASK-(.*)?/g);return w?w[1]:""},h=m=>m==="TASK-TODO"?"- [ ] ":m==="TASK-DONE"?"- [x] ":m.match(/TASK-(.*)?/g)?`- [${d(m)}] `:"- ",g=m=>m.reduce((w,b)=>{const T=b.sourceType!=="MULTI"?`${b.content}`:`[[${b.path}]]`,E=t!=null&&t.ShowTime?c(b,T,t==null?void 0:t.DefaultMemoComposition):T,M=`${h(b.thinoType)}${E}`;let k="";return t.CommentOnMemos&&b.hasId!==void 0&&b.hasId!==""&&(k=oQ(b).reduce((B,N)=>{const j=h(N.thinoType),R=N.content.replace(i,"").replace(s,""),_=t!=null&&t.ShowDate?`${j}[[${F.moment(N.createdAt).format(n)}]] ${F.moment(N.createdAt).format("HH:mm")} ${R}`:`${j}${R}`;return B+r+"    "+_+`
`},"")),w+r+M.replace(/ \^\S{6}/g,"")+`
`+k},"");return e.reduce((m,w)=>{const b=t!=null&&t.ShowDate?`- [[${F.moment(w.date,"YYYY-MM-DD").format(n)}]]
`:"",T=g(w.have),E=t!=null&&t.ShowDate&&(t!=null&&t.AddBlankLineWhenDate)&&!(t!=null&&t.CommentOnMemos)?`
`:"";return m+b+T+E},"").replace(/<br>/g,`
    `)},ey=({thinosCount:e})=>{const{locationState:{query:t}}=A.useContext(Ft),{tag:n,duration:r,type:a,text:i,filter:s}=t,c=ln.getQueryById(s),d=!!(n||r&&r.from<r.to||a||i||c),h=async()=>{if(!(Y1.length>0))return;const g=aQ(Y1),m=iQ(g);await Ue.copyTextToClipboard(m),new F.Notice(O("Copied to clipboard Successfully"))};return D.jsxs("div",{className:`filter-query-container ${d?"":"hidden"}`,children:[D.jsxs("div",{className:"filter-query",children:[D.jsx("span",{className:"tip-text",children:O("FILTER")}),D.jsxs("div",{className:"filter-item-container "+(c?"":"hidden"),onClick:()=>{it.setMemoFilter("")},children:[D.jsx("span",{className:"icon-text",children:"🔖"})," ",c==null?void 0:c.title]}),D.jsxs("div",{className:"filter-item-container "+(n?"":"hidden"),onClick:()=>{it.setTagQuery("")},children:[D.jsx("span",{className:"icon-text",children:"🏷️"})," ",n]}),D.jsxs("div",{className:"filter-item-container "+(a?"":"hidden"),onClick:()=>{it.setMemoTypeQuery("")},children:[D.jsx("span",{className:"icon-text",children:"📦"})," ",X7(a)]}),r&&r.from<r.to&&D.jsxs("div",{className:"filter-item-container",children:[D.jsxs("div",{className:"day-picker-component-group",children:[D.jsx("span",{className:"icon-text",children:"🗓️"})," ",D.jsx(av,{type:"text",startOrEnd:"start",defaultValue:F.moment(r.from,"x").valueOf(),handleValueChange:g=>{const m=F.moment(r.to,"x"),w=F.moment(g,"x"),b=w.isAfter(m)||w.isSame(m);it.setFromAndToQuery(b?m.startOf("day").valueOf():F.moment(g,"x").startOf("day").valueOf(),r.to)}}),D.jsx("span",{children:O("to")}),D.jsx(av,{type:"text",startOrEnd:"end",defaultValue:F.moment(r.to,"x").add(1,"days").valueOf(),handleValueChange:g=>{const m=F.moment(r.from,"x"),w=F.moment(g,"x"),b=w.isBefore(m)||w.isSame(m),T=F.moment(g,"x").endOf("day").valueOf();it.setFromAndToQuery(r.from,b?m.endOf("day").valueOf():T)}})]}),D.jsx("div",{ref:g=>g&&F.setIcon(g,"x"),className:"btn close-btn",onClick:()=>{it.setFromAndToQuery(0,0)}})]}),D.jsxs("div",{className:"filter-item-container "+(i?"":"hidden"),onClick:()=>{it.setTextQuery("")},children:[D.jsx("span",{className:"icon-text",children:"🔍"})," ",i]})]}),D.jsxs("div",{className:"thino-filter-items",children:[e&&D.jsx("div",{className:"thinos-count",children:`${e?`${e} Thinos `:""}`}),D.jsx("div",{ref:g=>{g&&F.setIcon(g,"copy"),g&&F.setTooltip&&F.setTooltip(g,O("Copy filtered thinos to clipboard"))},className:"btn copy-memo",onClick:h})]})]})};function sQ(){const{settings:e,app:t,view:n}=ct.getState(),{globalState:{loaded:r}}=A.useContext(Ft),a=F.Platform.isMobile&&e.DefaultEditorLocation==="Bottom",i=Q.useRef(null),[s,c]=Q.useState(0);A.useEffect(()=>{if(!t||!r||!n||!(t==null?void 0:t.loadLocalStorage("tokenForSync"))||!e.startSync)return;i.current=window.setInterval(async()=>{const w=H1(t);await d(w)},3e4),n.registerInterval(i.current);const m=H1(t);return d(m),()=>{i.current&&window.clearInterval(i.current)}},[n,t,r,e.startSync]);const d=async g=>{if(!e.startSync||!(t!=null&&t.loadLocalStorage("tokenForSync")))return;const m=await v7(g);if(!m||m.length===0)return;m.sort((T,E)=>F.moment(T.createdAt,"YYYY-MM-DD HH:mm:ss").isAfter(F.moment(E.createdAt,"YYYY-MM-DD HH:mm:ss"))?1:-1);const w=m.filter(T=>!T.deleted),b=m.filter(T=>T.deleted);for(let T=0;T<w.length;T++){const E=w[T],M=await Me.createOrPatchThinoFromWeb(E);M&&Me.pushMemo(M)}for(let T=0;T<b.length;T++){const E=b[T],M=Me.getMemoByWebId(E.id);M&&await Me.deleteMemoById(M.id,"local")}Me.updateTagsState(),uQ(t)},h=[D.jsx(ey,{thinosCount:s},"filter"),D.jsx(tQ,{updateThinosCount:g=>{c(g)}},"list")];return D.jsx(D.Fragment,{children:a?[D.jsx(PD,{syncThino:d},"header"),...h,D.jsx(Zp,{className:"mod-editor-bottom"},"editor")]:[D.jsx(PD,{syncThino:d},"header"),D.jsx(Zp,{},"editor"),...h]})}function lQ(e){try{e!=null&&e.saveLocalStorage&&e.saveLocalStorage("thinoLastUpdated",F.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x"))}catch(t){console.error(t)}}function H1(e){try{const t=(e==null?void 0:e.loadLocalStorage)&&(e==null?void 0:e.loadLocalStorage("thinoLastUpdated"));return t||F.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")}catch(t){return console.error(t),F.moment().format("x")}}function uQ(e){try{e!=null&&e.saveLocalStorage&&e.saveLocalStorage("thinoLastUpdated",F.moment().format("x"))}catch(t){console.error(t)}}const cQ=e=>{const{memo:t,handleDeletedMemoAction:n}=e,{dailyNotesState:r}=A.useContext(Ft),a={...t,createdAtStr:Ue.getDateTimeString(t.createdAt),deletedAtStr:Ue.getDateTimeString(t.deletedAt??t.createdAt)},i=Q.useRef(null),s=Q.useRef(null),[c,d]=Q.useState(""),[h,g]=Oo(!1),m={restore:A.useRef(null),delete:A.useRef(null),source:A.useRef(null)};A.useEffect(()=>{s&&(F.setIcon(m.restore.current,"archive-restore"),F.setIcon(m.delete.current,"trash"),F.setIcon(m.source.current,"home"))},[s]),A.useEffect(()=>{if(!i.current||!s.current||i.current.hasChildNodes()&&t.content===c||!r.view)return;const M=r.view;d(t.content),i.current.hasChildNodes()&&i.current.empty();async function k(){var B;await F.MarkdownRenderer.render(r.app,t.content.replaceAll(/<br>/g,`
`)+`
`,i.current,t.path,M);const I=(B=i.current)==null?void 0:B.querySelectorAll(".internal-link");I==null||I.forEach(N=>{const j=N,R=j.getAttribute("data-href");if(!R)return;r.app.metadataCache.getFirstLinkpathDest(R,t.path)||N.classList.add("is-unresolved"),j.addEventListener("mouseover",$=>{$.stopPropagation(),r.app.workspace.trigger("hover-link",{event:$,source:"thino",hoverParent:M.containerEl,targetEl:j,linktext:R,sourcePath:j.href})})})}k()},[t.content,s]);const w=async()=>{if(h)try{await Me.deleteMemoById(a.id),n(a.id)}catch(M){new F.Notice(M.message)}else g()},b=async()=>{switch(a.sourceType){case"DAILY":await ow(a.id,a.path);break;case"CANVAS":await sw(a.id,a.path);break;case"MULTI":await aw(a.path);break;case"FILE":await iw(a.id,a.path);break}},T=async()=>{try{const M=await Me.restoreMemoById(a.id),k=r.app,I=k==null?void 0:k.loadLocalStorage("tokenForSync");M&&M.webId&&I&&r.settings.startSync&&await b7(M.webId),M&&Me.editMemo(M),n(a.id),new F.Notice(O("RESTORE SUCCEED"))}catch(M){new F.Notice(M.message)}},E=()=>{h&&g(!1)};return D.jsxs("div",{ref:s,className:`memo-wrapper ${"memos-"+a.id}`,onMouseLeave:E,children:[D.jsxs("div",{className:"memo-top-wrapper",children:[D.jsxs("span",{className:"time-text",children:[O("DELETE AT")," ",a.deletedAtStr]}),D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{ref:M=>{M&&F.setIcon(M,"more-horizontal")},className:"btn more-action-btn"}),D.jsx("div",{className:"more-action-btns-wrapper",children:D.jsxs("div",{className:"more-action-btns-container",children:[D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:m.restore,className:"more-action-item-icon"}),D.jsx("span",{className:"btn restore-btn",onClick:T,children:O("RESTORE")})]}),D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:m.source,className:"more-action-item-icon"}),D.jsx("span",{className:"btn",onClick:b,children:O("SOURCE")})]}),D.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[D.jsx("span",{ref:m.delete,className:"more-action-item-icon"}),D.jsx("span",{className:`btn delete-btn ${h?"final-confirm":""}`,onClick:w,children:O(h?"CONFIRM！":"DELETE")})]})]})})]})]}),D.jsx("div",{ref:i,className:"memo-content-text",onContextMenu:M=>{M.preventDefault(),M.stopPropagation()}})]})},fQ=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=A.useContext(Ft),r=Vf(),[a,i]=A.useState([]),s=Q.useRef(null),c=A.useCallback(({memos:g,query:m,HideDoneTasks:w})=>{const{tag:b,duration:T,type:E,text:M,filter:k}=m,I=ln.getQueryById(k);return!!(b||T&&T.from<T.to||E||M||I)||I||w?g.filter(N=>{let j=!0;if(N.thinoType!==void 0&&w&&N.thinoType==="TASK-DONE"&&(j=!1),N.content.contains("comment:")&&(j=!1),I){const R=JSON.parse(I.querystring);Array.isArray(R)&&(j=Th(N,R))}if(b){const R=new Set;for(const _ of Array.from(N.content.match(ir)??[])){const q=_.replace(ir,"$1").trim().split("/");let z="";for(const ee of q)z+=ee,R.add(z),z+="/"}for(const _ of Array.from(N.content.match(Lr)??[])){const q=_.replace(Lr,"$1").trim().split("/");let z="";for(const ee of q)z+=ee,R.add(z),z+="/"}for(const _ of Array.from(N.content.match(La)??[])){const q=_.replace(La,"$2").trim().split("/");let z="";for(const ee of q)z+=ee,R.add(z),z+="/"}R.has(b)||(j=!1)}return T&&T.from<T.to&&(Ue.getTimeStampByDate(N.createdAt)<T.from||Ue.getTimeStampByDate(N.createdAt)>T.to)&&(j=!1),E&&(E==="NOT_TAGGED"&&(N.content.match(ir)!==null||N.content.match(Lr)!==null)||E==="LINKED"&&N.content.match(Rf)===null||E==="IMAGED"&&N.content.match(Lf)===null||E==="CONNECTED"&&N.content.match(Ou)===null)&&(j=!1),M&&!N.content.toLowerCase().includes(M.toLowerCase())&&(j=!1),j}):g},[]);A.useEffect(()=>{i(c({memos:n.filter(g=>g.deletedAt!==""&&g.deletedAt),query:e,HideDoneTasks:!1})),r.setFinish(),it.clearQuery()},[n,s.current]);const d=A.useCallback(g=>{i(m=>m.filter(w=>w.id!==g))},[]),h=A.useCallback(()=>{rt.setShowSiderbarInMobileView(!0)},[]);return D.jsxs("div",{className:"memo-trash-wrapper",ref:s,children:[D.jsx("div",{className:"section-header-container",children:D.jsxs("div",{className:"title-text",children:[D.jsx(No,{when:t,children:D.jsx("button",{ref:g=>{g&&F.setIcon(g,"menu")},className:"btn action-btn clickable-icon",onClick:h})}),D.jsx("span",{className:"normal-text",children:O("Recycle bin")}),D.jsxs("span",{className:"go-home-btn",onClick:()=>{it.setPathname("/")},children:["🏠 ",O("Return To Home Page")]})]})}),D.jsx(ey,{}),r.isLoading?D.jsx("div",{className:"tip-text-container",children:D.jsx("span",{className:"tip-text",children:O("Fetching data...")})}):a.length===0?D.jsx("div",{className:"tip-text-container",children:D.jsx("span",{className:"tip-text",children:O("Here is No Memos.")})}):D.jsx("div",{className:"deleted-memos-container",children:a.map(g=>D.jsx(cQ,{memo:g,handleDeletedMemoAction:d},`${g.id}-${g.updatedAt}`))})]})},Ag="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='currentColor'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M19%203H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2zm0%2016H5V5h14v14zM17.99%209l-1.41-1.42-6.59%206.59-2.58-2.57-1.42%201.41%204%203.99z'/%3e%3c/svg%3e",Og="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='currentColor'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='M19%205v14H5V5h14m0-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2z'/%3e%3c/svg%3e",dQ=()=>{const{globalState:e}=A.useContext(Ft),{useTinyUndoHistoryCache:t,shouldHideImageUrl:n,shouldSplitMemoWord:r,shouldUseMarkdownParser:a}=e,i=`👋 你好呀～欢迎使用memos!
* ✨ **开源项目**；
* 😋 精美且细节的视觉样式；
* 📑 体验优良的交互逻辑；`,s=()=>{rt.setAppSetting({useTinyUndoHistoryCache:!t})},c=()=>{rt.setAppSetting({shouldSplitMemoWord:!r})},d=()=>{rt.setAppSetting({shouldHideImageUrl:!n})},h=()=>{rt.setAppSetting({shouldUseMarkdownParser:!a})},g=async()=>{const m=Me.getState().memos.map(T=>({...T})),w=JSON.stringify(m),b=document.createElement("a");b.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(w)),b.setAttribute("download","data.json"),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b)};return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"section-container preferences-section-container",children:[D.jsx("p",{className:"title-text",children:"Memo 显示相关"}),D.jsx("div",{className:"demo-content-container memo-content-text",dangerouslySetInnerHTML:{__html:n1(i)}}),D.jsxs("label",{className:"form-label checkbox-form-label",onClick:c,children:[D.jsx("span",{className:"normal-text",children:"中英文内容自动间隔"}),D.jsx("img",{className:"icon-img",src:r?Ag:Og})]}),D.jsxs("label",{className:"form-label checkbox-form-label",onClick:h,children:[D.jsx("span",{className:"normal-text",children:"部分 markdown 格式解析"}),D.jsx("img",{className:"icon-img",src:a?Ag:Og})]}),D.jsxs("label",{className:"form-label checkbox-form-label",onClick:d,children:[D.jsx("span",{className:"normal-text",children:"隐藏图片链接地址"}),D.jsx("img",{className:"icon-img",src:n?Ag:Og})]})]}),D.jsxs("div",{className:"section-container preferences-section-container",children:[D.jsx("p",{className:"title-text",children:"编辑器"}),D.jsxs("label",{className:"form-label checkbox-form-label",onClick:s,children:[D.jsxs("span",{className:"normal-text",children:["启用"," ",D.jsx("a",{target:"_blank",href:"https://github.com/boojack/tiny-undo",onClick:m=>m.stopPropagation(),rel:"noreferrer",children:"tiny-undo"})]}),D.jsx("img",{className:"icon-img",src:t?Ag:Og})]})]}),D.jsxs("div",{className:"section-container hidden",children:[D.jsx("p",{className:"title-text",children:"其他"}),D.jsx("div",{className:"btn-container",children:D.jsx("button",{className:"btn export-btn",onClick:g,children:"导出数据(JSON)"})})]})]})},pQ=()=>{const{globalState:{isMobileView:e}}=A.useContext(Ft);A.useEffect(()=>{Me.fetchAllMemos()},[]);const t=A.useCallback(()=>{rt.setShowSiderbarInMobileView(!0)},[]);return D.jsxs("div",{className:"preference-wrapper",children:[D.jsx("div",{className:"section-header-container",children:D.jsxs("div",{className:"title-text",children:[D.jsx(No,{when:e,children:D.jsx("button",{className:"action-btn",onClick:t})}),D.jsx("span",{className:"normal-text",children:"账号与设置"})]})}),D.jsx("div",{className:"sections-wrapper",children:D.jsx(dQ,{})})]})},hQ=e=>{const{dailyNotesState:{app:t,settings:n,view:r}}=A.useContext(Ft),{memo:a,handleUnarchivedMemoAction:i}=e,s=Q.useRef(null),c=Q.useRef(null),[d,h]=Q.useState(""),g={...a,createdAtStr:Ue.getDateTimeString(a.createdAt),deletedAtStr:Ue.getDateTimeString(a.deletedAt??a.createdAt)},[m,w]=Oo(!1),b={restore:A.useRef(null),delete:A.useRef(null),source:A.useRef(null)};A.useEffect(()=>{c&&(F.setIcon(b.restore.current,"archive-restore"),F.setIcon(b.delete.current,"trash"),F.setIcon(b.source.current,"home"))},[c]),A.useEffect(()=>{if(!s.current||!c.current||s.current.hasChildNodes()&&a.content===d||!r)return;h(a.content),s.current.hasChildNodes()&&s.current.empty();async function I(){var N;await F.MarkdownRenderer.render(t,a.content.replaceAll(/<br>/g,`
`)+`
`,s.current,a.path,r);const B=(N=s.current)==null?void 0:N.querySelectorAll(".internal-link");B==null||B.forEach(j=>{const R=j,_=R.getAttribute("data-href");if(!_)return;t.metadataCache.getFirstLinkpathDest(_,a.path)||j.classList.add("is-unresolved"),R.addEventListener("mouseover",q=>{q.stopPropagation(),t.workspace.trigger("hover-link",{event:q,source:"thino",hoverParent:r.containerEl,targetEl:R,linktext:_,sourcePath:R.href})})})}I()},[a.content,c]);const T=async()=>{switch(g.sourceType){case"DAILY":await ow(g.id,g.path);break;case"CANVAS":await sw(g.id,g.path);break;case"MULTI":await aw(g.path);break;case"FILE":await iw(g.id,g.path);break}},E=async()=>{if(m)try{if(n.DeleteThinoDirectly)await Me.deleteMemoById(g.id);else{const I=await Me.hideMemoById(g.id);I&&Me.editMemo(I)}}catch(I){new F.Notice(I.message)}else w()},M=async()=>{try{const I=await Me.unarchiveMemo(g);I&&Me.editMemo(I),i(g.id),new F.Notice(O("RESTORE SUCCEED"))}catch(I){new F.Notice(I.message)}},k=()=>{m&&w(!1)};return D.jsxs("div",{ref:c,className:`memo-wrapper ${"memos-"+g.id}`,onMouseLeave:k,children:[D.jsxs("div",{className:"memo-top-wrapper",children:[D.jsxs("span",{className:"time-text",children:[O("ARCHIVED AT")," ",g.updatedAt]}),D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{ref:I=>{I&&F.setIcon(I,"more-horizontal")},className:"btn more-action-btn"}),D.jsx("div",{className:"more-action-btns-wrapper",children:D.jsxs("div",{className:"more-action-btns-container",children:[D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:b.restore,className:"more-action-item-icon"}),D.jsx("span",{className:"btn restore-btn",onClick:M,children:O("RESTORE")})]}),D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:b.source,className:"more-action-item-icon"}),D.jsx("span",{className:"btn",onClick:T,children:O("SOURCE")})]}),D.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[D.jsx("span",{ref:b.delete,className:"more-action-item-icon"}),D.jsx("span",{className:`btn delete-btn ${m?"final-confirm":""}`,onClick:E,children:O(m?"CONFIRM！":"DELETE")})]})]})})]})]}),D.jsx("div",{ref:s,className:"memo-content-text"})]})},mQ=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=A.useContext(Ft),r=Vf(),[a,i]=A.useState([]),s=Q.useRef(null),c=A.useCallback(({memos:m,query:w,HideDoneTasks:b})=>{const{tag:T,duration:E,type:M,text:k,filter:I}=w,B=ln.getQueryById(I);return!!(T||E&&E.from<E.to||M||k||B)||B||b?m.filter(j=>{let R=!0;if(j.thinoType!==void 0&&b&&j.thinoType==="TASK-DONE"&&(R=!1),j.content.contains("comment:")&&(R=!1),B){const _=JSON.parse(B.querystring);Array.isArray(_)&&(R=Th(j,_))}if(T){const _=new Set;for(const $ of Array.from(j.content.match(ir)??[])){const z=$.replace(ir,"$1").trim().split("/");let ee="";for(const ie of z)ee+=ie,_.add(ee),ee+="/"}for(const $ of Array.from(j.content.match(Lr)??[])){const z=$.replace(Lr,"$1").trim().split("/");let ee="";for(const ie of z)ee+=ie,_.add(ee),ee+="/"}for(const $ of Array.from(j.content.match(La)??[])){const z=$.replace(La,"$2").trim().split("/");let ee="";for(const ie of z)ee+=ie,_.add(ee),ee+="/"}_.has(T)||(R=!1)}return E&&E.from<E.to&&(Ue.getTimeStampByDate(j.createdAt)<E.from||Ue.getTimeStampByDate(j.createdAt)>E.to)&&(R=!1),M&&(M==="NOT_TAGGED"&&(j.content.match(ir)!==null||j.content.match(Lr)!==null)||M==="LINKED"&&j.content.match(Rf)===null||M==="IMAGED"&&j.content.match(Lf)===null||M==="CONNECTED"&&j.content.match(Ou)===null)&&(R=!1),k&&!j.content.toLowerCase().includes(k.toLowerCase())&&(R=!1),R}):m},[]);A.useEffect(()=>{i(c({memos:n.filter(m=>m.rowStatus==="ARCHIVED"&&m.deletedAt===""),query:e,HideDoneTasks:!1})),r.setFinish(),it.clearQuery()},[n,s.current]);const d=A.useCallback(m=>{i(w=>w.filter(b=>b.id!==m))},[]),h=A.useCallback(m=>{i(w=>w.filter(b=>b.id!==m))},[]),g=A.useCallback(()=>{rt.setShowSiderbarInMobileView(!0)},[]);return D.jsxs("div",{className:"memo-trash-wrapper",ref:s,children:[D.jsx("div",{className:"section-header-container",children:D.jsxs("div",{className:"title-text",children:[D.jsx(No,{when:t,children:D.jsx("button",{ref:m=>{m&&F.setIcon(m,"menu")},className:"btn action-btn clickable-icon",onClick:g})}),D.jsx("span",{className:"normal-text",children:O("ARCHIVE")}),D.jsxs("span",{className:"go-home-btn",onClick:()=>{it.setPathname("/")},children:["🏠 ",O("Return To Home Page")]})]})}),D.jsx(ey,{}),r.isLoading?D.jsx("div",{className:"tip-text-container",children:D.jsx("p",{className:"tip-text",children:O("Fetching data...")})}):a.length===0?D.jsx("div",{className:"tip-text-container",children:D.jsx("p",{className:"tip-text",children:O("Here is No Memos.")})}):D.jsx("div",{className:"deleted-memos-container",children:a.map(m=>D.jsx(hQ,{memo:m,handleUnarchivedMemoAction:h,handleDeletedMemoAction:d},`${m.id}-${m.updatedAt}`))})]})},gQ=()=>{const{dailyNotesState:{app:e},locationState:{query:t},globalState:{isMobileView:n,changedByMemos:r},memoState:{memos:a}}=A.useContext(Ft),i=Vf(),[s,c]=A.useState([]),[d,h]=A.useState([]),g=Q.useRef(null),m=Q.useRef(null),[w,b]=A.useState(!1),[T,E]=A.useState([]),M=Q.useRef([]),k=A.useCallback(({memos:N,query:j,HideDoneTasks:R})=>{const{tag:_,duration:$,type:q,text:z,filter:ee}=j,ie=ln.getQueryById(ee);return!!(_||$&&$.from<$.to||q||z||ie)||ie||R?N.filter(me=>{let fe=!0;if(me.thinoType!==void 0&&R&&me.thinoType==="TASK-DONE"&&(fe=!1),me.content.contains("comment:")&&(fe=!1),ie){const be=JSON.parse(ie.querystring);Array.isArray(be)&&(fe=Th(me,be))}if(_){const be=new Set;for(const Te of Array.from(me.content.match(ir)??[])){const ve=Te.replace(ir,"$1").trim().split("/");let V="";for(const G of ve)V+=G,be.add(V),V+="/"}for(const Te of Array.from(me.content.match(Lr)??[])){const ve=Te.replace(Lr,"$1").trim().split("/");let V="";for(const G of ve)V+=G,be.add(V),V+="/"}for(const Te of Array.from(me.content.match(La)??[])){const ve=Te.replace(La,"$2").trim().split("/");let V="";for(const G of ve)V+=G,be.add(V),V+="/"}be.has(_)||(fe=!1)}return $&&$.from<$.to&&(Ue.getTimeStampByDate(me.createdAt)<$.from||Ue.getTimeStampByDate(me.createdAt)>$.to)&&(fe=!1),q&&(q==="NOT_TAGGED"&&(me.content.match(ir)!==null||me.content.match(Lr)!==null)||q==="LINKED"&&me.content.match(Rf)===null||q==="IMAGED"&&me.content.match(Lf)===null||q==="CONNECTED"&&me.content.match(Ou)===null)&&(fe=!1),z&&!me.content.toLowerCase().includes(z.toLowerCase())&&(fe=!1),fe}):N},[]);A.useEffect(()=>{m.current&&(F.setIcon(m.current,"refresh-cw"),e.workspace.on("refresh-review-memos",B))},[m]),A.useEffect(()=>{if(!w)return;const N=[...T].sort(()=>Math.random()-Math.random()).slice(0,10);c(N),b(!1)},[w]),A.useEffect(()=>{if(!(T.length>0))return;const N=[...T].sort(()=>Math.random()-Math.random()).slice(0,10);c(N),b(!1)},[T]),A.useEffect(()=>{g.current&&(E(k({memos:a,query:t,HideDoneTasks:!1}).filter(N=>N.rowStatus!=="ARCHIVED"&&!(N.deletedAt!==""&&N.deletedAt))),i.setFinish(),it.clearQuery())},[a,g.current]),A.useEffect(()=>{if(r&&M.current.length>0){const N=T.filter(R=>M.current.includes(R.id)),j=M.current.map(R=>N.find(_=>_.id===R)).filter(R=>R!==void 0);h(j);return}M.current=s.map(N=>N.id),h(s)},[s]),A.useEffect(()=>{if(s.length===0)return;const N=k({memos:s,query:t,HideDoneTasks:!1});h(N)},[t]);const I=A.useCallback(()=>{rt.setShowSiderbarInMobileView(!0)},[]),B=()=>{b(!0)};return D.jsxs("div",{className:"memo-review-wrapper",ref:g,children:[D.jsx("div",{className:"section-header-container",children:D.jsxs("div",{className:"title-wrapper",children:[D.jsxs("div",{className:"title-btns-left-wrapper",children:[D.jsx(No,{when:n,children:D.jsx("button",{ref:N=>{N&&F.setIcon(N,"menu")},className:"btn action-btn clickable-icon",onClick:I})}),D.jsx("span",{className:"normal-text",children:O("Random Review")}),D.jsx("span",{ref:m,onClick:B,className:"refresh-icon"})]}),D.jsx("div",{className:"title-btns-right-wrapper",children:D.jsxs("span",{className:"go-home-btn",onClick:()=>{it.setPathname("/")},children:["🏠 ",O("Return To Home Page")]})})]})}),D.jsx(ey,{}),i.isLoading?D.jsx("div",{className:"tip-text-container",children:D.jsx("span",{className:"tip-text",children:O("Fetching data...")})}):a.length===0?D.jsx("div",{className:"tip-text-container",children:D.jsx("span",{className:"tip-text",children:O("Here is No Memos.")})}):D.jsx("div",{className:"review-memos-container",children:d.map(N=>D.jsx(ml,{memo:N},`${N==null?void 0:N.id}-${N.createdAt}`))})]})},vQ={"/recycle":D.jsx(fQ,{}),"/setting":D.jsx(pQ,{}),"/archive":D.jsx(mQ,{}),"/review":D.jsx(gQ,{}),"*":D.jsx(sQ,{})},z4=e=>t=>{for(const n of Object.keys(e))if(n===t)return e[n];return e["*"]},yQ=z4(DN),wQ=z4(vQ);function bQ({app:e}){const{locationState:{pathname:t},dailyNotesState:{settings:n}}=A.useContext(Ft);return A.useEffect(()=>{Me.fetchAllMemos()},[]),!nE()&&!e.plugins.getPlugin("periodic-notes")&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&new F.Notice(O("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),D.jsx(If,{store:xe,context:Ft,children:yQ(t)})}const Ar="thino_view";class DQ extends F.EditorSuggest{constructor(n,r){super(n);ye(this,"root");ye(this,"editor");ye(this,"cursor");ye(this,"plugin");this.plugin=r}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const a=(i=r.parentElement)==null?void 0:i.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}onTrigger(n,r){const i=r.getLine(n.line)[n.ch-1];return this.checkInMemosView(r)&&i==="@"?(this.cursor=n,this.editor=r,F.Platform.isMobile?(new q3(this.app,"text",s=>{this.selectSuggestion(parseInt(s),new MouseEvent("click"))}).open(),null):{start:{line:n.line,ch:n.ch-1},end:n,query:""}):null}getSuggestions(){return[parseInt(F.moment().startOf("day").format("x"))]}renderSuggestion(n,r){var a;(a=this.suggestEl)==null||a.addClass("memos-date-selector"),r.empty(),this.root=Lu.createRoot(r),this.root.render(D.jsx(Q.StrictMode,{children:D.jsx(kv,{className:"editor-date-picker",datestamp:n,handleDateStampChange:this.selectSuggestion.bind(this)})}))}selectSuggestion(n,r){var s;if(r instanceof KeyboardEvent||r instanceof PointerEvent&&!r.target.hasClass("day-item")&&!r.target.hasClass("null"))return;let a="",i="";switch(this.plugin.settings.InsertDateFormat){case"Dataview":a="[due::",i="]";break;case"Tasks":a="📆";break}this.editor.replaceRange(a+F.moment(n).format("YYYY-MM-DD")+i,{line:this.cursor.line,ch:this.cursor.ch-1},this.cursor),(s=this.root)==null||s.unmount(),this.close()}}class SQ extends F.EditorSuggest{constructor(n,r){super(n);ye(this,"root");ye(this,"editor");ye(this,"cursor");ye(this,"plugin");ye(this,"memos",[]);this.plugin=r,this.memos=Me.getState().memos.filter(a=>!a.deletedAt&&a.rowStatus!=="ARCHIVED")}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const a=(i=r.parentElement)==null?void 0:i.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const a=F.prepareFuzzySearch(n);return r.map(i=>{const s=a(i.content);return s?{item:i,match:s}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r))return null;const i=r.getLine(n.line).slice(0,n.ch);if(i.lastIndexOf("~")===-1)return null;const s=i.slice(i.lastIndexOf("~")+1,n.ch);if(i[i.lastIndexOf("~")-1]!==" "&&i.lastIndexOf("~")!==0)return null;const c=s.trim();return this.memos=Me.getState().memos.filter(d=>!d.deletedAt&&d.rowStatus!=="ARCHIVED"),{start:{line:n.line,ch:n.ch-c.length},end:n,query:c}}getSuggestions(n){return n.query?this.fuzzySearchItemsOptimized(n.query,this.memos).sort((a,i)=>i.match.score-a.match.score).map(a=>a.item).map(a=>({time:a.createdAt,id:a.id,content:a.content})):this.memos.map(a=>({time:a.createdAt,id:a.id,content:a.content}))}renderSuggestion(n,r){r.toggleClass("thino-suggestion",!0),r.createEl("div",{cls:"thino-suggestion-time",text:n.time}),r.createEl("div",{cls:"thino-suggestion-container"}).createEl("div",{cls:"thino-suggestion-content",text:n.content})}selectSuggestion(n){const r=n.id;this.context.editor.replaceRange("MARK: [@THINO]("+r+")",{line:this.context.end.line,ch:this.context.start.ch-1},this.context.end)}}class EQ{constructor(){ye(this,"path","/fake-file-that-generated-for-thino.png");ye(this,"basename","fake-file-that-generated-for-thino");ye(this,"extension","png");ye(this,"deleted",!1);ye(this,"name","fake-file-that-generated-for-thino.png");ye(this,"parent",null);ye(this,"stat");ye(this,"vault",null)}static[Symbol.hasInstance](t){return t instanceof F.TFile}setPath(t){}getNewPathAfterRename(t){}getShortName(){}cache(t){}updateCacheLimit(){}}function TQ(e){try{const t=Lu.createRoot(e);return t.render(D.jsx(Q.StrictMode,{children:D.jsx(If,{store:xe,context:Ft,children:D.jsx(Zp,{})})})),t}catch(t){console.error(t)}}class bu extends F.ItemView{constructor(n,r){super(n);ye(this,"scope",new F.Scope(this.app.scope));ye(this,"root");ye(this,"plugin");ye(this,"hoverPopover");ye(this,"memosComponent");ye(this,"editor",null);ye(this,"navigation",!1);ye(this,"file",new EQ);this.plugin=r,this.registerScope()}getDisplayText(){return"Thino"}getIcon(){return"Memos"}getViewType(){return Ar}getMode(){return"source"}registerScope(){const{scope:n}=this;n.register(["Mod"],"Enter",()=>{});for(let r=0;r<Df.length-1;r++)n.register(["Alt"],(r+1).toString(),()=>{});n.register([],"i",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-textarea"))}),n.register(["Mod"],"f",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"o",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"Escape",()=>{setTimeout(()=>{this.plugin.app.workspace.trigger("blur-on-memos")},20)})}async onFileDeleted(n){var d,h,g;const r=Bp(n,"day"),a=n.path.contains(".thino")&&n.path.contains(".canvas"),i=n.path.contains(".thino")&&n.path.contains(".md"),s=((d=this.plugin.settings)==null?void 0:d.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",c=(g=((h=n.parent)==null?void 0:h.path)||n.path)==null?void 0:g.contains(s==null?void 0:s.trim());(r||a&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="CANVAS"))&&(await Me.removeMemosInFile(n),Me.updateTagsState()),c&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="MULTI")&&(await Me.removeMemosInFile(n,s),Me.updateTagsState()),i&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="FILE")&&(await Me.removeMemosInFile(n),Me.updateTagsState())}async onFileModified(n){var d;if(rt.getState().changedByMemos){rt.setChangedByMemos(!1);return}const r=Bp(n,"day"),a=n.path.contains(".thino")&&n.path.contains(".canvas"),i=n.path.contains(".thino")&&n.path.contains(".md"),s=((d=this.plugin.settings)==null?void 0:d.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",c=n.parent.path.contains(s==null?void 0:s.trim());if(r||a&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="CANVAS")){await Me.updateMemosInFile(n),Me.updateTagsState();return}c&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="MULTI")&&(await Me.updateMemosInFile(n,s),Me.updateTagsState()),i&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="FILE")&&(await Me.updateMemosInFile(n),Me.updateTagsState())}async onFileCreated(n){var r;if(this.app.workspace.layoutReady&&this.memosComponent){const a=Bp(n,"day"),i=n.path.contains(".thino")&&n.path.contains(".canvas"),s=n.path.contains(".thino")&&n.path.contains(".md"),c=((r=this.plugin.settings)==null?void 0:r.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",d=n.parent.path.contains(c==null?void 0:c.trim());if(a){await ct.updateDailyNotes(n,!1),await Me.updateMemosInFile(n),Me.updateTagsState();return}if(i&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="CANVAS")){await Me.updateMemosInFile(n),Me.updateTagsState();return}d&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="MULTI")&&(await Me.updateMemosInFile(n,c),Me.updateTagsState()),s&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="FILE")&&(await Me.updateMemosInFile(n),Me.updateTagsState())}}async onResize(){var r;super.onResize();const n=this.leaf;if(n&&n.height!==0){if(n.width>950){n.view.containerEl.classList.toggle("mobile-view",!1),rt.setIsMobileView(n.width<=950);return}if((r=this.plugin.settings)!=null&&r.ShowLeftSideBar&&!F.Platform.isMobile)return;n.view.containerEl.classList.toggle("mobile-view",!0),rt.setIsMobileView(n.width<=950)}}async onOpen(){this.navigation=this.plugin.settings.navigation,await this.onResize(),this.onFileCreated=this.onFileCreated.bind(this),this.onFileDeleted=this.onFileDeleted.bind(this),this.onFileModified=this.onFileModified.bind(this),this.registerEvent(this.app.vault.on("create",this.onFileCreated)),this.registerEvent(this.app.vault.on("delete",this.onFileDeleted)),this.registerEvent(this.app.vault.on("modify",F.debounce(this.onFileModified,2e3,!0)));try{this.root=Lu.createRoot(this.contentEl),ct.setView(this),this.root.render(D.jsx(Q.StrictMode,{children:D.jsx(bQ,{app:this.plugin.app})}))}catch(n){console.error(n)}}onunload(){super.onunload(),this.root.unmount()}}const y2={Memos:'<svg t="1641348507339" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2120" width="100" height="100"><path d="M126.692653 478.099639l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356 0 18.992434 15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297C161.116003 493.523561 145.706067 478.099639 126.692653 478.099639zM244.662333 243.526943c13.742566-13.110184 14.310011-34.948836 1.185841-48.706388l-62.644762-65.668806c-13.128167-13.762547-34.974811-14.229091-48.717377-1.118906s-14.261059 34.911872-1.132893 48.674419l62.644762 65.668806C209.123074 256.13262 230.919767 256.637127 244.662333 243.526943zM543.066631 957.422083l-60.603757 0c-18.654764 0-33.794964 15.147193-33.794964 33.862898 0 18.661757 15.1402 32.71502 33.794964 32.71502l60.603757 0c18.654764 0 33.794964-14.053262 33.794964-32.71502C576.861595 972.568277 561.721395 957.422083 543.066631 957.422083zM988.076617 479.050709l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356s15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297S1007.09003 479.050709 988.076617 479.050709zM512.268737 192.765564c-172.737143 0-312.75527 150.079292-312.75527 322.746503 0 125.630192 74.080583 233.957298 180.936128 283.703669l0 84.51838c0 16.762614 15.410935 31.35435 34.42335 31.35435 0.598415 0 1.193833-0.014985 1.785255-0.042958 0.618395 0.026974 1.239788 0.042958 1.867175 0.042958l187.479731 0c5.905227 0 11.455802-1.220807 16.288078-3.477601 12.231044-4.657447 20.795671-15.383962 20.795671-27.87575l0-84.052835c107.391021-49.534578 181.935151-158.147405 181.935151-284.168214C825.024007 342.843857 684.997888 192.765564 512.268737 192.765564zM574.863548 742.713968l0 80.17063c0 3.159911-0.221783 5.976158-0.642372 8.496694l0 19.092336-124.910895 0 0-17.71768c-0.423586-2.856208-0.642372-6.123015-0.642372-9.870351l0-80.443363c-99.204024-27.75387-171.970892-118.821847-171.970892-226.930167 0-130.094827 105.4689-245.507007 235.571719-245.507007s235.563727 115.41218 235.563727 245.507007C747.832465 623.984031 674.578074 715.293772 574.863548 742.713968zM895.407204 129.328576c-13.429872-13.429872-35.233558-13.439862-48.677416 0.004995l-64.174267 64.175266c-13.448853 13.448853-13.443858 35.257534-0.013986 48.687406 13.429872 13.429872 35.281511 13.477825 48.730364 0.028972l64.175266-64.175266C908.889025 164.605092 908.837076 142.758448 895.407204 129.328576zM511.796199 159.617967c18.992434 0 34.417356-15.410935 34.417356-34.42335l0-90.757281c0-19.019408-15.423923-34.437336-34.417356-34.437336-18.992434 0-34.477297 15.416929-34.477297 34.437336l0 90.757281C477.317903 144.208031 492.802766 159.617967 511.796199 159.617967z" fill="currentColor" p-id="2121"></path></svg>'};function CQ(){Object.keys(y2).forEach(e=>{F.addIcon(e,y2[e])})}class w2 extends W3{fuzzySearchItemsOptimized(t,n){const r=F.prepareFuzzySearch(t);return n.map(a=>{const i=r(a.path);return i?{item:a,match:i,score:i.score}:null}).sort((a,i)=>(i==null?void 0:i.score)-(a==null?void 0:a.score)).filter(Boolean)}getSuggestions(t){const r=app.vault.getFiles().filter(i=>["png","jpg","jpeg","gif"].includes(i.extension)),a=t.toLowerCase();return this.fuzzySearchItemsOptimized(a,r).map(i=>i.item)}renderSuggestion(t,n){var i;const r=t.basename,a=((i=t.parent)==null?void 0:i.path)??"";n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:r}),n.createSpan({cls:"suggestion-path",text:a})}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}}const tb=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const b2=typeof TextEncoder=="function"?new TextEncoder:void 0,xQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",jp=Array.prototype.slice.call(xQ);(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(jp);const vi=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const MQ=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),kQ=e=>{let t,n,r,a,i="";const s=e.length%3;for(let c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(r=e.charCodeAt(c++))>255||(a=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,i+=jp[t>>18&63]+jp[t>>12&63]+jp[t>>6&63]+jp[t&63]}return s?i.slice(0,s-3)+"===".substring(s):i},$4=typeof btoa=="function"?e=>btoa(e):tb?e=>Buffer.from(e,"binary").toString("base64"):kQ,FQ=tb?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(vi.apply(null,e.subarray(r,r+4096)));return $4(n.join(""))},NQ=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?vi(192|t>>>6)+vi(128|t&63):vi(224|t>>>12&15)+vi(128|t>>>6&63)+vi(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return vi(240|t>>>18&7)+vi(128|t>>>12&63)+vi(128|t>>>6&63)+vi(128|t&63)}},IQ=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,AQ=e=>e.replace(IQ,NQ),D2=tb?e=>Buffer.from(e,"utf8").toString("base64"):b2?e=>FQ(b2.encode(e)):e=>$4(AQ(e)),OQ=(e,t=!1)=>t?MQ(D2(e)):D2(e),W0=F.Platform.isDesktop&&require("os"),RQ=async()=>{var t;let e="";if(F.Platform.isDesktop)e=await Un();else{const n=await((t=window.Capacitor)==null?void 0:t.Plugins.Device.getId());e=n.identifier||n.uuid}return e},LQ={General:"chef-hat",Thino:"Memos",Theme:"brush",Share:"share-2",Advanced:"cog"},q4=[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"},{value:"CANVAS",target:"MemoDefaultCanvasPath"},{value:"MULTI",target:"MemoDefaultMultiFilePath"},{value:"FILE",target:"MemoDefaultSingleFilePath"}],Mo={StartDate:"Sunday",InsertAfter:"# Journal",UserName:"THINO 😉",ProcessEntriesBelow:"",Language:"en",SaveMemoButtonLabel:"NOTEIT",SaveMemoButtonIcon:"✍️",ShareFooterStart:"{ThinoNum} Thino {UsedDay} Day",ShareFooterEnd:"✍️ by {UserName}",DefaultPrefix:"List",UseDailyOrPeriodic:"Daily",InsertDateFormat:"Tasks",DefaultEditorLocation:"Top",UseButtonToShowEditor:!1,FocusOnEditor:!0,OpenDailyMemosWithMemos:!0,HideDoneTasks:!1,ShowTaskLabel:!1,MobileAndDesktop:"All",OpenMemosAutomatically:!1,ShowTime:!0,ShowDate:!0,AddBlankLineWhenDate:!1,AutoSaveWhenOnMobile:!1,DeleteFileName:"delete",QueryFileName:"query",UseVaultTags:!1,SetCustomBackgroundImage:!1,SetCustomMemoFooter:!1,DefaultLightBackgroundImage:"",DefaultDarkBackgroundImage:"",DefaultMemoComposition:"{TIME} {CONTENT}",CommentOnMemos:!1,CommentsInOriginalNotes:!1,FetchMemosMark:"#memo",FetchMemosFromNote:!1,ShowCommentOnMemos:!1,ShowLeftSideBar:!1,MemoListView:"list",MemoSaveLocation:"DAILY",MemoOtherSaveLocation:{MemoDefaultCanvasPath:"basic.thino.canvas",MemoDefaultMultiFilePath:"Thino",MemoDefaultSingleFilePath:"basic.thino.md"},MemoDailyTarget:5,HeatmapColorScheme:"default",EnabledHttpApi:!1,HttpApiIpType:"localhost",HttpApiPort:"43999",AutoDownloadImage:!1,EditorType:"obsidian",EnabledLocationList:q4,DeleteThinoDirectly:!1,CaptureKey:{EnableCaptureKey:!1,OpenThinoGlobally:"CommandOrControl+Shift+T",ShowNearMouse:!1},startSync:!1,tokenForVerify:{},saveThinoType:"FILE",showDayMark:!1,dayMarkRange:"day",navigation:!1};function _Q({plugin:e}){const{dailyNotesState:{verifyState:t}}=A.useContext(Ft),[n,r]=A.useState(!1),[a,i]=A.useState(!1),[s,c]=A.useState(""),[d,h]=A.useState("");A.useEffect(()=>{RQ().then(w=>{h(w)})},[]);const g=async()=>{var E;const w=s,b=!F.Platform.isDesktop&&await((E=window.Capacitor)==null?void 0:E.Plugins.Device.getId()),T=F.Platform.isDesktop?await Un():b.identifier||b.uuid;w&&(e.settingTab.updateSettings("tokenForVerify",{...e.settings.tokenForVerify,[T]:w}),e.verify().then(M=>{M&&(r(!0),rt.setRefresh(!0),setTimeout(()=>{e.settingTab.display()},200),e.registerToolbarCheck()),new F.Notice(O(M?"Verify successfully":"Failed to verify"))}).catch(M=>{new F.Notice(O("Failed to verify"))}))},m=async w=>{c(w)};return D.jsx("div",{className:"thino-verify-component",children:t?D.jsxs("div",{className:"thino-verify-content verified",children:[D.jsx("div",{className:"thino-verified-text",children:O("You have verified your account. Congrats!")}),D.jsx("div",{className:"thino-description-link",children:D.jsxs("p",{children:[O("If you have any questions, please contact us."),D.jsx("span",{className:"thino-url",onClick:()=>{const w=localStorage.getItem("language");w&&(w==="zh"||w==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})})]}):D.jsxs("div",{className:"thino-verify-content",children:[D.jsxs("div",{className:"thino-description-link",children:[O("You can buy a license from")+"->",D.jsxs("span",{className:"thino-url",onClick:()=>{const w=localStorage.getItem("language");w&&(w==="zh"||w==="zh-TW")?window.open("https://pkmer.cn/products/thino"):window.open("https://thino.pkmer.net/en/#price")},children:[" ","PKMer"]})]}),D.jsx("textarea",{className:"thino-verify-textarea",value:s,onChange:w=>m(w.target.value),placeholder:O("Input activation code here")}),D.jsxs("div",{className:"thino-button-container",children:[D.jsxs("div",{className:"thino-button-group",children:[D.jsx("button",{onClick:async()=>{var w,b;try{let T="";if(F.Platform.isDesktop)T=await Un();else{const k=await((w=window.Capacitor)==null?void 0:w.Plugins.Device.getId());T=k.identifier||k.uuid}let E;if(W0)E=JSON.stringify({hostname:W0.hostname(),platform:W0.platform(),machineid:T});else{const k=await((b=window.Capacitor)==null?void 0:b.Plugins.Device.getInfo()),I=k==null?void 0:k.model,B=k==null?void 0:k.platform;E=JSON.stringify({hostname:I||("mobile"+F.Platform.isMobile?Math.random().toString(36).substring(7):""),platform:B||"mobile",machineid:T})}const M=OQ(E);await navigator.clipboard.writeText(M),i(!0)}catch(T){console.error(T),new F.Notice("Failed to copy id");return}new F.Notice(O("Copied to clipboard Successfully"))},children:O("Copy Thino id")}),D.jsx("button",{onClick:()=>{if(!a){new F.Notice(O("Please copy Thino id first"));return}const w=localStorage.getItem("language");w&&(w==="zh"||w==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&getCode"):window.open("https://pkmer.net/en/userprofile/#tab-21&getCode"),r(!0)},children:O("Get activation code")}),s&&D.jsx(D.Fragment,{children:D.jsx("button",{onClick:async()=>{await g()},children:O("Verify")})})]}),n?D.jsx("p",{children:O("After you verify your account, please refresh this page.")}):""]}),D.jsxs("div",{className:"thino-description-link",children:[O("If you have any questions, please contact us."),D.jsx("span",{className:"thino-url",onClick:()=>{const w=localStorage.getItem("language");w&&(w==="zh"||w==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})]})})}class PQ extends F.PluginSettingTab{constructor(n,r){super(n,r);ye(this,"plugin");ye(this,"applyDebounceTimer",0);ye(this,"tabContent",new Map);ye(this,"selectedTab","General");ye(this,"search");ye(this,"searchSettingInfo",new Map);ye(this,"searchZeroState");ye(this,"navigateEl");ye(this,"root");ye(this,"debounceApplySettingsUpdate",F.debounce(async()=>{await this.plugin.saveSettings()},100,!0));ye(this,"debounceDisplay",F.debounce(async()=>{await this.display()},300,!0));this.plugin=r}updateSettings(n,r){this.plugin.settings={...this.plugin.settings,[n]:r},this.applySettingsUpdate()}applySettingsUpdate(){this.debounceApplySettingsUpdate(),Me.updateTagsState()}async hide(){var n;(n=this.root)==null||n.unmount()}async display(){var n;await this.plugin.loadSettings(),this.root&&((n=this.root)==null||n.unmount()),this.containerEl.empty(),this.containerEl.toggleClass("memos-settings",!0),F.Platform.isMobile&&this.containerEl.toggleClass("memos-mobile",!0),this.generateSettingsTitle(),this.addTabHeader()}generateSettingsTitle(){const n=this.containerEl.createDiv("memos-setting-title");n.createEl("h2",{text:"Thino"}),this.generateSearchBar(n)}addTabHeader(){const n=this.containerEl.createEl("nav",{cls:"memos-setting-header"});this.navigateEl=n.createDiv("memos-setting-tab-group");const r=this.containerEl.createDiv("memos-setting-content");this.updateOldData(),this.createTabAndContent("General",this.navigateEl,r,(a,i)=>this.generateGeneralSettings(i,a)),this.createTabAndContent("Thino",this.navigateEl,r,(a,i)=>this.generateMemosSettings(i,a)),this.createTabAndContent("Theme",this.navigateEl,r,(a,i)=>this.generateThemeSettings(i,a)),this.createTabAndContent("Share",this.navigateEl,r,(a,i)=>this.generateShareSettings(i,a)),this.createTabAndContent("Advanced",this.navigateEl,r,(a,i)=>this.generateAdvancedSettings(i,a)),this.createSearchZeroState(r)}updateOldData(){this.plugin.settings.UserName.startsWith("MEMO ")&&(this.plugin.settings.UserName="THINO 😉"),this.plugin.settings.ShareFooterStart.contains("{Memo")&&(this.plugin.settings.ShareFooterStart=this.plugin.settings.ShareFooterStart.replace("{MemosNum}","{ThinoNum}").replace("memos","thino")),this.applySettingsUpdate()}generateSearchBar(n){const r=new F.Setting(n);r.settingEl.style.border="none",r.addSearch(a=>{this.search=a}),this.search.setPlaceholder(O("Search all settings")),this.search.inputEl.oninput=()=>{for(const a of this.tabContent){const i=a[1];i.navButton.removeClass("memos-navigation-item-selected"),i.content.show(),i.heading.show();const s=this.search.getValue();this.selectedTab==""&&s.trim()!=""&&this.searchSettings(s.toLowerCase()),this.selectedTab=""}this.navigateEl.addClass("memos-setting-searching")},this.search.inputEl.onblur=()=>{this.navigateEl.removeClass("memos-setting-searching")},this.search.onChange(a=>{var i;if(a===""){this.triggerTabChange((i=this.tabContent.get("General"))==null?void 0:i.navButton,"General");return}this.searchSettings(a.toLowerCase())})}triggerTabChange(n,r){if(this.selectedTab==r)return;n.toggleClass("memos-navigation-item-selected",!0);const a=this.tabContent.get(r);if((a==null?void 0:a.content).show(),this.selectedTab!=""){const i=this.tabContent.get(this.selectedTab);i==null||i.navButton.removeClass("memos-navigation-item-selected"),(i==null?void 0:i.content).hide()}else{this.searchZeroState.hide();for(const i of this.searchSettingInfo)for(const s of i[1])s.containerEl.show();for(const i of this.tabContent){const s=i[1];s.heading.hide(),r!==i[0]&&s.content.hide()}}this.selectedTab=r}createTabAndContent(n,r,a,i){const s=this.selectedTab===n,c=r.createDiv("memos-navigation-item");c.toggleClass("memos-desktop",!0),F.setIcon(c.createEl("div",{cls:"memos-navigation-item-icon"}),LQ[n]),c.createSpan({text:O(n)}),c.onclick=()=>{this.triggerTabChange(c,n)};const d=a.createDiv("memos-tab-settings"),h=d.createEl("h2",{cls:"memos-setting-heading",text:n+" Settings"});h.hide(),d.id=n.toLowerCase().replace(" ","-"),s?c.addClass("memos-navigation-item-selected"):d.hide(),i&&i(d,n),this.tabContent.set(n,{content:d,heading:h,navButton:c})}searchSettings(n){var i;const r=new Set,a=(s,c)=>{s.show(),r.has(c)||r.add(c)};for(const s of this.searchSettingInfo){const c=s[0],d=s[1];for(const h of d)if(n.trim()===""||(i=h.alias)!=null&&i.includes(n)||h.description.includes(n)||h.name.includes(n))a(h.containerEl,c);else if(h.options&&h.options.length>0)for(const g of h.options){if(g.description.toLowerCase().includes(n)||g.name.toLowerCase().includes(n)){a(h.containerEl,c);break}else if(g.options){for(const m of g.options)if(m.description.toLowerCase().includes(n)||m.value.toLowerCase().includes(n)){a(h.containerEl,c);break}}h.containerEl.hide()}else h.containerEl.hide()}for(const s of this.tabContent)r.has(s[0])?s[1].heading.show():s[1].heading.hide();r.size===0?this.searchZeroState.show():this.searchZeroState.hide()}addSettingToMasterSettingsList(n,r,a="",i="",s=[],c=""){var h;const d={containerEl:r,name:a.toLowerCase(),description:i.toLowerCase(),options:s,alias:c};this.searchSettingInfo.has(n)?(h=this.searchSettingInfo.get(n))==null||h.push(d):this.searchSettingInfo.set(n,[d])}createSearchZeroState(n){this.searchZeroState=n.createDiv(),this.searchZeroState.hide(),this.searchZeroState.createEl(F.Platform.isMobile?"h3":"h2",{text:"No settings match search"}).style.textAlign="center"}generateGeneralSettings(n,r){this.customHeading(n,r)}async generateThemeSettings(n,r){var d;const a=ct.getState().verifyState,i=!F.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=F.Platform.isDesktop?await Un():i.identifier||i.uuid,c=a&&a.appId===s;await this.customNameAndTheme(n,r,c)}generateMemosSettings(n,r){this.addMemoSettings(n,r)}generateShareSettings(n,r){this.copyMemosSettings(n,r),this.shareMemosSettings(n,r)}async generateAdvancedSettings(n,r){var d;this.saveDataSettings(n,r),this.fetchDataSettings(n,r),this.navigationSettings(n,r);const a=ct.getState().verifyState,i=!F.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=F.Platform.isDesktop?await Un():i.identifier||i.uuid,c=a&&a.appId===s;this.customFileNameSettings(n,r,c),this.setGlobalSettings(n,r,c)}async customNameAndTheme(n,r,a){let i;new ut(r,this).setName(O("Heatmap Color Scheme")).setDesc(O("Set different color scheme for heatmap.")).setTab(n).addDropdown(async s=>{i=s,i.addOption("default","default"),i.addOption("gray","gray"),i.addOption("grass","grass"),i.addOption("frame","frame"),i.addOption("olive","olive"),i.addOption("ice","ice"),i.addOption("magenta","magenta"),i.setValue(this.plugin.settings.HeatmapColorScheme).onChange(async c=>{this.plugin.settings.HeatmapColorScheme=c,this.applySettingsUpdate()})}),new ut(r,this).setName(O("Hide done tasks in Memo list")).setDesc(O("Hide all done tasks in Memo list. Show done tasks by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.HideDoneTasks).onChange(async c=>{this.plugin.settings.HideDoneTasks=c,this.applySettingsUpdate()})),new ut(r,this).setName(O("Show Tasks Label")).setDesc(O("Show tasks label near the time text. False by default")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.ShowTaskLabel).onChange(async c=>{this.plugin.settings.ShowTaskLabel=c,this.applySettingsUpdate()})),new ut(r,this).setName(O("Save Memo button label")).setDesc(O("The text shown on the save Memo button in the UI. 'NOTEIT' by default.")).setTab(n).addText(s=>s.setPlaceholder(Mo.SaveMemoButtonLabel).setValue(this.plugin.settings.SaveMemoButtonLabel).onChange(async c=>{this.plugin.settings.SaveMemoButtonLabel=c,this.applySettingsUpdate()})),new ut(r,this).setName(O("Save Memo button icon")).setDesc(O("The icon shown on the save Memo button in the UI.")).setTab(n).addText(s=>s.setPlaceholder(Mo.SaveMemoButtonIcon).setValue(this.plugin.settings.SaveMemoButtonIcon).onChange(async c=>{this.plugin.settings.SaveMemoButtonIcon=c,this.applySettingsUpdate()})),F.Platform.isDesktop&&new ut(r,this).setName(O("Always Show Leaf Sidebar on PC")).setDesc(O("Show left sidebar on PC even when the leaf width is less than 875px. False by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.ShowLeftSideBar).onChange(async c=>{this.plugin.settings.ShowLeftSideBar=c,this.applySettingsUpdate()})),await this.getEditorLocation(r,n),new ut(r,this).setHeading().setTab(n).setName(O("Pro Features")),new ut(r,this).setName(O("Show day mark on list mode")).setDesc(O("Show day mark on the top of daily range thino. False by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.showDayMark).onChange(async c=>{if(!a){yr();return}this.plugin.settings.showDayMark=c,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.showDayMark&&new ut(r,this).setName(O("Day mark range")).setDesc(O("Set the range of day mark. Day by default.")).setTab(n).addDropdown(async s=>{i=s,i.addOption("day","day"),i.addOption("week","week"),i.addOption("month","month"),i.addOption("quarter","quarter"),i.addOption("year","year"),i.setValue(this.plugin.settings.dayMarkRange).onChange(async c=>{this.plugin.settings.dayMarkRange=c,this.applySettingsUpdate()})})}async getEditorLocation(n,r){let a;F.Platform.isMobile&&(new ut(n,this).setName(O("Default editor position on mobile")).setDesc(O("Set the default editor position on Mobile, 'Top' by default.")).setTab(r).addDropdown(async i=>{a=i,a.addOption("Top",O("Top")),a.addOption("Bottom",O("Bottom")),a.setValue(this.plugin.settings.DefaultEditorLocation).onChange(async s=>{this.plugin.settings.DefaultEditorLocation=s,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})}),this.plugin.settings.DefaultEditorLocation!=="Top"&&new ut(n,this).setName(O("Use button to show editor on mobile")).setDesc(O("Set a float button to call editor on mobile. Only when editor located at the bottom works.")).setTab(r).addToggle(i=>i.setValue(this.plugin.settings.UseButtonToShowEditor).onChange(async s=>{this.plugin.settings.UseButtonToShowEditor=s,this.applySettingsUpdate()})))}customHeading(n,r){var b;new ut(r,this).setName(O("User name in Memos")).setDesc(O("Set your user name here. 'Memos 😏' By default")).setTab(n).addText(T=>T.setPlaceholder(Mo.UserName).setValue(this.plugin.settings.UserName).onChange(async E=>{this.plugin.settings.UserName=E,this.applySettingsUpdate()}));let a=!1;const i=document.createDocumentFragment();i.createEl("span",{text:O("Connect to PKMer Sync, you can check it in ")});const s=localStorage.getItem("language");let c;s&&s==="zh"?c="https://pkmer.cn/products/UserProfile/#tab-21&activateSync":c="https://thino.pkmer.net/en/",i.createEl("a",{text:O("PKMer Sync"),attr:{href:c}});const d=!!((b=this.plugin.app)!=null&&b.loadLocalStorage("tokenForSync"));d&&new ut(r,this).setHeading().setName(O("Sync service")).setTab(n),(s==="zh"||s==="zh-TW")&&new ut(r,this).setName(O("Sync Thino via PKMer")).setDesc(i).setTab(n).addButton(T=>{var M;const E=(M=this.plugin.app)==null?void 0:M.loadLocalStorage("tokenForSync");T.setButtonText(O(E?"Unlink":"Link")).onClick(async()=>{var k;if(!E){const I=localStorage.getItem("language");I&&(I==="zh"||I==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&activateSync"):window.open("https://thino.pkmer.net/en/");return}if(!a){T.setButtonText(O("Confirm?")),a=!0;return}a=!1,E&&((k=this.plugin.app)==null||k.saveLocalStorage("tokenForSync",""),new F.Notice(O("Remove successfully"))),rt.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(s==="zh"||s==="zh-TW")&&this.showSyncStatus(r,n),d&&new ut(r,this).setHeading().setName(O("Pro verification status")).setTab(n);const h=document.createDocumentFragment(),g=h.createEl("div",{cls:"thino-activation"}),m=new ut(r,this).setName(O("Activate Pro Version")).setDesc(h).setTab(n);m.settingEl.toggleClass("thino-activation-setting",!0),m.nameEl.toggleClass("thino-activation-title",!0),this.root=Lu.createRoot(g),this.root.render(D.jsx(If,{store:xe,context:Ft,children:D.jsx(_Q,{plugin:this.plugin})}));let w=!1;new ut(r,this).setName(O("Deactivate")).setTab(n).addButton(T=>{T.setWarning().setButtonText(O("Remove")).onClick(async()=>{var k;if(!w){T.setButtonText(O("Confirm?")),w=!0;return}w=!1;const E=!F.Platform.isDesktop&&await((k=window.Capacitor)==null?void 0:k.Plugins.Device.getId()),M=F.Platform.isDesktop?await Un():E.identifier||E.uuid;this.plugin.settings.tokenForVerify[M]&&(delete this.plugin.settings.tokenForVerify[M],await this.plugin.saveSettings(),new F.Notice(O("Remove successfully"))),await this.plugin.verify(),rt.setRefresh(!0),setTimeout(()=>{this.display()},20)})})}showSyncStatus(n,r){var i;(i=this.plugin.app)!=null&&i.loadLocalStorage("tokenForSync")&&(new ut(n,this).setName(O("Save thino type when sync local")).setDesc(O("Set the default save thino type when sync local, FILE by default.")).setTab(r).addDropdown(async s=>{s.addOption("DAILY",O("DAILY")),s.addOption("FILE",O("FILE")),s.setValue(this.plugin.settings.saveThinoType).onChange(async c=>{this.plugin.settings.saveThinoType=c,this.applySettingsUpdate()})}),new ut(n,this).setName(O("Sync Status")).setDesc(O("Start or stop sync")).setTab(r).addButton(s=>{s.setButtonText(this.plugin.settings.startSync?O("Stop"):O("Start")).onClick(async()=>{this.plugin.settings.startSync=!this.plugin.settings.startSync,await this.plugin.saveSettings(),rt.setRefresh(!0),new F.Notice(this.plugin.settings.startSync?O("Start sync successfully"):O("Stop sync successfully")),setTimeout(()=>{this.display()},200)})}))}addMemoSettings(n,r){new ut(r,this).setName(O("Use Tags In Vault")).setDesc(O("Use tags in vault rather than only in Memos. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.UseVaultTags).onChange(async s=>{this.plugin.settings.UseVaultTags=s,this.applySettingsUpdate()})),new ut(r,this).setName(O("Focus on editor when open memos")).setDesc(O("Focus on editor when open memos. Focus by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.FocusOnEditor).onChange(async s=>{this.plugin.settings.FocusOnEditor=s,this.applySettingsUpdate()})),new ut(r,this).setName(O("Open daily memos with open memos")).setDesc(O("Open daily memos with open memos. Open by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.OpenDailyMemosWithMemos).onChange(async s=>{this.plugin.settings.OpenDailyMemosWithMemos=s,this.applySettingsUpdate()})),new ut(r,this).setName(O("Open Memos when obsidian opens")).setDesc(O("When enable this, Memos will open when Obsidian opens. False by default.")).setTab(n).addDropdown(i=>{i.addOption("Desktop","Desktop"),i.addOption("Mobile","Mobile"),i.addOption("All","All"),i.setValue(this.plugin.settings.MobileAndDesktop).onChange(async s=>{this.plugin.settings.MobileAndDesktop=s,this.applySettingsUpdate()})}).addToggle(i=>i.setValue(this.plugin.settings.OpenMemosAutomatically).onChange(async s=>{this.plugin.settings.OpenMemosAutomatically=s,this.applySettingsUpdate()}));let a;new ut(r,this).setName(O("Default prefix")).setDesc(O("Set the default prefix when create memo, 'List' by default.")).setTab(n).addDropdown(async i=>{a=i,a.addOption("List",O("List")),a.addOption("Task",O("Task")),a.setValue(this.plugin.settings.DefaultPrefix).onChange(async s=>{this.plugin.settings.DefaultPrefix=s,this.applySettingsUpdate()})}),new ut(r,this).setName(O("Default insert date format")).setDesc(O("Set the default date format when insert date by @, 'Tasks' by default.")).setTab(n).addDropdown(async i=>{a=i,a.addOption("Tasks","Tasks"),a.addOption("Dataview","Dataview"),a.setValue(this.plugin.settings.InsertDateFormat).onChange(async s=>{this.plugin.settings.InsertDateFormat=s,this.applySettingsUpdate()})})}memosCommentSettings(n,r){new ut(r,this).setName(O("Allow Comments On Memos")).setDesc(O("You can comment on memos. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.CommentOnMemos).onChange(async i=>{this.plugin.settings.CommentOnMemos=i,this.applySettingsUpdate(),this.display()})),this.plugin.settings.CommentOnMemos&&(new ut(r,this).setName(O("Always Show Memo Comments")).setDesc(O("Always show memo comments on memos. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowCommentOnMemos).onChange(async i=>{this.plugin.settings.ShowCommentOnMemos=i,this.applySettingsUpdate()})),new ut(r,this).setName(O("Comments In Original DailyNotes/Notes")).setDesc(O("You should install Dataview Plugin ver 0.5.9 or later to use this feature.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.CommentsInOriginalNotes).onChange(async i=>{this.plugin.settings.CommentsInOriginalNotes=i,this.applySettingsUpdate()})))}copyMemosSettings(n,r){new ut(r,this).setName(O("Show Time When Copy Results")).setDesc(O("Show time when you copy results, like 12:00. Copy time by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowTime).onChange(async i=>{this.plugin.settings.ShowTime=i,this.applySettingsUpdate()})),new ut(r,this).setName(O("Show Date When Copy Results")).setDesc(O("Show date when you copy results, like [[2022-01-01]]. Copy date by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowDate).onChange(async i=>{this.plugin.settings.ShowDate=i,this.applySettingsUpdate()})),new ut(r,this).setName(O("Add Blank Line Between Different Date")).setDesc(O("Add blank line when copy result with date. No blank line by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.AddBlankLineWhenDate).onChange(async i=>{this.plugin.settings.AddBlankLineWhenDate=i,this.applySettingsUpdate()}))}shareMemosSettings(n,r){new ut(r,this).setName(O("Save Shared Image To Folder For Mobile")).setDesc(O("Save image to folder for mobile. False by Default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.AutoSaveWhenOnMobile).onChange(async i=>{this.plugin.settings.AutoSaveWhenOnMobile=i,this.applySettingsUpdate()})),this.customMemoFooter(n,r),new ut(r,this).setName(O("Custom Background Image")).setDesc(O("Set custom background image.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.SetCustomBackgroundImage).onChange(async i=>{this.plugin.settings.SetCustomBackgroundImage=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomBackgroundImage&&(new ut(r,this).setName(O("Background Image in Light Theme")).setDesc(O('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(a=>{new w2(a.inputEl),a.setPlaceholder(Mo.DefaultLightBackgroundImage).setValue(this.plugin.settings.DefaultLightBackgroundImage).onChange(async i=>{this.plugin.settings.DefaultLightBackgroundImage=i,this.applySettingsUpdate()})}),new ut(r,this).setName(O("Background Image in Dark Theme")).setDesc(O('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(a=>{new w2(a.inputEl),a.setPlaceholder(Mo.DefaultDarkBackgroundImage).setValue(this.plugin.settings.DefaultDarkBackgroundImage).onChange(async i=>{this.plugin.settings.DefaultDarkBackgroundImage=i,this.applySettingsUpdate()})}))}customMemoFooter(n,r){new ut(r,this).setName(O("Custom Memo Footer")).setDesc(O("Set custom memo footer.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.SetCustomMemoFooter).onChange(async i=>{this.plugin.settings.SetCustomMemoFooter=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomMemoFooter&&(new ut(r,this).setName(O("Share Memos Image Footer Start")).setDesc(O("Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default")).setTab(n).addText(a=>a.setPlaceholder(Mo.ShareFooterStart).setValue(this.plugin.settings.ShareFooterStart).onChange(async i=>{this.plugin.settings.ShareFooterStart=i,this.applySettingsUpdate()})),new ut(r,this).setName(O("Share Memos Image Footer End")).setDesc(O("Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default")).setTab(n).addText(a=>a.setPlaceholder(Mo.ShareFooterEnd).setValue(this.plugin.settings.ShareFooterEnd).onChange(async i=>{this.plugin.settings.ShareFooterEnd=i,this.applySettingsUpdate()})))}saveDataSettings(n,r){new ut(r,this).setName(O("Default Memo Composition")).setDesc(O('Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default')).setTab(n).addText(i=>i.setPlaceholder(Mo.DefaultMemoComposition).setValue(this.plugin.settings.DefaultMemoComposition).setDisabled(!0).onChange(async s=>{this.plugin.settings.DefaultMemoComposition=s,this.applySettingsUpdate()}));let a;new ut(r,this).setName(O("Default Editor Mode")).setDesc(O("Live-Preview Mode OR Source Mode.")).setTab(n).addDropdown(async i=>{a=i,a.addOption("obsidian",O("Live-preview")),a.addOption("memos",O("Source")),a.setValue(this.plugin.settings.EditorType).onChange(async s=>{this.plugin.settings.EditorType=s,this.applySettingsUpdate()})}),new ut(r,this).setName(O("Delete Thino Directly")).setDesc(O("When delete thino directly, it will not be moved to trash. False by default.")).setTab(n).addToggle(i=>{i.setValue(this.plugin.settings.DeleteThinoDirectly).onChange(async s=>{this.plugin.settings.DeleteThinoDirectly=s,this.applySettingsUpdate()})})}async initHttpServer(n,r){var d;const a=ct.getState().verifyState,i=!F.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=F.Platform.isDesktop?await Un():i.identifier||i.uuid,c=a&&(a==null?void 0:a.appId)===s;new ut(n,this).setName(O("Enable Local Http Server")).setTab(r).setDisabled(!c).addToggle(h=>h.setValue(this.plugin.settings.EnabledHttpApi).onChange(async g=>{if(!c){yr();return}this.plugin.settings.EnabledHttpApi=g,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.settings.EnabledHttpApi?this.plugin.initServer():this.plugin.stopServer(),this.display()},100)})),this.plugin.settings.EnabledHttpApi&&(new ut(n,this).setName(O("Memos Http Server Port")).setDesc(O("Set memos http server port to listen. '43999' by default")).setTab(r).addText(h=>h.setPlaceholder(Mo.HttpApiPort).setValue(this.plugin.settings.HttpApiPort).onChange(async g=>{if(!c){yr();return}this.plugin.settings.HttpApiPort=g,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})),new ut(n,this).setName("Auto Download Image").setDesc("Auto download image when save to thino. 'false' by default").setTab(r).setDisabled(!c).addToggle(h=>{h.setValue(this.plugin.settings.AutoDownloadImage).onChange(async g=>{if(!c){yr();return}this.plugin.settings.AutoDownloadImage=g,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}),new ut(n,this).setName("Thino Http IP Type").setDesc("Set Thino http server ip to listen. 'localhost' by default").setTab(r).addDropdown(h=>{h.addOption("localhost","localhost"),h.addOption("127.0.0.1","127.0.0.1"),h.setValue(this.plugin.settings.HttpApiIpType).onChange(async g=>{if(!a&&(a==null?void 0:a.appId)!==s){yr();return}this.plugin.settings.HttpApiIpType=g,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}))}fetchDataSettings(n,r){let a;new ut(r,this).setName(O("Use which plugin's default configuration")).setDesc(O("Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.")).setTab(n).addDropdown(async i=>{a=i,a.addOption("Daily",O("Daily")),a.addOption("Periodic","Periodic"),a.setValue(this.plugin.settings.UseDailyOrPeriodic).onChange(async s=>{this.plugin.settings.UseDailyOrPeriodic=s,this.applySettingsUpdate()})})}navigationSettings(n,r){new ut(r,this).setName(O("Allow navigation from view to Thino or Thino to view")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.navigation).onChange(async i=>{this.plugin.settings.navigation=i,this.applySettingsUpdate()}))}setGlobalSettings(n,r,a){new ut(r,this).setHeading().setTab(n).setName(O("Pro Features")),new ut(r,this).setName(O("Default save location")).setDesc(O('Set the default save location for thino. "DAILY" by default')).setTab(n).addDropdown(async i=>{for(const s of this.plugin.settings.EnabledLocationList)i.addOption(s.value,O(s.value));i.setValue(this.plugin.settings.MemoSaveLocation||this.plugin.settings.EnabledLocationList[0].value).onChange(async s=>{if(!a){yr();return}this.plugin.settings.MemoSaveLocation=s,this.applySettingsUpdate()})}),this.initHttpServer(r,n),new ut(r,this).setName(O("Enable opening thino globally")).setDesc(O("Enable opening thino globally. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.CaptureKey.EnableCaptureKey).onChange(async s=>{if(!a){yr();return}this.plugin.settings.CaptureKey.EnableCaptureKey=s,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.CaptureKey.EnableCaptureKey&&(new ut(r,this).setName(O("Key for opening thino globally")).setDesc(O("Set key for opening thino globally. CTRL + SHIFT + T by default.")).setTab(n).addText(i=>i.setPlaceholder(Mo.CaptureKey.OpenThinoGlobally).setValue(this.plugin.settings.CaptureKey.OpenThinoGlobally).onChange(async s=>{if(!a){yr();return}this.plugin.settings.CaptureKey.OpenThinoGlobally=s,this.applySettingsUpdate()})),new ut(r,this).setName(O("Show thino near mouse")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.CaptureKey.ShowNearMouse).onChange(async s=>{if(!a){yr();return}this.plugin.settings.CaptureKey.ShowNearMouse=s,this.applySettingsUpdate()})))}checkInList(n){return this.plugin.settings.EnabledLocationList.find(r=>r.value===n)!==void 0}customFileNameSettings(n,r,a){var d;const i=document.createDocumentFragment(),s=i.createEl("div",{cls:"memo-save-location-desc"});for(const h of q4){const g=s.createEl("div",{cls:`memo-save-location-desc-item ${h.value}`}),m=g.createEl("span",{cls:"memo-save-location-desc-item-icon"});F.setIcon(m,((d=Df.find(M=>M.title===h.value))==null?void 0:d.icon)||""),g.createEl("span",{cls:"memo-save-location-desc-item-desc",text:`${O(h.value)}`});const w=g.createEl("span",{cls:"memo-save-location-desc-item-toggle"}),b=g.createEl("span",{cls:"memo-save-location-desc-item-setting"});h.value!=="DAILY"&&g.createEl("span",{cls:["memo-save-location-desc-item-pro","user-pro-badge"],text:"PRO"}),new F.ToggleComponent(w).setValue(this.checkInList(h.value)).onChange(async M=>{if(!a){yr();return}M?(await Me.updateTypeMemos(h.value),this.plugin.settings.EnabledLocationList=[...this.plugin.settings.EnabledLocationList,h]):(await Me.removeTypeMemos(h.value),this.plugin.settings.EnabledLocationList=this.plugin.settings.EnabledLocationList.filter(k=>k.value!==h.value)),this.plugin.settings.EnabledLocationList.length===1&&(this.plugin.settings.MemoSaveLocation=h.value),this.applySettingsUpdate(),setTimeout(()=>{this.display()},500)}).setDisabled(this.plugin.settings.EnabledLocationList.length===1&&this.checkInList(h.value)),new F.ExtraButtonComponent(b).setIcon("settings").onClick(()=>{new jQ(this.app,this,this.plugin,h,a).open()})}const c=new ut(r,this).setName(O("Save Location for Memos")).setDesc(i).setTab(n);c.settingEl.toggleClass("memo-save-location-setting",!0),c.nameEl.toggleClass("memo-save-location-title",!0)}}class jQ extends F.Modal{constructor(n,r,a,i,s){super(n);ye(this,"plugin");ye(this,"settingTab");ye(this,"LocationList");ye(this,"target","");ye(this,"insertTarget","");ye(this,"verified");ye(this,"updateValue",F.debounce(n=>{this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target=n.trim()===""?"basic":n.trim():this.target=n.trim()===""&&this.LocationList.value==="MULTI"?"Memos":n.trim()},400,!0));this.verified=s,this.app=n,this.settingTab=r,this.plugin=a,this.LocationList=i,this.target=i.target!=="ProcessEntriesBelow"?a.settings.MemoOtherSaveLocation[i.target]:a.settings[i.target],this.insertTarget=a.settings.InsertAfter}onOpen(){var g;const{contentEl:n}=this;(g=n.parentElement)==null||g.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(O("Save Location for Memos")+` [${O(this.LocationList.value)}]`),(this.LocationList.value==="FILE"||this.LocationList.value==="CANVAS")&&n.createDiv("modal-desc",m=>{m.setText(O('You can set folder name with file name like "folder/file"'))}),this.LocationList.value==="MULTI"&&n.createDiv("modal-desc",m=>{m.setText(O('You can set folder name like "folder1/folder2/folder3" to create sub-folder'))});const r=n.createDiv("modal-setting"),a=this.LocationList.value==="DAILY"?O("Process Memos below"):this.LocationList.value==="MULTI"?O("Set the folder name"):O("Set the filename"),i=O("Insert after heading"),s=new ut(r,this.settingTab).setName(a).addText(m=>m.setPlaceholder(O("Set the filename for current location file")).setValue(this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target.replace(/\.thino\.(canvas|md)/g,""):this.target).onChange(async w=>{const b=this.LocationList.value==="CANVAS"?".thino.canvas":this.LocationList.value==="FILE"?".thino.md":"";this.updateValue(w.replace(/\.thino\.(canvas|md)/g,"")+b)}));this.LocationList.value==="DAILY"&&s.setDesc(O("Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.")),this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"&&s.controlEl.createEl("span",{text:`${this.LocationList.value==="FILE"?".thino.md":".thino.canvas"}`}),this.LocationList.value==="DAILY"&&new ut(r,this.settingTab).setName(i).setDesc(O("You should set the same heading below if you want to insert and process memos below the same heading.")).addText(m=>m.setPlaceholder(O("Set the filename for current location file")).setValue(this.insertTarget).onChange(async w=>{this.insertTarget=w}));const c=n.createDiv("button-group"),d=c.createEl("button",{text:O("Cancel")}),h=c.createEl("button",{text:O("Save")});h.onclick=async()=>{if(!this.verified&&this.LocationList.value!=="DAILY"){this.close(),yr();return}this.LocationList.target!=="ProcessEntriesBelow"?this.plugin.settings.MemoOtherSaveLocation[this.LocationList.target]=this.target:this.plugin.settings[this.LocationList.target]=this.target,this.LocationList.target==="ProcessEntriesBelow"&&(this.plugin.settings.InsertAfter=this.insertTarget),this.settingTab.applySettingsUpdate(),setTimeout(()=>{Me.updateTypeMemos(this.LocationList.value)},1e3),this.close()},d.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}function ty(e){return e.split("-")[0]}function W4(e){return e.split("-")[1]}function nb(e){return["top","bottom"].includes(ty(e))?"x":"y"}function G4(e){return e==="y"?"height":"width"}function S2(e){let{reference:t,floating:n,placement:r}=e;const a=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2;let s;switch(ty(r)){case"top":s={x:a,y:t.y-n.height};break;case"bottom":s={x:a,y:t.y+t.height};break;case"right":s={x:t.x+t.width,y:i};break;case"left":s={x:t.x-n.width,y:i};break;default:s={x:t.x,y:t.y}}const c=nb(r),d=G4(c);switch(W4(r)){case"start":s[c]=s[c]-(t[d]/2-n[d]/2);break;case"end":s[c]=s[c]+(t[d]/2-n[d]/2);break}return s}const BQ=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:s}=n;let c=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=S2({...c,placement:r}),g=r,m={};for(let w=0;w<i.length;w++){const{name:b,fn:T}=i[w],{x:E,y:M,data:k,reset:I}=await T({x:d,y:h,initialPlacement:r,placement:g,strategy:a,middlewareData:m,rects:c,platform:s,elements:{reference:e,floating:t}});if(d=E??d,h=M??h,m={...m,[b]:k??{}},I){typeof I=="object"&&(I.placement&&(g=I.placement),I.rects&&(c=I.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):I.rects),{x:d,y:h}=S2({...c,placement:g})),w=-1;continue}}return{x:d,y:h,placement:g,strategy:a,middlewareData:m}};function YQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function HQ(e){return typeof e!="number"?YQ(e):{top:e,right:e,bottom:e,left:e}}function U1(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function V1(e,t){t===void 0&&(t={});const{x:n,y:r,platform:a,rects:i,elements:s,strategy:c}=e,{boundary:d="clippingParents",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:m=!1,padding:w=0}=t,b=HQ(w),E=s[m?g==="floating"?"reference":"floating":g],M=await a.getClippingClientRect({element:await a.isElement(E)?E:E.contextElement||await a.getDocumentElement({element:s.floating}),boundary:d,rootBoundary:h}),k=U1(await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g==="floating"?{...i.floating,x:n,y:r}:i.reference,offsetParent:await a.getOffsetParent({element:s.floating}),strategy:c}));return{top:M.top-k.top+b.top,bottom:k.bottom-M.bottom+b.bottom,left:M.left-k.left+b.left,right:k.right-M.right+b.right}}const UQ={left:"right",right:"left",bottom:"top",top:"bottom"};function wv(e){return e.replace(/left|right|bottom|top/g,t=>UQ[t])}function VQ(e,t){const n=W4(e)==="start",r=nb(e),a=G4(r);let i=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=wv(i)),{main:i,cross:wv(i)}}const zQ={start:"end",end:"start"};function E2(e){return e.replace(/start|end/g,t=>zQ[t])}function $Q(e){const t=wv(e);return[E2(e),t,E2(t)]}const qQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:s,initialPlacement:c}=t;if((n=i.flip)!=null&&n.skip)return{};const{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",flipAlignment:w=!0,...b}=e,T=ty(a),M=g||(T===c||!w?[wv(c)]:$Q(c)),k=[c,...M],I=await V1(t,b),B=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&B.push(I[T]),h){const{main:$,cross:q}=VQ(a,s);B.push(I[$],I[q])}if(N=[...N,{placement:a,overflows:B}],!B.every($=>$<=0)){var j,R;const $=((j=(R=i.flip)==null?void 0:R.index)!=null?j:0)+1,q=k[$];if(q)return{data:{index:$,overflows:N},reset:{placement:q}};let z="bottom";switch(m){case"bestFit":{var _;const ee=(_=N.slice().sort((ie,ae)=>ie.overflows.filter(me=>me>0).reduce((me,fe)=>me+fe,0)-ae.overflows.filter(me=>me>0).reduce((me,fe)=>me+fe,0))[0])==null?void 0:_.placement;ee&&(z=ee);break}case"initialPlacement":z=c;break}return{data:{skip:!0},reset:{placement:z}}}return{}}}};function WQ(e){let{placement:t,rects:n,value:r}=e;const a=ty(t),i=["left","top"].includes(a)?-1:1,s=typeof r=="function"?r({...n,placement:t}):r,{mainAxis:c,crossAxis:d}=typeof s=="number"?{mainAxis:s,crossAxis:0}:{mainAxis:0,crossAxis:0,...s};return nb(a)==="x"?{x:d,y:c*i}:{x:c*i,y:d}}const GQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:a,rects:i}=t,s=WQ({placement:a,rects:i,value:e});return{x:n+s.x,y:r+s.y,data:s}}}};function rb(e){return(e==null?void 0:e.toString())==="[object Window]"}function Sl(e){if(e==null)return window;if(!rb(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function ny(e){return Sl(e).getComputedStyle(e)}function ds(e){return rb(e)?"":e?(e.nodeName||"").toLowerCase():""}function ps(e){return e instanceof Sl(e).HTMLElement}function bv(e){return e instanceof Sl(e).Element}function KQ(e){return e instanceof Sl(e).Node}function K4(e){const t=Sl(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ry(e){const{overflow:t,overflowX:n,overflowY:r}=ny(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function QQ(e){return["table","td","th"].includes(ds(e))}function Q4(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=ny(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const T2=Math.min,qp=Math.max,Dv=Math.round;function Nf(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,a=1;return t&&ps(e)&&(r=e.offsetWidth>0&&Dv(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Dv(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function El(e){return((KQ(e)?e.ownerDocument:e.document)||window.document).documentElement}function ay(e){return rb(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Z4(e){return Nf(El(e)).left+ay(e).scrollLeft}function ZQ(e){const t=Nf(e);return Dv(t.width)!==e.offsetWidth||Dv(t.height)!==e.offsetHeight}function JQ(e,t,n){const r=ps(t),a=El(t),i=Nf(e,r&&ZQ(t));let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&n!=="fixed")if((ds(t)!=="body"||ry(a))&&(s=ay(t)),ps(t)){const d=Nf(t,!0);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else a&&(c.x=Z4(a));return{x:i.left+s.scrollLeft-c.x,y:i.top+s.scrollTop-c.y,width:i.width,height:i.height}}function oy(e){return ds(e)==="html"?e:e.assignedSlot||e.parentNode||(K4(e)?e.host:null)||El(e)}function C2(e){return!ps(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function XQ(e){let t=oy(e);for(;ps(t)&&!["html","body"].includes(ds(t));){if(Q4(t))return t;t=t.parentNode}return null}function z1(e){const t=Sl(e);let n=C2(e);for(;n&&QQ(n)&&getComputedStyle(n).position==="static";)n=C2(n);return n&&(ds(n)==="html"||ds(n)==="body"&&getComputedStyle(n).position==="static"&&!Q4(n))?t:n||XQ(e)||t}function x2(e){return{width:e.offsetWidth,height:e.offsetHeight}}function eZ(e){let{rect:t,offsetParent:n,strategy:r}=e;const a=ps(n),i=El(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((a||!a&&r!=="fixed")&&((ds(n)!=="body"||ry(i))&&(s=ay(n)),ps(n))){const d=Nf(n,!0);c.x=d.x+n.clientLeft,c.y=d.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+c.x,y:t.y-s.scrollTop+c.y}}function tZ(e){const t=Sl(e),n=El(e),r=t.visualViewport;let a=n.clientWidth,i=n.clientHeight,s=0,c=0;return r&&(a=r.width,i=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(s=r.offsetLeft,c=r.offsetTop)),{width:a,height:i,x:s,y:c}}function nZ(e){var t;const n=El(e),r=ay(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=qp(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=qp(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-r.scrollLeft+Z4(e);const d=-r.scrollTop;return ny(a||n).direction==="rtl"&&(c+=qp(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:c,y:d}}function J4(e){return["html","body","#document"].includes(ds(e))?e.ownerDocument.body:ps(e)&&ry(e)?e:J4(oy(e))}function X4(e,t){var n;t===void 0&&(t=[]);const r=J4(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=Sl(r),s=a?[i].concat(i.visualViewport||[],ry(r)?r:[]):r,c=t.concat(s);return a?c:c.concat(X4(oy(s)))}function rZ(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&K4(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function aZ(e){const t=Nf(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function M2(e,t){return t==="viewport"?U1(tZ(e)):bv(t)?aZ(t):U1(nZ(El(e)))}function oZ(e){const t=X4(oy(e)),r=["absolute","fixed"].includes(ny(e).position)&&ps(e)?z1(e):e;return bv(r)?t.filter(a=>bv(a)&&rZ(a,r)&&ds(a)!=="body"):[]}function iZ(e){let{element:t,boundary:n,rootBoundary:r}=e;const i=[...n==="clippingParents"?oZ(t):[].concat(n),r],s=i[0],c=i.reduce((d,h)=>{const g=M2(t,h);return d.top=qp(g.top,d.top),d.right=T2(g.right,d.right),d.bottom=T2(g.bottom,d.bottom),d.left=qp(g.left,d.left),d},M2(t,s));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}const sZ={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:JQ(t,z1(n),r),floating:{...x2(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>eZ(e),getOffsetParent:e=>{let{element:t}=e;return z1(t)},isElement:e=>bv(e),getDocumentElement:e=>{let{element:t}=e;return El(t)},getClippingClientRect:e=>iZ(e),getDimensions:e=>{let{element:t}=e;return x2(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},lZ=(e,t,n)=>BQ(e,t,{platform:sZ,...n});var uZ=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;a--!==0;){var s=i[a];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const cZ=qn(uZ),G0=Wp.Facet.define({combine:e=>{var t,n;return{defaultPlacement:((t=e.find(r=>r.defaultPlacement))==null?void 0:t.defaultPlacement)||"top",padding:((n=e.find(r=>r.padding))==null?void 0:n.padding)||8}}}),eC=e=>e.split("-")[0],fZ=e=>e==="x"?"y":"x",dZ=e=>["top","bottom"].includes(eC(e))?"x":"y",Op=(e,t,n)=>Math.max(e,Math.min(t,n)),pZ=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,r],a)=>[n,t(r,n,a)])),hZ=e=>e===void 0?e:typeof e=="number"?-e:pZ(e,t=>t!==void 0?-t:t),mZ=(e={})=>({name:"shift",fn:async t=>{const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c=({x:M,y:k})=>({x:M,y:k}),editorMenu:d,...h}=e,g={x:n,y:r},m=await V1(t,h),w=dZ(eC(a)),b=fZ(w);let T=g[w],E=g[b];if(i){const M=w==="y"?"top":"left",k=w==="y"?"bottom":"right",I=T+m[M],B=T-m[k];if(d){const N=await V1(t,{...h,boundary:d.dom,padding:hZ(h.padding)});if((b==="y"?["top","bottom"]:["left","right"]).every(R=>N[R]<=0)){const R=t.rects.floating.width,_=T+N[M]-R,$=T-N[k]+R,q=Math.abs(m[M]-N[M]),z=Math.abs(m[k]-N[k]);q>=R||z<q?T=Op(I,T,_):T=Op($,T,B)}else T=Op(I,T,B)}else T=Op(I,T,B)}if(s){const M=b==="y"?"top":"left",k=b==="y"?"bottom":"right",I=E+m[M],B=E-m[k];E=Op(I,E,B)}return c({...t,[w]:T,[b]:E})}}),gZ="thino-mini-toolbar",vZ=(e=0,t=0)=>({width:0,height:0,top:t,left:e,bottom:t,right:e,x:e,y:t}),yZ=(e,t)=>{if(!e)return null;const n=Math.min(e.left,(t==null?void 0:t.left)??e.left),r=Math.max(e.right,(t==null?void 0:t.right)??e.right),a=Math.max(e.bottom,(t==null?void 0:t.bottom)??e.bottom)-Math.min(e.top,(t==null?void 0:t.top)??e.top),i=Math.min(e.top,(t==null?void 0:t.top)??e.top),s=i+a,c={left:n,right:r,top:i,bottom:s,width:0,height:a,x:i,y:n};return t&&(c.width=Math.abs(r-n)),c},wZ=vZ();class bZ{constructor(t){ye(this,"containerEl");ye(this,"virtualEl");ye(this,"toolbar",null);ye(this,"isThinoView");ye(this,"tooltipInfo");ye(this,"inView",!0);ye(this,"defaultPlacement");ye(this,"editorMenu");ye(this,"cachedRefRect",null);ye(this,"readFromDOM",()=>{if(this.tooltipInfo){const{start:t}=this.tooltipInfo;let{end:n}=this.tooltipInfo;n&&t===n&&(n=void 0);const r=this.view.coordsAtPos(t);let a=n?this.view.coordsAtPos(n):null;if(r&&a&&r.top!==a.top){const s=this.view.contentDOM.getBoundingClientRect();a={left:s.right,right:s.right,top:r.top,bottom:r.bottom}}const i=yZ(r,a);i&&(this.cachedRefRect=i,this.computePosition(i))}});this.view=t,this.containerEl=this.view.dom.parentElement,this.defaultPlacement=this.view.state.facet(G0).defaultPlacement,this.tooltipInfo=t.state.facet($1),this.virtualEl={rect:wZ,getBoundingClientRect(){return this.rect}},this.maybeMeasure(),this.editorMenu={currMenu:null,evtRef:t.state.field(F.editorInfoField)},this.isThinoView=this.checkThinoView()}get workspace(){return this.view.state.field(F.editorInfoField).app.workspace}checkThinoView(){return this.view.state.field(F.editorInfoField)&&this.view.state.field(F.editorInfoField)instanceof bu}shouldRemoveToolbar(t){const n=t??this.tooltipInfo;return!(n!=null&&n.end||this.editorMenu.currMenu)}onEditorMenuOpen(t){this.editorMenu.currMenu||(this.editorMenu.currMenu=t,this.cachedRefRect?this.computePosition(this.cachedRefRect):this.maybeMeasure(),!F.Platform.isMacOS&&this.tooltipInfo&&(this.createToolbar(),this.maybeMeasure()))}onEditorMenuClose(t){this.editorMenu.currMenu===t&&(this.editorMenu.currMenu=null),!F.Platform.isMacOS&&this.toolbar&&this.shouldRemoveToolbar()&&this.removeToolbar()}createToolbar(t){const n=t??this.tooltipInfo;if(!n)return;this.removeToolbar();const r=n.create(this.containerEl),a=this.view.state.field(F.editorInfoField);if(!a||!(a!=null&&a.editor))return;const i=a.editor.offsetToPos(n.start),s=n.end?a.editor.offsetToPos(n.end):i;this.workspace.trigger(gZ,r,{from:i,to:s},a.editor,a),this.toolbar=r}removeToolbar(){this.toolbar&&(this.toolbar.hide(),this.toolbar=null)}update(t){if(!this.isThinoView)return;const n=t.state.facet($1),r=n!==this.tooltipInfo&&!cZ(n,this.tooltipInfo);r&&(this.tooltipInfo=n,this.shouldRemoveToolbar()?this.removeToolbar():n&&!this.toolbar&&this.createToolbar(n));const a=r||t.geometryChanged,i=t.state.facet(G0);i.defaultPlacement!=this.defaultPlacement&&(i.defaultPlacement=this.defaultPlacement),a&&this.maybeMeasure()}destroy(){this.editorMenu.currMenu=null,this.removeToolbar(),this.toolbar=null,this.view.state.field(F.editorInfoField).app.workspace.offref(this.editorMenu.evtRef)}async computePosition(t){if(!this.toolbar)return;this.virtualEl.rect=t;const{padding:n}=this.view.state.facet(G0),{x:r,y:a}=await lZ(this.virtualEl,this.toolbar.dom,{placement:this.defaultPlacement,middleware:[GQ({mainAxis:5}),qQ({padding:n,boundary:this.view.scrollDOM}),mZ({padding:n,boundary:this.view.scrollDOM,editorMenu:this.editorMenu.currMenu})]});Object.assign(this.toolbar.dom.style,{top:"0",left:"0",transform:`translate(${Math.round(r)}px,${Math.round(a)}px)`})}maybeMeasure(){this.view.inView&&this.toolbar&&this.view.requestMeasure({read:this.readFromDOM}),this.inView!=this.view.inView&&(this.inView=this.view.inView,this.inView||this.removeToolbar())}}const DZ=bi.ViewPlugin.fromClass(bZ,{eventHandlers:{scroll(){this.maybeMeasure()}}}),$1=Wp.Facet.define({enables:[DZ],combine:e=>e.filter(t=>t!=null).first()??null}),SZ=e=>{const t=MZ(e);t&&window.navigator.clipboard.writeText(t==null?void 0:t.getSelection())},EZ=e=>{e.commands.executeCommandById("editor:toggle-bold",e)},TZ=e=>{e.commands.executeCommandById("editor:toggle-strikethrough",e)},CZ=e=>{e.commands.executeCommandById("editor:toggle-highlight",e)},xZ=e=>{e.commands.executeCommandById("editor:toggle-italics",e)},MZ=e=>{const{editor:t}=e.field(F.editorInfoField);return t},k2=(e,t)=>{const n=e.selection.ranges[0];if(!n)return null;const{anchor:r,head:a,empty:i}=n,[s,c]=[r,a].sort();return{start:s,end:i?void 0:c,create:h=>new IZ(h).addSmallButton(m=>m.setClass("clickable-icon").setIcon("copy").onClick(()=>SZ(e))).addSmallButton(m=>m.setClass("clickable-icon").setIcon("bold").onClick(()=>EZ(t))).addSmallButton(m=>m.setClass("clickable-icon").setIcon("italic").onClick(()=>xZ(t))).addSmallButton(m=>m.setClass("clickable-icon").setIcon("strikethrough").onClick(()=>TZ(t))).addSmallButton(m=>m.setClass("clickable-icon").setIcon("highlighter").onClick(()=>CZ(t)))}},kZ=e=>Wp.StateField.define({create:t=>k2(t,e),update:(t,n)=>!n.docChanged&&!n.selection?t:k2(n.state,e),provide:t=>$1.from(t)}),FZ=e=>[kZ(e)];class NZ extends F.BaseComponent{constructor(n){super();ye(this,"button");ye(this,"disabled",!1);ye(this,"dropdownOptions",[]);ye(this,"menu");ye(this,"menuOpened",!1);this.button=new F.ButtonComponent(n)}setDisabled(n){return this.button.setDisabled(n),this.disabled=n,this}setIcon(n){return this.button.setIcon(n),this}setClass(n){return this.button.setClass(n),this}setDropdownText(n){var d;const r=this.button.buttonEl.createDiv("mini-toolbar-text"),a=this.button.buttonEl.createDiv("mini-toolbar-icon-with-text");F.setIcon(a,"chevron-down");const i=(d=n.doc.lineAt(n.selection.ranges[0].from))==null?void 0:d.from,s=u0.syntaxTree(n).resolveInner(i+1),c=s.type.prop(u0.tokenClassNodeProp);return r.setText(this.detectFormat(c,s)||"Text"),this}setDropdownIcon(){const n=this.button.buttonEl.createDiv("mini-toolbar-highlight-icon"),r=this.button.buttonEl.createDiv("mini-toolbar-icon-with-icon");return F.setIcon(n,"highlighter"),F.setIcon(r,"chevron-down"),this}detectFormat(n,r){var a;if(!n)return"Text";if(n.includes("strong"))return"Bold";if(n.includes("em"))return"Italic";if(n.includes("strikethrough"))return"Strike";if(n.contains("hmd-codeblock"))return"CodeBlock";if(n.contains("hmd-inline-code"))return"Code";if(n.contains("formatting-header")){const i=n.match(/header-\d{1,}/);if(i)return"Heading "+i[0].slice(-1)}if(n.contains("formatting-list")||n.contains("hmd-list-indent")){if(r!=null&&r.parent){const i=(a=r.parent)==null?void 0:a.type.prop(u0.lineClassNodeProp);if(i!=null&&i.contains("HyperMD-task-line"))return"To-do list"}if(n.contains("formatting-list-ol"))return"Numbered list";if(n.contains("formatting-list-ul"))return"Bulleted list"}}setTooltip(n){return this.button.setTooltip(n),this}setOptionsList(n){return this.dropdownOptions=n,this}onClick(n){return this.dropdownOptions.length>0?(this.button.onClick(r=>this.showEditMenu(r)),this):(this.button.onClick(n),this)}showEditMenu(n){var s,c;if(this.menuOpened=!this.menuOpened,!this.menuOpened)return;this.menu=new F.Menu,this.menu.onHide(()=>{this.menuOpened=!1});const r=n.currentTarget,a=(s=n.currentTarget)==null?void 0:s.getBoundingClientRect(),i={x:a.left-6,y:a.bottom+6};for(let d=0;d<((c=this.dropdownOptions)==null?void 0:c.length);d++)this.menu.addItem(h=>{h.setIcon("zap").setTitle(this.dropdownOptions[d]).onClick(()=>{})});this.menu.setParentElement(r).showAtPosition(i)}then(n){return n(this),this}}class IZ extends F.Component{constructor(n){super();ye(this,"dom");ye(this,"smallBtnContainer");ye(this,"unloading",!1);this.dom=n==null?void 0:n.createDiv({cls:"cm-mini-toolbar"},r=>r.style.position="absolute"),this.smallBtnContainer=this.dom}addSmallButton(n){return n(new NZ(this.smallBtnContainer)),this}hide(){return this.unload(),this.unloading?this:(this.unloading=!0,this.dom.detach(),this.unloading=!1,this)}}const AZ=bi.Decoration.line({attributes:{"data-ph":O("What do you think now...")},class:"thino-editor-placeholder"}),OZ=Wp.StateField.define({create(){return bi.Decoration.none},update(e,t){const n=t.state.field(F.editorInfoField);if(!(n!=null&&n.view)&&!((n==null?void 0:n.view)instanceof bu))return e;const r=new Wp.RangeSetBuilder,a=t.state.doc.toString(),i=t.state.doc.lineAt(0);return(a==null?void 0:a.length)==0&&r.add(i.from,i.from,AZ),r.finish()},provide:e=>bi.EditorView.decorations.from(e)});function tC(e){return`userId:${e}`}function RZ(e,t){return`expiryDate:${t}:${e}`}function LZ(e){try{const t=tC(e.appId);return zn.get([t])[t]??""}catch(t){return console.error(t),""}}function _Z(e,t){try{const n=tC(t.appId);return zn.set({[n]:e}),{userId:e,key:n}}catch(n){console.error(n)}}function PZ(e,t){try{const n=RZ(LZ(t),t.appId);zn.set({[n]:e})}catch(n){console.error(n)}}const jZ=Ue.grabImageFromUrl,BZ=require("http"),YZ=require("url");function HZ(e){const t=e.indexOf(";base64,"),n=e.substring(5,t),r=e.substr(t+8),a=atob(r),i=new ArrayBuffer(a.length),s=new Uint8Array(i);for(let d=0;d<a.length;d++)s[d]=a.charCodeAt(d);return new Blob([i],{type:n})}const F2=async e=>{const{type:t}=e;if(t.startsWith("image"))try{return`${await lw.upload(e)}`}catch(n){new F.Notice(n)}};function UZ(e){const t=BZ.createServer(async function(n,r){r.setHeader("Access-Control-Allow-Origin","*"),r.setHeader("Access-Control-Allow-Methods","GET, HEAD, POST, OPTIONS, PUT, PATCH, DELETE"),r.setHeader("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Origin, Authorization,Accept,x-client-id, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, hypothesis-client-version"),r.setHeader("Access-Control-Allow-Credentials","true");try{if(n.url){const a=YZ.parse(n.url,!0);if(a.pathname==="/create"&&n.method==="POST"){let i="";n.on("data",s=>{i+=s}),n.on("end",async()=>{const s=JSON.parse(i),{text:c,isList:d,type:h,imageList:g}=s;let m=c;if(!m){r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:null,link:null}));return}new RegExp(/(<([^>]+)>)/g).test(c)&&(m=F.htmlToMarkdown(c));let b=[];const T=[];if(e.AutoDownloadImage){const M=m.match(Lf)||[];if(M.length>0){for(const k of M)try{const I=await jZ(k);if(I.size===0)continue;const B=new File([I],"image.png",{type:"image/png"}),N=await F2(B);T.push({oldUrl:k,newUrl:N})}catch(I){console.error(I)}T.forEach(k=>{m=m.replace(k.oldUrl,k.newUrl)}),g&&g.length>0&&(b=await Promise.all(g.map(async k=>{const I=HZ(k);return new File([I],"image.png",{type:"image/png"})})));for(const k of b){const I=await F2(k);m+=`
${I}`}}}const E=await Me.createThino({content:m,isList:d,type:h});E&&(Me.pushMemo(E),it.clearQuery()),r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:E,link:`obsidian://thino?openId=${E.id}`}))})}else if(a.pathname==="/search"&&n.method==="GET"){const i=a.query,{keyword:s}=i,c=Me.getThinoViaKeyword(s);r.statusCode=200,r.setHeader("Content-Type","application/json");const d=JSON.stringify({status:"success",thinos:c});r.end(d)}else r.statusCode=404,r.end()}}catch(a){console.error(a),r.statusCode=500,r.end({status:"error",message:a.message})}});return{listen(n,r){try{t.listen({port:parseInt(r),host:n})}catch(a){console.error(a),new F.Notice(O("Thino - Failed to start HTTP server, please check the port is available."))}new F.Notice(`${O("Thino - Started HTTP server on port")} ${r}`)},close(){t.close(),new F.Notice(O("Thino - Terminated HTTP server"))}}}const{clipboard:pn}=F.Platform.isDesktop?require("electron"):"";class VZ{constructor(){ye(this,"eventListeners");this.eventListeners={}}on(t,n){this.eventListeners[t]=this.eventListeners[t]||[],this.eventListeners[t].push(n)}once(t,n){n.$emitOnce=!0,this.on(t,n)}removeListener(t,n){if(this.eventListeners[t]){const r=this.eventListeners[t].findIndex(a=>a===n);r>=0&&this.eventListeners[t].splice(r,1)}}removeAllListeners(t){this.eventListeners[t]&&(this.eventListeners[t].length=0)}emit(t,...n){this.eventListeners[t]&&this.eventListeners[t].forEach(r=>{r.call(this,...n),r.$emitOnce&&this.removeListener(t,r)})}}const mf=new VZ;let Rp=null,N2=pn==null?void 0:pn.readText(),I2=pn==null?void 0:pn.readImage();pn&&(pn.on=(e,t)=>(mf.on(e,t),pn),pn.once=(e,t)=>(mf.once(e,t),pn),pn.off=(e,t)=>(t?mf.removeListener(e,t):mf.removeAllListeners(e),pn),pn.startWatching=()=>(Rp||(Rp=setInterval(()=>{zZ(N2,N2=pn==null?void 0:pn.readText())&&mf.emit("text-changed"),$Z(I2,I2=pn==null?void 0:pn.readImage())&&mf.emit("image-changed")},500)),pn),pn.stopWatching=()=>(Rp&&clearInterval(Rp),Rp=null,pn));function zZ(e,t){return t&&e!==t}function $Z(e,t){return!t.isEmpty()&&e.toDataURL()!==t.toDataURL()}var P2;const K0=(P2=require("electron"))==null?void 0:P2.remote;var j2,B2;const A2=(B2=(j2=require("electron"))==null?void 0:j2.remote)==null?void 0:B2.screen;class qZ{constructor(t,n){ye(this,"isRegisted");ye(this,"leaf");ye(this,"clipboard");ye(this,"isScreenTop",!1);ye(this,"currentSplitWindow");ye(this,"intervalNum");ye(this,"allowsCopy",!1);ye(this,"plugin");ye(this,"actionEl",null);this.app=t,this.plugin=n,this.isRegisted=!1,this.leaf=null,this.clipboard=pn}async onload(){F.Platform.isDesktop&&(this.initGlobalCopyEvents(),await this.registerAllShortcuts(),this.registerEvents())}registerEvents(){this.plugin.registerEvent(this.app.workspace.on("quit",()=>{K0.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally)}))}initGlobalCopyEvents(){this.plugin.addCommand({id:"init-global-copy-events",name:O("Global copy"),callback:()=>{this.allowsCopy=!this.allowsCopy,!this.allowsCopy&&this.clipboard.stopWatching(),this.allowsCopy&&this.clipboard.startWatching(),this.leaf&&this.allowsCopy&&(this.actionEl=this.leaf.view.addAction("clipboard-x","Stop global copying",()=>{var t;this.allowsCopy=!1,this.clipboard.stopWatching(),(t=this.actionEl)==null||t.remove()}))}})}onunload(){this.isRegisted&&(K0.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally),this.clipboard.off("text-changed"),this.clipboard.off("image-changed"),this.clipboard.stopWatching(),this.leaf&&this.leaf.detach())}getCurrentLeaf(){var n;return this.leaf?this.app.workspace.getLeavesOfType("thino_view").length>0&&!!this.app.workspace.getLeafById(this.leaf.id)?!0:((n=this.leaf)==null||n.detach(),this.currentSplitWindow.close(),this.currentSplitWindow=null,this.leaf=null,this.isScreenTop=!1,!1):!1}async registerAllShortcuts(){K0.globalShortcut.register(this.plugin.settings.CaptureKey.OpenThinoGlobally,()=>{this.getCurrentLeaf()?this.showThinoView():this.openThinoView()}),this.isRegisted=!0}showThinoView(){var r,a,i,s;const t=A2.getCursorScreenPoint(),n=(s=(i=(a=(r=this.leaf)==null?void 0:r.parent)==null?void 0:a.parent)==null?void 0:i.win)==null?void 0:s.electronWindow;if(n){if(n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),n.isMinimized()&&n.restore(),n.focus(),this.plugin.settings.CaptureKey.ShowNearMouse){const{width:c,height:d}=n.getBounds();n.setBounds({x:t.x,y:t.y,width:c,height:d})}if(this.app.workspace.trigger("focus-on-textarea"),this.isScreenTop){this.isScreenTop=!1,setTimeout(()=>{n.setAlwaysOnTop(!1,"screen")},200);return}this.isScreenTop=!0}}openThinoView(){var i,s,c,d,h;this.leaf=this.app.workspace.openPopoutLeaf({size:{width:400,height:400}});const t=this.leaf;this.leaf.setViewState({type:"thino_view"}),setTimeout(()=>{t.view.containerEl.classList.toggle("mobile-view",!0)},0),this.currentSplitWindow=(s=(i=this.leaf)==null?void 0:i.parent)==null?void 0:s.parent;const n=(h=(d=(c=this.leaf)==null?void 0:c.parent)==null?void 0:d.parent)==null?void 0:h.win.electronWindow;if(!n)return;n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.isScreenTop=!0;const r=this.app,a=g=>{var b,T,E;const m=A2.getCursorScreenPoint(),w=(E=(T=(b=t==null?void 0:t.parent)==null?void 0:b.parent)==null?void 0:T.win)==null?void 0:E.electronWindow;if(w){if(w.isMinimized()&&w.restore(),!this.isScreenTop&&this.plugin.settings.CaptureKey.ShowNearMouse){const{width:M,height:k}=w.getBounds();w.setBounds({x:m.x,y:m.y-200,width:M,height:k})}w.setAlwaysOnTop(!0,"screen"),r.workspace.trigger("focus-on-textarea"),r.workspace.trigger("send-to-thino",g,t)}};this.clipboard.on("text-changed",()=>{const g=this.clipboard.readText();a(g)}).on("image-changed",()=>{const g=this.clipboard.readImage();a(g)})}}class WZ extends F.Modal{constructor(n){super(n);ye(this,"root")}onOpen(){const{contentEl:n,modalEl:r}=this;try{this.root=TQ(n),r.toggleClass("memos-editor-modal",!0),setTimeout(()=>{var a;(a=n.querySelector("textarea"))==null||a.focus()},10)}catch(a){console.error(a)}}onClose(){this.root.unmount(),this.containerEl&&this.containerEl.empty()}}class O2 extends F.EditorSuggest{constructor(n,r){super(n);ye(this,"root");ye(this,"editor");ye(this,"cursor");ye(this,"plugin");ye(this,"tags");ye(this,"type","customTag");ye(this,"HASHTAG_REGEX",/(^|\s)#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]*$/g);this.plugin=r}checkSettings(){return this.plugin.settings.UseVaultTags}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const a=(i=r.parentElement)==null?void 0:i.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const a=F.prepareFuzzySearch(n);return r.map(s=>{const c=a(s);return c?{item:s,match:c}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r)||this.checkSettings())return null;this.tags=Me.getState().tags,this.cursor=n,this.editor=r;const a=n.line,i=r.getLine(a),s=i.substr(0,n.ch);if(s.match(this.HASHTAG_REGEX)&&i.substr(n.ch,1)!=="#"){const c=s.lastIndexOf("#"),d=s.substr(c+1);return{start:{line:a,ch:c},end:{line:a,ch:n.ch},query:d}}return null}getSuggestions(n){return this.fuzzySearchItemsOptimized(n.query,this.tags).map(r=>r.item).sort((r,a)=>r.localeCompare(a))||[]}renderSuggestion(n,r){r.setText(n)}selectSuggestion(n){if(this.context){const r=this.context.editor,a=this.context.start,i=this.context.end;r.transaction({changes:[{from:a,to:i,text:"#"+n+" "}]}),setTimeout(function(){return r.focus()})}this.close()}}const ab=crypto,nC=e=>e instanceof CryptoKey,Rg=new TextEncoder,ob=new TextDecoder;function GZ(...e){const t=e.reduce((a,{length:i})=>a+i,0),n=new Uint8Array(t);let r=0;for(const a of e)n.set(a,r),r+=a.length;return n}const KZ=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},Q0=e=>{let t=e;t instanceof Uint8Array&&(t=ob.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return KZ(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class iy extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class QZ extends iy{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class sy extends iy{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class vr extends iy{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class ZZ extends iy{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function ns(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Lg(e,t){return e.name===t}function Z0(e){return parseInt(e.name.slice(4),10)}function JZ(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function XZ(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function eJ(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!Lg(e.algorithm,"HMAC"))throw ns("HMAC");const r=parseInt(t.slice(2),10);if(Z0(e.algorithm.hash)!==r)throw ns(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Lg(e.algorithm,"RSASSA-PKCS1-v1_5"))throw ns("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(Z0(e.algorithm.hash)!==r)throw ns(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Lg(e.algorithm,"RSA-PSS"))throw ns("RSA-PSS");const r=parseInt(t.slice(2),10);if(Z0(e.algorithm.hash)!==r)throw ns(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw ns("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!Lg(e.algorithm,"ECDSA"))throw ns("ECDSA");const r=JZ(t);if(e.algorithm.namedCurve!==r)throw ns(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}XZ(e,n)}function rC(e,t,...n){var r;if(n.length>2){const a=n.pop();e+=`one of type ${n.join(", ")}, or ${a}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const R2=(e,...t)=>rC("Key must be ",e,...t);function aC(e,t,...n){return rC(`Key for the ${e} algorithm must be `,t,...n)}const oC=e=>nC(e),wi=["CryptoKey"],tJ=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const a=Object.keys(r);if(!n||n.size===0){n=new Set(a);continue}for(const i of a){if(n.has(i))return!1;n.add(i)}}return!0};function nJ(e){return typeof e=="object"&&e!==null}function L2(e){if(!nJ(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const rJ=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},ll=(e,t,n=0)=>{n===0&&(t.unshift(t.length),t.unshift(6));const r=e.indexOf(t[0],n);if(r===-1)return!1;const a=e.subarray(r,r+t.length);return a.length!==t.length?!1:a.every((i,s)=>i===t[s])||ll(e,t,r+1)},_2=e=>{switch(!0){case ll(e,[42,134,72,206,61,3,1,7]):return"P-256";case ll(e,[43,129,4,0,34]):return"P-384";case ll(e,[43,129,4,0,35]):return"P-521";case ll(e,[43,101,110]):return"X25519";case ll(e,[43,101,111]):return"X448";case ll(e,[43,101,112]):return"Ed25519";case ll(e,[43,101,113]):return"Ed448";default:throw new sy("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},aJ=async(e,t,n,r,a)=>{let i,s;const c=new Uint8Array(atob(n.replace(e,"")).split("").map(h=>h.charCodeAt(0))),d=t==="spki";switch(r){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`},s=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`},s=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`},s=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"},s=d?["verify"]:["sign"];break;case"ES384":i={name:"ECDSA",namedCurve:"P-384"},s=d?["verify"]:["sign"];break;case"ES512":i={name:"ECDSA",namedCurve:"P-521"},s=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const h=_2(c);i=h.startsWith("P-")?{name:"ECDH",namedCurve:h}:{name:h},s=d?[]:["deriveBits"];break}case"EdDSA":i={name:_2(c)},s=d?["verify"]:["sign"];break;default:throw new sy('Invalid or unsupported "alg" (Algorithm) value')}return ab.subtle.importKey(t,c,i,(a==null?void 0:a.extractable)??!1,s)},oJ=(e,t,n)=>aJ(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);async function iJ(e,t,n){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return oJ(e,t,n)}const sJ=(e,t)=>{if(!(t instanceof Uint8Array)){if(!oC(t))throw new TypeError(aC(e,t,...wi,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${wi.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},lJ=(e,t,n)=>{if(!oC(t))throw new TypeError(aC(e,t,...wi));if(t.type==="secret")throw new TypeError(`${wi.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${wi.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${wi.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${wi.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${wi.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},uJ=(e,t,n)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?sJ(e,t):lJ(e,t,n)};function cJ(e,t,n,r,a){if(a.crit!==void 0&&r.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(s=>typeof s!="string"||s.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;n!==void 0?i=new Map([...Object.entries(n),...t.entries()]):i=t;for(const s of r.crit){if(!i.has(s))throw new sy(`Extension Header Parameter "${s}" is not recognized`);if(a[s]===void 0)throw new e(`Extension Header Parameter "${s}" is missing`);if(i.get(s)&&r[s]===void 0)throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(r.crit)}const fJ=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};function dJ(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new sy(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function pJ(e,t,n){if(nC(t))return eJ(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(R2(t,...wi));return ab.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(R2(t,...wi,"Uint8Array"))}const hJ=async(e,t,n,r)=>{const a=await pJ(e,t,"verify");rJ(e,a);const i=dJ(e,a.algorithm);try{return await ab.subtle.verify(i,a,n,r)}catch{return!1}};async function mJ(e,t,n){if(!L2(e))throw new vr("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new vr('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new vr("JWS Protected Header incorrect type");if(e.payload===void 0)throw new vr("JWS Payload missing");if(typeof e.signature!="string")throw new vr("JWS Signature missing or incorrect type");if(e.header!==void 0&&!L2(e.header))throw new vr("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const E=Q0(e.protected);r=JSON.parse(ob.decode(E))}catch{throw new vr("JWS Protected Header is invalid")}if(!tJ(r,e.header))throw new vr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...r,...e.header},i=cJ(vr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,a);let s=!0;if(i.has("b64")&&(s=r.b64,typeof s!="boolean"))throw new vr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:c}=a;if(typeof c!="string"||!c)throw new vr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const d=n&&fJ("algorithms",n.algorithms);if(d&&!d.has(c))throw new QZ('"alg" (Algorithm) Header Parameter value not allowed');if(s){if(typeof e.payload!="string")throw new vr("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new vr("JWS Payload must be a string or an Uint8Array instance");let h=!1;typeof t=="function"&&(t=await t(r,e),h=!0),uJ(c,t,"verify");const g=GZ(Rg.encode(e.protected??""),Rg.encode("."),typeof e.payload=="string"?Rg.encode(e.payload):e.payload);let m;try{m=Q0(e.signature)}catch{throw new vr("Failed to base64url decode the signature")}if(!await hJ(c,t,m,g))throw new ZZ;let b;if(s)try{b=Q0(e.payload)}catch{throw new vr("Failed to base64url decode the payload")}else typeof e.payload=="string"?b=Rg.encode(e.payload):b=e.payload;const T={payload:b};return e.protected!==void 0&&(T.protectedHeader=r),e.header!==void 0&&(T.unprotectedHeader=e.header),h?{...T,key:t}:T}async function gJ(e,t,n){if(e instanceof Uint8Array&&(e=ob.decode(e)),typeof e!="string")throw new vr("Compact JWS must be a string or Uint8Array");const{0:r,1:a,2:i,length:s}=e.split(".");if(s!==3)throw new vr("Invalid Compact JWS");const c=await mJ({payload:a,protected:r,signature:i},t,n),d={payload:c.payload,protectedHeader:c.protectedHeader};return typeof t=="function"?{...d,key:c.key}:d}const vJ={webId:"globe-2",pinned:"pin",archived:"archive",visibility:"eye",deleted:"trash"};class yJ extends bi.WidgetType{constructor(n,r,a,i,s){super();ye(this,"error",!1);this.view=n,this.plugin=r,this.target=a,this.type=i,this.to=s}eq(n){return this.target===n.target}toDOM(){const n=createSpan();return n.toggleClass("thino-inline-widget",!0),F.setIcon(n,vJ[this.type]||"help-circle"),F.setTooltip&&F.setTooltip(n,this.target),n}}function wJ(e){class t{constructor(a){ye(this,"view");ye(this,"match",new bi.MatchDecorator({regexp:/\[(webId|pinned|archived|visibility|deleted)::([^\]]+)\]/g,decorate:(a,i,s,c,d)=>{this.shouldRender(d,i,s)&&a(i,s,bi.Decoration.replace({widget:new yJ(d,e,c[0],c[1],s)}))}}));ye(this,"decorations",bi.Decoration.none);this.view=a,this.updateDecorations(a)}update(a){this.updateDecorations(a.view,a)}destroy(){this.decorations=bi.Decoration.none}updateDecorations(a,i){!i||this.decorations.size===0?this.decorations=this.match.createDeco(a):this.decorations=this.match.updateDeco(i,this.decorations)}isLivePreview(a){return a.field(F.editorLivePreviewField)}shouldRender(a,i,s){return!a.state.selection.ranges.some(d=>d.from<=i?d.to>=i:d.from<=s)&&this.isLivePreview(a.state)}}const n={decorations:r=>r.decorations.update({filter:(a,i,s)=>{const c=s.spec.widget;return c&&c.error?!1:a===i||!r.view.state.selection.ranges.filter(d=>{const h=d.from,g=d.to;return h<=a?g>=a:h<=i}).length}})};return bi.ViewPlugin.fromClass(t,n)}const bJ=e=>e.ctrlKey!==void 0||e.metaKey!==void 0||e.shiftKey!==void 0||e.altKey!==void 0,_g=()=>{new F.Notice(O("Open Memos Successfully"))},Pg=[{id:"open-thino-in-left-sidebar",shortName:O("Left sidebar"),name:O("Open thino in left sidebar"),icon:"arrow-left",location:"left",cb:_g,modKeys:"shift"},{id:"open-thino-in-right-sidebar",shortName:O("Right sidebar"),name:O("Open thino in right sidebar"),icon:"arrow-right",location:"right",cb:_g,modKeys:["ctrl","meta"]},{id:"open-thino-in-float",shortName:O("Float window"),name:O("Open thino in float window"),icon:"layout",location:"float",cb:_g,modKeys:"alt"},{id:"open-thino-in-center",shortName:O("Center window"),name:O("Open thino in center window"),icon:"tv-2",location:"center",cb:_g,modKeys:void 0}];class DJ extends F.Plugin{constructor(){super(...arguments);ye(this,"settings");ye(this,"settingTab");ye(this,"triggerBySelf",!1);ye(this,"updatedID","");ye(this,"debounceTimer",0);ye(this,"apiHttpServer",null);ye(this,"captureService",null);ye(this,"loaded",!1)}async onload(){await this.loadSettings(),CQ(),this.registerRibbon(),await this.verify(),this.settingTab=new PQ(this.app,this),this.addSettingTab(this.settingTab),this.initEditor(),this.initURIHandler(),this.registerMobileEvent(),this.registerCommands(),this.registerCanvasNodeMemos(),this.registerHoverEvent(),this.registerEditorSuggest(new DQ(this.app,this)),this.registerEditorExtension([OZ]),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this)),this.registerView(Ar,n=>new bu(n,this))}async loadSettings(){this.settings=Object.assign({},Mo,await this.loadData()),ct.setSettings(this.settings)}async saveSettings(){await this.saveData(this.settings),ct.setSettings(this.settings)}onunload(){var r;this.app.workspace.detachLeavesOfType(Ar),Me.clearMemos(),xe.dispatch({type:"CLEAR_MEMOS",payload:null}),xe.dispatch({type:"CLEAR_FILES",payload:null}),xe.dispatch({type:"CLEAR_VIEW",payload:null});const n=document.body.find(".dialog-wrapper");n&&((r=n.parentElement)==null||r.detach()),this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null),this.captureService&&this.captureService.onunload(),new F.Notice(O("Close Memos Successfully"))}initEditor(){const n=()=>{const r=this.app.embedRegistry;if(!r)return!1;const a=r.embedByExtension.md,i=createEl("div"),s=a({app:this.app,containerEl:i},null,null);if(s.editable=!0,s.set(""),s.showEditor(),!s.editMode)return!1;const c=Object.getPrototypeOf(Object.getPrototypeOf(s.editMode));return ct.setEditor(c),i.detach(),!0};this.app.workspace.onLayoutReady(()=>{n()||this.app.workspace.onLayoutReady(()=>{setTimeout(()=>{n()},100)})}),this.register(ov(F.MetadataCache.prototype,{getFileCache:r=>function(a){return!(a!=null&&a.path)&&!a?null:r.call(this,a)}}))}initApp(){ct.setApp(this.app)}initURIHandler(){this.registerObsidianProtocolHandler("thino",async n=>{var s,c,d,h;if(!n)return;if(n.userid)try{const g=n.userid;_Z(g,this.app),PZ(F.moment().add(30,"days").valueOf(),this.app),rt.setRefresh(!0)}catch(g){console.error(g),new F.Notice(O("Failed to verify"))}if(n.token)try{const g=n.token;(s=this.app)==null||s.saveLocalStorage("tokenForSync",g),setTimeout(()=>{this.app.setting.open(),this.app.setting.openTabById(this.manifest.id??"obsidian-memos"),this.settingTab.display()},200),new F.Notice(O("Saved sync token successfully"))}catch(g){console.error(g),new F.Notice(O("Failed to save"))}if(n.copyToken){this.app.setting.open(),this.app.setting.openTabById(this.manifest.id??"obsidian-memos");const g=!F.Platform.isDesktop&&await((c=window.Capacitor)==null?void 0:c.Plugins.Device.getId()),m=F.Platform.isDesktop?await Un():g.identifier||g.uuid;await navigator.clipboard.writeText(m),new F.Notice(O("Copied app id successfully"))}const r=(d=ct.getState())==null?void 0:d.verifyState,a=!F.Platform.isDesktop&&await((h=window.Capacitor)==null?void 0:h.Plugins.Device.getId()),i=F.Platform.isDesktop?await Un():a.identifier||a.uuid;if(!(!r||r.appId!==i)){if(n.content){const g=n.type,m=decodeURI(n.content)!==n.content?decodeURI(n.content):n.content,w=n.task,b=await Me.createThino({content:m,type:g,isList:!!w});if(!b)return;Me.pushMemo(b),it.clearQuery()}n.openId&&await Me.openThinoByID(n.openId)}})}initGlobalManifest(){rt.setPluginManifest(this.manifest)}stopServer(){this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null)}async initServer(){var i,s;if(F.Platform.isMobile||!this.settings.EnabledHttpApi)return;const n=(i=ct.getState())==null?void 0:i.verifyState,r=!F.Platform.isDesktop&&await((s=window.Capacitor)==null?void 0:s.Plugins.Device.getId()),a=F.Platform.isDesktop?await Un():r.identifier||r.uuid;!n||n.appId!==a||(this.apiHttpServer=UZ(this.settings),this.initServerPort())}initServerPort(){this.apiHttpServer&&this.settings.EnabledHttpApi&&this.apiHttpServer.listen(this.settings.HttpApiIpType,this.settings.HttpApiPort)}async initCaptureService(){var i,s;if(F.Platform.isMobile||!this.settings.CaptureKey.EnableCaptureKey)return;const n=(i=ct.getState())==null?void 0:i.verifyState,r=!F.Platform.isDesktop&&await((s=window.Capacitor)==null?void 0:s.Plugins.Device.getId()),a=F.Platform.isDesktop?await Un():r.identifier||r.uuid;!n||n.appId!==a||(this.captureService=new qZ(this.app,this),await this.captureService.onload())}registerMobileEvent(){F.Platform.isMobile&&(this.registerEvent(this.app.workspace.on("receive-text-menu",(n,r)=>{n.addItem(a=>{a.setIcon("popup-open").setTitle(O("Insert as Memo")).onClick(async()=>{const i=await Me.createMemoDaily(r,!1);Me.pushMemo(i)})})})),this.registerEvent(this.app.workspace.on("receive-files-menu",(n,r)=>{n.addItem(a=>{a.setIcon("popup-open").setTitle(O("Insert file as memo content")).onClick(async()=>{const i=r.map(c=>this.app.fileManager.generateMarkdownLink(c,c.path)),s=await Me.createMemoDaily(i.join(`
`),!1);Me.pushMemo(s)})})})))}registerCommands(){Pg.forEach(n=>{this.addCommand({id:n.id,name:n.name,callback:()=>this.openMemos(n.location,n.cb),hotkeys:[]})}),F.Platform.isDesktop&&this.addCommand({id:"show-thino-editor",name:O("Show thino editor"),checkCallback:n=>{if(Me.initialized&&ct.initialized)return n||new WZ(this.app).open(),!0}}),this.addCommand({id:"toggle-minimal-thino",name:O("Toggle minimal mode"),callback:()=>{const n=document.body.hasClass("minimal-thino");document.body.toggleClass("minimal-thino",!n)}}),this.addCommand({id:"focus-on-thino-editor",name:O("Focus on thino editor"),callback:()=>this.focusOnEditor(),hotkeys:[]}),this.addCommand({id:"reinit-thino-sync",name:O("ReSync web thinos to local"),callback:()=>{lQ(this.app)}}),this.addCommand({id:"init-thino-sync",name:O("Sync local thinos to web"),callback:async()=>{var r;if(!((r=this.app)==null?void 0:r.loadLocalStorage("tokenForSync"))){new F.Notice(O("Please input token first"));return}if(!this.settings.startSync){new F.Notice(O("Please enable sync first"));return}try{await Me.initSync()}catch(a){console.error(a),new F.Notice(O("Init Failed"))}}}),this.addCommand({id:"show-daily-thino",name:O("Show daily thino view"),callback:()=>this.openDailyMemo(),hotkeys:[]}),this.addCommand({id:"focus-on-search-bar",name:O("Focus on search bar"),callback:()=>this.searchIt(),hotkeys:[]}),this.addCommand({id:"show-thino-in-popover",name:O("Show-thino in popover(Hover editor)"),callback:()=>this.showInPopover(),hotkeys:[]})}async onLayoutReady(){this.initApp(),this.initServer(),this.initGlobalManifest(),await this.initMemos(),this.autoOpenMemos(),this.registerThinoWidget(),this.registerToolbarCheck(),await this.initCaptureService(),ct.setPlugin(this);const n=this.app.workspace.editorSuggest.suggests.findIndex(r=>r.type==="customTag");n!==-1?(this.app.workspace.editorSuggest.suggests.splice(n,1),this.app.workspace.editorSuggest.suggests.unshift(new O2(this.app,this))):this.app.workspace.editorSuggest.suggests.unshift(new O2(this.app,this))}async initMemos(){await ct.fechLocalDailyNotes(),await Me.fetchAllMemos(),ct.getState(),Me.getState()}registerCanvasNodeMemos(){if(!F.requireApiVersion("1.2.0"))return;const n=i=>{clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>{setTimeout(async()=>{const s=i.canvas.getData(),c=s.nodes.find(d=>d.id===i.id);if(c&&(r(c),i.canvas.setData(s),Me.getMemoById(i.id))){const h=await Me.updateMemo(i.id,c.text,c.thinoType);Me.editMemo(h)}i.canvas.requestSave(!0)},0)},800)},r=i=>{i.createdAt||(i.createdAt=F.moment().format("YYYY-MM-DD HH:mm:ss")),i.updatedAt=F.moment().format("YYYY-MM-DD HH:mm:ss"),i.deletedAt=i.deletedAt?i.deletedAt:"",i.pinned=i.pinned?i.pinned:!1,i.visibility=i.visibility?i.visibility:"PUBLIC",i.rowStatus=i.rowStatus?i.rowStatus:"NORMAL",i.thinoType=i.thinoType?i.thinoType:"JOURNAL",i.hasId=i.hasId?i.hasId:"",i.linkId=i.linkId?i.linkId:"",i.resourceList=[]},a=()=>{var w,b;const i=(w=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:w.view;if(!i||!(i==null?void 0:i.canvas))return!1;const c=((b=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:b.view).canvas.nodes.values(),h=Array.from(c).filter(T=>T.text!==void 0);if(!h||h.length===0)return!1;const g=h[0].child;if(!g)return!1;const m=ov(g.constructor.prototype,{save:T=>function(...E){T.call(this,...E),this.node.isEditing&&n(this.node)}});return this.register(m),!0};this.app.workspace.onLayoutReady(()=>{if(!a()){const i=this.app.workspace.on("layout-change",()=>{a()&&this.app.workspace.offref(i)});this.registerEvent(i)}})}registerHoverEvent(){this.registerHoverLinkSource("thino",{defaultMod:!0,display:"Thino"})}registerRibbon(){this.addRibbonIcon("Memos",O("ribbonIconTitle"),async n=>{if(n.button===2){n.preventDefault();const r=new F.Menu;Pg.forEach(a=>{r.addItem(i=>{i.setTitle(a.shortName).setIcon(a.icon).onClick(async()=>{await this.openMemos(a.location,a.cb)})})}),r.showAtMouseEvent(n);return}for(let r=0;r<Pg.length;r++){const a=Pg[r];if(!a.modKeys){await this.openMemos(a.location,a.cb);break}if(!bJ(n))continue;const i=s=>n[`${s}Key`];if(typeof a.modKeys=="string"&&i(a.modKeys)||Array.isArray(a.modKeys)&&a.modKeys.some(i)){await this.openMemos(a.location,a.cb);break}}})}registerThinoWidget(){this.registerEditorExtension([wJ(this)])}async registerToolbarCheck(){var i,s;if(this.loaded)return;const n=(i=ct.getState())==null?void 0:i.verifyState,r=!F.Platform.isDesktop&&await((s=window.Capacitor)==null?void 0:s.Plugins.Device.getId()),a=F.Platform.isDesktop?await Un():r.identifier||r.uuid;!n||n.appId!==a||(this.registerEditorExtension([FZ(this.app)]),this.registerEditorSuggest(new SQ(this.app,this)),this.loaded=!0)}async verify(){let n="";if(F.Platform.isDesktop)n=await Un();else{const a=await window.Capacitor.Plugins.Device.getId();n=a.identifier||a.uuid}async function r(a){if(!a)return ct.setVerifyState(null),!1;const c=await iJ(`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr+i4MLzI40gGFHl7gdRH
UL1mH0NcWEs1/IBYDDbc9ALbvUGwDaUcVIKke+b+F4T7qISexyGd5qV0s1vNYeCk
iCTq4w3+CFDurIFYAgQYTcV6K5pL8Bpb79FEclsTnAcKgiuzKBxPZ1djKxbgnmFj
+PE+EcmX+JJK9hG1O8X+YFJoPJWl225eCoysONickiI7Ndwu9YLR8pIUb1VMyJSy
cMR87z466Nc5Hx2QhwyuiiQYL3Ru4WkNF3AVWgqeOlhBDybFFwDaV7OOMTiYtH46
3iKx6azEVS8W/gYfrW+hKp2VziPPw3oxouP/wCes/4qRlXkwyjSwtfLtpE4Rsa4+
swIDAQAB
-----END PUBLIC KEY-----`,"RS256");try{const{payload:d}=await gJ(a,c),h=JSON.parse(new TextDecoder().decode(d));return!h||h.iss!=="pkmer"||h.type!=="thino"||h.appId!==n?!1:(ct.setVerifyState(h),!0)}catch(d){console.error(d)}}return await r(this.settings.tokenForVerify[n])}autoOpenMemos(){this.app.workspace.getLeavesOfType(Ar).length>0||this.settings.MobileAndDesktop==="Mobile"&&F.Platform.isDesktop||this.settings.MobileAndDesktop==="Desktop"&&F.Platform.isMobile||this.settings.OpenMemosAutomatically&&this.openMemos()}openDailyMemo(){const n=this.app.workspace.getLeavesOfType(Ar);if(!this.settings.OpenDailyMemosWithMemos){Up();return}if(n.length>0){Up();return}this.openMemos(),Up()}async openMemos(n="center",r){const a=this.app.workspace;if(a.getLeavesOfType(Ar).length>0){const s=a.getLeavesOfType(Ar)[0];a.setActiveLeaf(s),a.revealLeaf(s);return}a.detachLeavesOfType(Ar);let i;switch(n){case"left":i=a.getLeftLeaf(!1);break;case"right":i=a.getRightLeaf(!1);break;case"float":i=a.getLeaf("window");break;default:i=a.getLeaf(!1);break}if(i&&(await i.setViewState({type:Ar}),a.revealLeaf(i)),this.settings.FocusOnEditor){const s=i.view.containerEl.querySelector("textarea");s&&s.focus()}r==null||r()}searchIt(){const n=this.app.workspace,r=n.getLeavesOfType(Ar);if(!(r.length>0)){this.openMemos();return}const a=r[0];n.setActiveLeaf(a),a.view.containerEl.querySelector(".search-bar-inputer .text-input").focus()}async focusOnEditor(){if(!(this.app.workspace.getLeavesOfType(Ar).length>0)){await this.openMemos();return}this.app.workspace.trigger("focus-on-textarea")}changeStatus(){const n=this.app.workspace,r=n.getLeavesOfType(Ar);if(!(r.length>0)){new F.Notice(O("Please Open Memos First"));return}const a=r[0];n.setActiveLeaf(a),a.view.containerEl.querySelector(".list-or-task").click()}async showInPopover(){var i,s,c;const n=this.app.workspace;if(n.detachLeavesOfType(Ar),!this.app.plugins.getPlugin("obsidian-hover-editor")){new F.Notice(O("Please install obsidian-hover-editor plugin first"));return}const a=await((i=this.app.plugins.getPlugin("obsidian-hover-editor"))==null?void 0:i.spawnPopover());a&&(await a.setViewState({type:Ar}),n.revealLeaf(a),a.view.containerEl.classList.add("mobile-view"),(s=this.settings)!=null&&s.FocusOnEditor&&a.view.containerEl.querySelector("textarea")!==void 0&&((c=a.view.containerEl.querySelector("textarea"))==null||c.focus()))}}module.exports=DJ;
